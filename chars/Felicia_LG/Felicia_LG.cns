;==================================================================;
;                 CNS File for Felicia (Chronicle)                 ;
;                                by                                ;
;                            Jesuszilla                            ;
;==================================================================;

;--------------------- Variable List ----------------------

;  Var(0) - EX PalFX Time Counter
;  Var(1) - Dash Attack
;  Var(2) - Jump States
;  Var(3) - Rolling Buckler Hit Count
;  Var(4) - ES PalFX Time Counter
;  Var(5) - Blood SparkNo
;  Var(6) - MoveContactTime
;  Var(7) - Throw
;  Var(8) - Throw
;  Var(9) - Spark Facing
; Var(10) - Game Select
;           0 = Vampire
;           1 = Vampire Hunter
;           2 = Vampire Savior
;           3 = Vampire Savior 2
;           4 = JZ
; Var(11) - Rolling Scratch Loop
; Var(12) - Rolling Buckler StateTime
; Var(13) - Dark Force Time
; Var(14) - Dark Force Boolean
; Var(15) - Safe Fall
; Var(16) - a.MK buffer
; Var(17) - Tech Roll Buffer
; Var(18) - Advancing Guard
; Var(19) - GetHitVar(hitShakeTime)
; Var(20) - GetHitVar(hitTime)
; Var(21) - Counter Hit
; Var(22) - Differentiation of commands.
; Var(23) - Dark Force Timer Y Axis
; Var(24) - Dark Force Timer Y Axis
; Var(25) - Rolling Scratch follow-up buffer
; Var(26) - Blood Spark Pos X
; Var(27) - Blood Spark Pos Y
; Var(28) - Kitty the Helper Time (VS2)
; Var(29) - Kitty the Helper Boolean (VS2)
; Var(30) -
; Var(31) -
; Var(32) - Dampener
; Var(33) -
; Var(34) - Keyboard Mode (for Vampire)
; Var(35) - Descale Power Gauge
; Var(36) - Power Gauge Display
; Var(37) - Dampener Simplifier
; Var(38) -
; Var(39) -
; Var(40) -
; Var(41) -
; Var(42) -
; Var(43) -
; Var(44) -
; Var(45) - 
; Var(46) -
; Var(47) -
; Var(48) -
; Var(49) -
; Var(50) -
; Var(51) -
; Var(52) -
; Var(53) -
; Var(54) -
; Var(55) -
; Var(56) -
; Var(57) -
; Var(58) -
; Var(59) - 

;--------------------- Float Variable List ----------------------

;  FVar(0) - Descale Groove Bar, WaruFVar(20)
;  FVar(1) - Damage dampener
;  FVar(2) - Tech hit
;  FVar(3) -
;  FVar(4) -
;  FVar(5) - 
;  FVar(6) -
;  FVar(7) - Announcer Voice
;  FVar(8) - Returns Life
;  FVar(9) -
; FVar(10) -
; FVar(11) - Please Help Me!
; FVar(12) - WaruFVar(24)
; FVar(13) - WaruFVar(4)
; FVar(14) - Power Reset, WaruFVar(13)
; FVar(15) - Perfect Win
; FVar(16) - Juggle System, WaruFVar(27)
; FVar(17) - Character Identification
; FVar(18) - Juggle Limiter
; FVar(19) - Juggle Count
; FVar(20) -
; FVar(21) -
; FVar(22) -
; FVar(23) -
; FVar(24) -
; FVar(25) -
; FVar(26) -
; FVar(27) -
; FVar(28) -
; FVar(29) -
; FVar(30) -
; FVar(31) -
; FVar(32) -
; FVar(33) -
; FVar(34) -
; FVar(35) -
; FVar(36) -
; FVar(37) - Power
; FVar(38) -
; FVar(39) - Cornerpush


[Data]
life = 1000
power = 99000 ; I GOT 99 PROBLEMS BUT A BITCH AIN'T ONE
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 24
airjuggle = 0
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 150
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale =  .8333333333333333333333333333333	;Horizontal scaling factor.
yscale = 1;.0714285714285714285714285714286	;Vertical scaling factor.
ground.back = 21	                 	;Player width (back, ground)
ground.front = 21                       	;Player width (front, ground)
air.back = 20	                	        ;Player width (back, air)
air.front = 20	                	        ;Player width (front, air)
height = 60		                	;Height of player (for opponent to jump over)
attack.dist = 160	                	;Default attack distance
proj.attack.dist = 90                   	;Default attack distance for projectiles
proj.doscale = 0                     		;Set to 1 to scale projectiles too
head.pos = -2, -68                   	        ;Approximate position of head
mid.pos = 0, -45;25                     	;Approximate position of midsection
shadowoffset = 0                     		;Number of pixels to vertically offset the shadow
draw.offset = 0,0                     		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3.75                     		;Walk forward
walk.back = -3.125                     		;Walk backward
run.fwd  = 6,0                     		;Run forward (x, y)
run.back = -9,-5	                     	;Hop backward (x, y)
jump.neu = 0,-17	                     	;Neutral jumping velocity (x, y)
             ;13 (VS)
             ;10.125
jump.back = -5.5                     		;Jump back Speed (x, y)
jump.fwd = 5                     		;Jump forward Speed (x, y)
runjump.back = -5.81,-9.4                     	;Running jump speeds (opt)
runjump.fwd = 5.25,-9.4

[Movement]
yaccel = .95833   ;Vertical acceleration
       ;0.71875 Vertical acceleration (VS)
      ;12.28125 second vel change
      ;11.5625   third vel change
      ;10.84375 fourth vel change
stand.friction = .828125           ;Friction coefficient when standing
crouch.friction = .828125          ;Friction coefficient when crouching

[Quotes]
victory0  = "So, cats today aren't all that good at fighting, huh?!"
victory1  = "The best scratching posts are those that are finished the fastest. So your body is excellent for that??"
victory2  = "Is that what one calls \"piece of cake?\" I feel awesome !!"
victory3  = "Eh? Done already? What, you're boring."
victory4  = "I went a little easy on you, but hey. I-- I'm just too strong... Sorry ?."
victory5  = "I think I hate you! Really!!"
victory6  = "It's alright since I won. But I don't want to have anything more to do with you!"
victory7  = "Aah, that was scary. I thought I might lose."
victory8  = "Don't make such a scary face. It's your fault you lost."
victory9  = "It's fine, it's not such a bad wound. It'll heal soon... See-- *lick*"
victory10 = "There, no more of that prick!"
victory11 = "Sorry~~, did it hurt? My bad for making a mess out of you."
victory12 = "Victory is the taste of a wanderer...I'm sleepy!"
victory13 = "When you get a little stronger, we'll be friends, alright?"
victory14 = "Violence doesn't solve anything, but it sure is fun!"
victory15 = "Too baaaadd!! It's my vic to ry !"
victory16 = "Claws are a woman's weapon!"
victory17 = "Hey, you're just like me. Isn't that weird!"
victory18 = "Hey, you're just like me... NOT."
victory19 = "Hey, hey, can I say something? You have a weird face! Kyaahahahaha!!"

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0 ;Stop moving PERIOD

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 1 && PrevStateNo = 855
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 4] ;Wipe yo'self off... YOU DEAD!
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
; Dark Force Activate (VS2)
[Statedef 1]
type = S
physics = S
sprpriority = 0
velset = 0,0
anim = 0
poweradd = -1000

[State 3500, VS]
type = VarSet
trigger1 = !Time
var(13) = 360
[State 3500, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 1

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S6000,10
channel = 13

[State 40, Helper]
type = Helper
trigger1 = !Time
id = 8000
name = "Dark Force"
pos = 0,ceil(-63*Const(Size.Yscale))
postype = p1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 960, Super]
type = Helper
trigger1 = Time = 0
ID = 6170
name = "Time"
pos =0,0
postype = P1
stateno = 6170
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
facing = 1

[State 1, 1]
type = ChangeState
trigger1 = Time = 1
value = 0

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
velset = 0,0

[State 10, 0]
type = AssertSpecial
trigger1 = Time = 0
flag = NoAutoTurn

[State 10, 3]
type = ChangeState
trigger1 = Time = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
sprpriority = 0
velset = 0,0

[State 0, BlockEnd?]
type = ChangeState
trigger1 = PrevStateNo = [140,141]
trigger1 = command != "holddown"
trigger1 = Time = 0
value = 0

[State 12, 1]
type = ChangeAnim
trigger1 = Anim = 12
value = 12
elem = 3 - AnimElemNo(0)

[State 10, 0]
type = ChangeAnim
trigger1 = PrevStateNo = 10
trigger1 = Time = 0
value = 10

[State 10, 0]
type = AssertSpecial
trigger1 = Time = 0
flag = NoAutoTurn

[State 10, 0]
type = AssertSpecial
trigger1 = Time = 0
flag = NoWalk

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
trigger2 = Anim != 6 && Anim != 10 && Anim != 11
trigger3 = Anim = 10 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
velset = 0,0

[State 12, 0]
type = AssertSpecial
trigger1 = Time = 0
flag = NoWalk

[State 12, 1]
type = ChangeAnim
trigger1 = Anim = 10
value = 10
elem = 3 - AnimElemNo(0)

[State 12, 1]
type = ChangeAnim
trigger1 = Anim !=12
value = 12

[State 12, 1]
type = ChangeState
trigger1 = Anim = 12
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = ChangeAnim
triggerall = command = "holdfwd";vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimElemTime(1)=1;AnimTime = 0
value = 20

[State 20, 2]
type = ChangeAnim
triggerall = command = "holdback";vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimElemTime(1)=1
value = 21

[State 20, 3]
type = VelSet
trigger1 = anim = 5
x = 0

[State 20, 4]
type = VelSet
trigger1 = anim = 20
x = const(velocity.walk.fwd.x)*Const(Size.Xscale)*(4.0/3.0)

[State 20, 5]
type = VelSet
trigger1 = anim = 21
x = const(velocity.walk.back.x)*Const(Size.Xscale)*(4.0/3.0)

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1
velset = 0,0

[State 40, 1]
type = VarSet
trigger1 = Time = 1
sysvar(1) = command = "holdfwd"-command = "holdback"

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = N
movetype = I

[State 50, CtrlSet]
type = CtrlSet
triggerall = Var(1)
trigger1 = Time = 3*(Var(10)=2)
value = 1

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 1];VS VelAdd
type = VelAdd
trigger1 = PrevStateNo != 102
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = 0.95833;.71875

[State 50, 1];Short Dash
type = VelAdd
trigger1 = PrevStateNo = 102
x = ifElse(Vel X <= 0, 0, -1.167) ; fib avg. of .875
y = 0.95833;.71875

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
triggerall = PrevStateNo != [600,650]
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 50, 3]
type = ChangeAnim
trigger1 = PrevStateNo = [600,650]
persistent = 0
value = 42
elem = 3+(2*(PrevStateNo=650))

[State 50, ChangeState]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 52, NoWalk]
type = AssertSpecial
trigger1 = Time < 6
flag = NoWalk

[State 52, X]
type = ChangeAnim
trigger1 = Time = 0
value = 47

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
trigger2 = Anim = 47 && AnimElemTime(5) = 0
value = S40,0
channel=1

[State 52, Turn]
type = ChangeState
trigger1 = Time = 0
trigger1 = P2Dist X < 0
value = 0 + 11*(command = "holddown")
ctrl = 1

[State 52, 6]
type = AssertSpecial
trigger1 = Time < 5
flag = NoWalk

[State 52, 3]
type = CtrlSet
trigger1 = Time = 0+1*(command="holdup") && !(PrevStateNo = [600,699])
value = 1
[State 52, 3]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = command = "holddown"
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 100, Explod]
type = Explod
trigger1 = Time = 1
anim = 8040
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 100, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S40,3
channel=1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S100,1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S100,2
persistent = 1

[State 100, 1]
type = VelSet
trigger1 = AnimElemTime(2) >= 0
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, 4]
type = ChangeState
triggerall = AnimElemTime(2) >= 1
trigger1 = command != "holdfwd"
value = 101

;---------------------------------------------------------------------------
; RUN_END
[Statedef 101]
type = S
physics = N
ctrl = 0
anim = 101

[State 101, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 101, 1]
type = VelMul
trigger1 = 1
x = .9

[State 101, 1]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dash Forward
[Statedef 102]
type    = A
physics = N
ctrl = 0
anim = 102

[State 102, 1]
type = VelSet
trigger1 = AnimElemTime(2) = 0
x = 11.5
y = -6.1076875

[State 0, PlayerPush]
type = PlayerPush
trigger1 = AnimElemTime(2) > 0
value = 0

[State 102, 1]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
x = ifElse(Vel X <= 0, 0, -0.5833) ; fib avg of 0.4375
y = 0.768;0.625

[State 102, ChangeState]
type = ChangeState
triggerall = Var(10) > 1
trigger1 = Command = "holdback"
trigger1 = Time > 10
value = 50
ctrl = 1

[State 102, 3]
type = ChangeState
triggerall = AnimElemTime(2) > 0
trigger1 = Pos Y + Vel Y >= 0
value = 103

;---------------------------------------------------------------------------
; Dash Forward Land
[Statedef 103]
type    = S
physics = N
ctrl = 1
anim = 103
velset = 0,0

[State 103, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 103, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,0
channel=1

[State 103, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dash Back
[Statedef 105]
type = A
physics = N
ctrl = 0
anim = 105

[State 105, 1]
type = VelSet
trigger1 = AnimElemTime(2) = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 102, 1]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
x = ifElse(Vel X >= 0, 0, 0.3333) ; fib avg of 0.4375
y = 0.67

[State 105, 3]
type = ChangeState
triggerall = AnimElemTime(2) > 0
trigger1 = Vel Y + Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; Dash Back Land
[Statedef 106]
type = S
physics = S
ctrl = 0
anim = 106
velset = 0,0

[State 106, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S40,0
channel=1

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 106, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Cat Ride
[Statedef 147]
type = A
physics = N
movetype = I
anim = 147
ctrl = 1
velset = 0,0

[State 147, BindToTarget]
type = BindToTarget
triggerall = NumTarget
triggerall = Time <= 1
trigger1 = Target, StateNo = 148
x = 0
y = target, Const(Size.head.pos.y)-7

[State 147, TargetBind]
type = TargetBind
trigger1 = !Time
pos = 0,0
time = 1

[State 147, TargetDrop]
type = null;TargetDrop
triggerall = NumTarget(148)
trigger1 = target, StateNo != 148
trigger2 = command = "x" || command = "y" || command = "z"
trigger3 = command = "a" || command = "b" || command = "c"
ID = 148

[State 147, ChangeState]
type = ChangeState
trigger1 = EnemyNear(0),StateNo != 148;!NumTarget(148)
value = 50

;---------------------------------------------------------------------------
; Cat Ride (P2)
[Statedef 148]
type = S
movetype = H
physics = N
sprpriority = -1
velset = 0,0
ctrl = 1

[State 148, Command]
type = SelfState
triggerall = Time >= 1
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = command = "a" || command = "b" || command = "c"
trigger3 = command = "start"
trigger4 = command = "holdup" || command = "holddown" || command = "holdback" || command = "holdfwd"
value = 0
ctrl = 1

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = !(AuthorName = "Jesuszilla")
triggerall = !(AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
triggerall = !(AuthorName = "Vans")
triggerall = !(AuthorName = ".\/.")
triggerall = !(AuthorName = "Neon Tiger")
triggerall = !(AuthorName = "The_None")
triggerall = !(AuthorName = "Most Mysterious")
triggerall = !(AuthorName = "Most Mysterious (also, TN'79)")
triggerall = !(AuthorName = "Warusaki3")
triggerall = !(AuthorName = "H?")
triggerall = !(AuthorName = "David Demianoff")
triggerall = !(AuthorName = "OrochiKOF97")
trigger1 = command = "y"
value = 200

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = command = "y"
trigger1 = (AuthorName = "Jesuszilla" && FVar(17) = 1)
trigger2 = (AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
trigger3 = (AuthorName = "Vans")
trigger4 = (AuthorName = ".\/.")
trigger5 = (AuthorName = "Neon Tiger")
trigger6 = (AuthorName = "The_None")
trigger7 = (AuthorName = "Most Mysterious")
trigger8 = (AuthorName = "Most Mysterious (also, TN'79)")
trigger9 = (AuthorName = "Warusaki3")
trigger10 = (AuthorName = "H?")
trigger11 = (AuthorName = "David Demianoff")
trigger12 = (AuthorName = "OrochiKOF97")
value = 210

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = !(AuthorName = "Jesuszilla")
triggerall = !(AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
triggerall = !(AuthorName = "Vans")
triggerall = !(AuthorName = ".\/.")
triggerall = !(AuthorName = "Neon Tiger")
triggerall = !(AuthorName = "The_None")
triggerall = !(AuthorName = "Most Mysterious")
triggerall = !(AuthorName = "Most Mysterious (also, TN'79)")
triggerall = !(AuthorName = "Warusaki3")
triggerall = !(AuthorName = "H?")
triggerall = !(AuthorName = "David Demianoff")
triggerall = !(AuthorName = "OrochiKOF97")
trigger1 = command = "z"
value = 200

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = command = "z"
trigger1 = (AuthorName = "Jesuszilla" && FVar(17) = 1)
trigger2 = (AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
trigger3 = (AuthorName = "Vans" && FVar(17) = 1)
trigger4 = (AuthorName = ".\/." && FVar(17) = 1)
trigger5 = (AuthorName = "Neon Tiger")
trigger6 = (AuthorName = "The_None")
trigger7 = (AuthorName = "Most Mysterious")
trigger8 = (AuthorName = "Most Mysterious (also, TN'79)")
trigger9 = (AuthorName = "Warusaki3" && FVar(39) = 1)
trigger10 = (AuthorName = "H?" && Name = "cvsiori")
trigger11 = (AuthorName = "H?" && Name = "cvsmaki")
trigger12 = (AuthorName = "H?" && Name = "cvsraiden")
trigger13 = (AuthorName = "H?" && Name = "cvskyosuke")
trigger14 = (AuthorName = "H?" && Name = "cvsvega")
trigger15 = (AuthorName = "H?" && Name = "cvsmai")
value = 220

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
trigger1 = command = "a"
value = 230

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = !(AuthorName = "Jesuszilla")
triggerall = !(AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
triggerall = !(AuthorName = "Vans")
triggerall = !(AuthorName = ".\/.")
triggerall = !(AuthorName = "Neon Tiger")
triggerall = !(AuthorName = "The_None")
triggerall = !(AuthorName = "Most Mysterious")
triggerall = !(AuthorName = "Most Mysterious (also, TN'79)")
triggerall = !(AuthorName = "Warusaki3")
triggerall = !(AuthorName = "H?")
triggerall = !(AuthorName = "David Demianoff")
triggerall = !(AuthorName = "OrochiKOF97")
trigger1 = command = "b"
value = 230

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = command = "b"
trigger1 = (AuthorName = "Jesuszilla" && FVar(17) = 1)
trigger2 = (AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
trigger3 = (AuthorName = "Vans")
trigger4 = (AuthorName = ".\/.")
trigger5 = (AuthorName = "Neon Tiger")
trigger6 = (AuthorName = "The_None")
trigger7 = (AuthorName = "Most Mysterious")
trigger8 = (AuthorName = "Most Mysterious (also, TN'79)")
trigger9 = (AuthorName = "Warusaki3")
trigger10 = (AuthorName = "H?")
trigger11 = (AuthorName = "David Demianoff")
trigger12 = (AuthorName = "OrochiKOF97")
value = 240

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = !(AuthorName = "Jesuszilla")
triggerall = !(AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
triggerall = !(AuthorName = "Vans")
triggerall = !(AuthorName = ".\/.")
triggerall = !(AuthorName = "Neon Tiger")
triggerall = !(AuthorName = "The_None")
triggerall = !(AuthorName = "Most Mysterious")
triggerall = !(AuthorName = "Most Mysterious (also, TN'79)")
triggerall = !(AuthorName = "Warusaki3")
triggerall = !(AuthorName = "H?")
triggerall = !(AuthorName = "David Demianoff")
triggerall = !(AuthorName = "OrochiKOF97")
trigger1 = command = "c"
value = 230

[State 148, Command]
type = null;SelfState
triggerall = Time >= 1
triggerall = command = "c"
trigger1 = (AuthorName = "Jesuszilla" && FVar(17) = 1)
trigger2 = (AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1)
trigger3 = (AuthorName = "Vans" && FVar(17) = 1)
trigger4 = (AuthorName = ".\/." && FVar(17) = 1)
trigger5 = (AuthorName = "Neon Tiger")
trigger6 = (AuthorName = "The_None")
trigger7 = (AuthorName = "Most Mysterious")
trigger8 = (AuthorName = "Most Mysterious (also, TN'79)")
trigger9 = (AuthorName = "Warusaki3" && FVar(39) = 1)
trigger10 = (AuthorName = "H?" && Name = "cvsiori")
trigger11 = (AuthorName = "H?" && Name = "cvsmaki")
trigger12 = (AuthorName = "H?" && Name = "cvsraiden")
trigger13 = (AuthorName = "H?" && Name = "cvskyosuke")
trigger14 = (AuthorName = "H?" && Name = "cvsvega")
trigger15 = (AuthorName = "H?" && Name = "cvsmai")
value = 250

[State 0, Helper]
type = null;Helper
triggerall = !NumHelper(14324)
trigger1 = !Time
helpertype = normal ;player
name = "negative one"
ID = 14324
stateno = -1
pos = 65535,65535
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermove = 65535
pausemove = 65535

[State 50, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 148, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 148, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 148, ChangeAnim2]
type = ChangeAnim2
triggerall = SelfAnimExist(122207)
trigger1 = !Time
value = 122207

[State 148, ChangeAnim2]
type = ChangeAnim;2
;triggerall = !SelfAnimExist(122207)
trigger1 = 1
value = 5010;148

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y + Pos Y >= 0
type = ChangeState
value = 5100

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = .85

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 52, Explod]
type = Explod
trigger1 = Time = 0
anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = 1,1;.8,.8;5

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = Null;PosSet
trigger1 = Time = 0
y = 20

[State 5101, 4]
type = VelSet
trigger1 = Time = 0
y = -2;-1.6875

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .5;.4625;.3125

[State 5101, 6] ;Hit ground
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 12
trigger1 = Pos Y + Vel Y >= 0
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = null;PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 52, Explod]
type = NULL;Explod
trigger1 = Time = 0
anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = 1,1;.8,.8;5

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = PrevStateNo != 5950
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;----------------------------------------------------------------------------------
; Cheap KO
[Statedef 5950]
physics = S
movetype = H
ctrl = 0
velset = 0,0

[State 5950, 1]
type = HitVelSet
trigger1 = Time = 0
x = 2

[State 5950, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5950, 4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5950, 4]
type = ChangeAnim
trigger1 = !HitOver
value = ifElse(FVar(1)=0,5010,5020)

[State 190, 4]
type = ChangeAnim
trigger1 = HitOver
value = 5950
persistent = 0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimElem = 6
value = 5150

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

; WinQuotes
[State -2, WQ1]
type = VictoryQuote
triggerall = NumEnemy
trigger1 = Enemy, Name = "Leona" || Enemy, Name = "Leona Heidern" || Enemy, Name = "Tin's Leona"
trigger2 = Enemy, Name = "Chun-Li" || Enemy, Name = "cvschunli"
trigger3 = Enemy, Name = "Angela Belti"
value = 16
[State -2, WQ2]
type = VictoryQuote
triggerall = NumEnemy
trigger1 = Enemy, Name = "cvsfelicia" || Enemy, Name = "Felicia_LG"
trigger2 = Enemy, Name = "Felicia" && Enemy, AuthorName = "Pinko"
trigger3 = Enemy, Name = "chamcham" || Enemy, Name = "Cham-Cham" || Enemy, Name = "cham cham"
value = 17
[State -2, WQ3]
type = VictoryQuote
triggerall = NumEnemy
trigger1 = Enemy, Name = "Felicia" && Enemy, AuthorName != "Pinko"
value = 18
[State -2, WQ4]
type = VictoryQuote
triggerall = NumEnemy
trigger1 = Enemy, Name = "Developer Fags You Imbecile"
trigger2 = Enemy, Name = "yo mama" ; OH SNAP
value = 19
[State -2, WQ5]
type = VictoryQuote
triggerall = NumEnemy
trigger1 = Enemy, Name != "Leona" && Enemy, Name != "Leona Heidern" && Enemy, Name != "Tin's Leona"
trigger1 = Enemy, Name != "Chun-Li" && Enemy, Name != "cvschunli"
trigger1 = Enemy, Name != "Angela Belti"
trigger1 = Enemy, Name != "cvsfelicia" && Enemy, Name != "Felicia_LG" && Enemy, Name != "Felicia"
trigger1 = Enemy, Name != "chamcham" && Enemy, Name != "Cham-Cham" && Enemy, Name != "cham cham"
trigger1 = Enemy, Name != "Developer Fags You Imbecile"
trigger1 = Enemy, Name != "yo mama"
value = (random%15)

[State 180, 1]; Win by Perfect
type = ChangeState
triggerall = !FVar(15)
trigger1 = Time = 0
value = 189

[State 180, 2]
type = ChangeState
triggerall = FVar(15)
trigger1 = Time = 0
value = 181+(Random%7);Var(3)

;---------------------------------------------------------------------------
; VS Portrait Mimic >3
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S180,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; NYAN
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 17
value = S8,10

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Ear Scratch
[Statedef 183]
type = S
ctrl = 0
anim = ifElse(Random%2=0,185,182)
velset = 0,0

[State 183, Helper]
type = Helper
trigger1 = Anim = 182 && Time = 0
trigger2 = Anim = 185 && AnimElemTime(10) = 14
helpertype = Normal ;player
name = "Nonno/Tama"
ID = 3110
stateno = 3110
pos = ceil(ifElse(Anim=185,-65,60)*Const(Size.Xscale)),ceil(-220*Const(Size.Yscale))
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 300
flag = RoundNotOver

;---------------------------------------------------------------------------
; ^_^;
[Statedef 184]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 184, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 184, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(39) = 0
value = S8,8

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 200
flag = RoundNotOver

;---------------------------------------------------------------------------
; Rat catch
[Statedef 185]
type = S
ctrl = 0
anim = 188
velset = 0,0
sprpriority = 1

[State 185, ChangeState]
type = ChangeState
trigger1 = !Time
trigger1 = FrontEdgeDist < ceil(160*Const(Size.Xscale))
value = ifElse((FrontEdgeDist > 36 && random%2),186,181+(random%4))

[State 186, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 185, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 147
statetype = A
[State 185, VelSet]
type = VelSet
trigger1 = Time = 147;AnimElemTime(15) = 0
x = 4
y = -5
[State 185, VelAdd]
type = VelAdd
trigger1 = Anim = 188 && Time > 147
y = .625

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Time = 147
value = S40,0
channel = 1

[State 186, Helper]
type = Helper
trigger1 = !Time
helpertype = Normal
name = "Rat"
ID = 1870
stateno = 1870
facing = -1
pos = ceil(160*Const(Size.Xscale)),0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 185, ChangeAnim]
type = ChangeState
triggerall = NumHelper(247)
trigger1 = Time > 147 && Pos Y + Vel Y >= 0
value = 1850

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = RoundNotOver

;---------------------------------------------------------------------------
; land
[Statedef 1850]
type = A
physics = N
sprpriority = 1
velset = 0,0

[State 1850, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 185, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S40,2
channel = 1

[State 1850, Anim]
type = ChangeAnim
trigger1 = !Time
value = 1880+helper(247),var(2)

[State 1850, PosAdd]
type = PosAdd
trigger1 = !Time
x = 8*Const(Size.Xscale)
[State 1850, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
x = 24*Const(Size.Xscale)

[State 192, Explod]
type = Explod
trigger1 = AnimElemTime(3) = 0
ID = 1940
anim = 1940
postype = p1
pos = ceil(-42*Const(size.xscale)),ceil(3*Const(size.yscale))
scale = (Const(size.xscale)),(Const(size.yscale))
shadow = -1
bindtime = -1
removetime = -1
persistent = 0

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 200
flag = RoundNotOver

;---------------------------------------------------------------------------
; ???
[Statedef 1870]
type = A
physics = N
anim = 1913
sprpriority = 0

[State 1870, VarSet]
type = Null
triggerall = NumHelper(247) && !Time
trigger1 = e|| var(0) := helper(247),var(2)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 192, Explod]
type = Explod
trigger1 = Anim=1913 && AnimElemTime(27)=3
ID = 1917
anim = 1917
postype = p1
scale = (Const(size.xscale)),(Const(size.yscale))
shadow = -1
bindtime = -1
removetime = 15
persistent = 0

[State 1870, Anim]
type = ChangeAnim
trigger1 = parent, Anim=1880 && parent, AnimElemTime(2)=0
value = 1914
[State 1870, Anim]
type = ChangeAnim
trigger1 = parent, Anim=1881 && parent, AnimElemTime(1)=0
value = 1915

[State 1870, VelSet]
type = VelSet
trigger1 = Anim=1915 && AnimElemTime(1)=0
x = 2.4
y = -7.5
persistent = 0
[State 1870, VelAdd]
type = VelAdd
trigger1 = Anim=1915
y = .5

[State 1870, BindToParent]
type = BindToParent
trigger1 = Anim=1914 && AnimElemTime(2)=0
time = 1
pos = 0,0
persistent = 0

[State 1870, ChangeAnim]
type = ChangeAnim
triggerall = Time > 179
trigger1 = Anim = 1915 && Pos Y + Vel Y >= -52
value = anim+1

[State 1870, VelSet]
type = VelSet
trigger1 = Anim = 1916
x = 0
y = 0
[State 1870, PosSet]
type = PosSet
trigger1 = Anim = 1916
y = -52
[State 1870, BindToParent]
type = BindToParent
trigger1 = Anim=1916; && AnimElemTime(1)=0
time = 1
facing = parent,Facing
pos = 2,-52
persistent = 0

[State 1850, SprPriority]
type = SprPriority
trigger1 = Anim=1914 && AnimElemTime(3)=0
trigger2 = Anim=1915
value = 2

[State 1870, DTC]
type = DisplayToClipboard
trigger1 = 1
text = "PDist = %f"
params = ParentDist X

[State 1911, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -40
trigger2 = RoundState = 0

;---------------------------------------------------------------------------
; Butterfly
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0
sprpriority = 1

[State 180, 2]
type = ChangeState
trigger1 = !Time
trigger1 = FrontEdgeDist < 36
value = 187

[State 186, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 186, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(247)
trigger1 = Anim = 186 && AnimTime = 0
value = 1870+helper(247),Var(2)

[State 186, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal ;player
name = "Butterfly"
ID = 1860
stateno = 1860
pos = -300,-63
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 192, Explod]
type = Explod
trigger1 = Anim = 1870 && AnimElemTime(4) = 0
ID = 1940
anim = 1940
postype = p1
pos = ceil(-42*Const(size.xscale)),ceil(3*Const(size.yscale))
scale = (Const(size.xscale)),(Const(size.yscale))
shadow = -1
bindtime = -1
removetime = -1
persistent = 0

[State 183, VelSet]
type = VelSet
trigger1 = Anim = 186 && AnimElemTime(17) = 0
x = 2
[State 183, VelSet]
type = VelSet
trigger1 = Anim = 1870 && AnimElemTime(1) = 2
trigger2 = Anim = 1871 && AnimElemTime(2) = 2
x = 0

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Anim = 186 && AnimElemTime(5) = 0
value = S8,8
channel = 0
[State 185, PlaySnd]
type = PlaySnd
trigger1 = Anim = 186 && AnimElemTime(15) = 0
value = S8,14
channel = 0
[State 185, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1870 && AnimElemTime(1) = 0
trigger2 = Anim = 1871 && AnimElemTime(2) = 0
value = S40,0
channel = 1

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 400
flag = RoundNotOver

;---------------------------------------------------------------------------
; Butterfly (NW variant)
[Statedef 187]
type = S
ctrl = 0
anim = 1874
velset = 0,0
sprpriority = 1

[State 180, 0]
type = ChangeState
trigger1 = !Time
trigger1 = BackEdgeDist < 24
trigger1 = FrontEdgeDist >= 36
value = 186
[State 180, 0]
type = ChangeState
trigger1 = !Time
trigger1 = BackEdgeDist < 24
trigger1 = FrontEdgeDist < 36
value = 181+(Random%4)

[State 186, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 186, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal ;player
name = "Butterfly"
ID = 1860
stateno = 1860
pos = 268,-98
facing = -1
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 192, Explod]
type = Explod
trigger1 = AnimElemTime(6)=3
ID = 1917
anim = 1917
postype = p1
facing = -1
pos = ceil(29*(Const(size.xscale))),ceil(-95*(Const(size.yscale)))
scale = (Const(size.xscale)),(Const(size.yscale))
shadow = -1
bindtime = -1
removetime = 11
persistent = 0

[State 183, VelSet]
type = VelSet
trigger1 = AnimElemTime(10) = 0
x = -3
y = -6

[State 183, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(10) > 0 && AnimElemTime(11) < 0
y = 0.83333333333333333333333333333333;Fib avg of 0.625

[State 183, VelSet]
type = VelSet
trigger1 = AnimElemTime(11) = 0
x = 0
y = 0
[State 183, VelSet]
type = PosSet
trigger1 = AnimElemTime(11) = 0
x = 0
y = 0

[State 1850, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(11) = 0
x = -60*Const(Size.Xscale)

[State 185, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = S40,0
channel = 1

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 400
flag = RoundNotOver

;---------------------------------------------------------------------------
; ’±
[Statedef 1860]
type = A
physics = N
anim = 1872
sprpriority = 2

[State 1870, VarSet]
type = Null
triggerall = NumHelper(247) && !Time
trigger1 = e|| var(0) := helper(247),var(2)
trigger1 = e||fvar(0) := 1.15+(.10*var(0))
trigger1 = e||fvar(1) := 1.25+(.50*var(0))

[State 1870, VelSet]
type = VelSet
trigger1 = Anim = 1872 && parent, StateNo = 186
x = fvar(0)+(abs(ParentDist X)/200)
y = sin((pi*time)/60)-(fvar(1)*((Time%8)=0))
;y = sin((pi*time)/60)-(1.75*((Time%8)=0))

[State 1870, VelSet]
type = VelSet
trigger1 = Anim = 1872 && parent, StateNo = 187 && parent, AnimElemTime(10) < 0
x = 4.125+(abs(ParentDist X)/200)
y = sin((pi*time)/60)-(fvar(1)*((Time%8)=0))

[State 1870, PosAdd]
type = PosAdd
triggerall = Anim = 1872
trigger1 = (Time%24)=0 && ifElse((parent,StateNo=187), (parent,AnimElemTime(10)<0), 1)
x = 2.5

[State 1870, VelSet]
type = VelSet
trigger1 = Anim = 1
x = 0
y = 0

[State 1870, Priority]
type = SprPriority
trigger1 = parent, Anim=1870 && parent, AnimElemTime(3)=0
value = 0
[State 1870, BindToParent]
type = BindToParent
trigger1 = parent, Anim=1870 && parent, AnimElemTime(3)=0
time = 1
pos = ceil(37*parent,Const(Size.Xscale)),ceil(-35*parent,Const(Size.Yscale))
[State 1870, BindToParent]
type = BindToParent
trigger1 = parent, Anim=1874 && parent, AnimElemTime(13)=0
time = 1
pos = ceil(-21*parent,Const(Size.Xscale)),ceil(-48*parent,Const(Size.Yscale))

[State 1870, Anim]
type = ChangeAnim
triggerall = Var(0) = 0
trigger1 = parent, Anim=186 && parent, AnimElemTime(15)=1
trigger2 = parent, Anim=1874 && parent, AnimElemTime(10)=1
value = 1

[State 1870, Anim]
type = ChangeAnim
trigger1 = parent, Anim=1870 && parent, AnimElemTime(3)=0
value = 1873
[State 1870, Anim]
type = ChangeAnim
trigger1 = parent, Anim=1874 && parent, AnimElemTime(13)=0
value = 1872

[State 1911, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -40
trigger2 = RoundState = 0

;---------------------------------------------------------------------------
; YOU CANNOT ESCAPE THE POWER OF GUTSMAN'S WELL-TONED ASS!!!!!!!!!!!!!!!!!!!
[Statedef 188]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 185, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 192, Explod]
type = Explod
triggerall = !NumExplod(185)
trigger1 = AnimElemTime(4) = 0
anim = 1840
postype = p1
scale = (Const(size.xscale)),(Const(size.yscale))
shadow = -1
bindtime = -1
removetime = -1
pos = 0,0
ID = 185
sprpriority = 2

[State 185, PlaySnd]
type = NULL;PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S180,0
channel = 4

[State 185, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S975,0
channel = 4
volume = 300 ; SPARTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 200
flag = RoundNotOver

;---------------------------------------------------------------------------
; PERFECT
[Statedef 189]
type = S
ctrl = 0
anim = 189
velset = 0,0

[State 189, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S8,12

[State 189, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 0

[State 189, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0

[State 190, 0]
type = ChangeState
;triggerall = enemy, Name != "Duck_WLS"
;triggerall = (Pos Z = 89) || (NumEnemy && Enemy, Pos Z = 89)
triggerall = StageVar(Info.name) = "Darkstalkers: USA"
trigger1 = RoundState = 0
value = 194

[State 190, 2]
type = ChangeState
trigger1 = RoundState = 0
value = 191+(Random%3)

;---------------------------------------------------------------------------
; Introduction 1
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, ChangeAnim]
type = ChangeAnim
trigger1 = RoundState = 0
value = Anim

[State 191, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 18
value = S190,2

[State 191, 1] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction 2
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 1

[State 190, ChangeAnim]
type = ChangeAnim
trigger1 = RoundState = 0
value = Anim

[State 192, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, Explod]
type = Explod
;triggerall = !NumExplod(1910)
trigger1 = Time = 0
ID = 1910
anim = 1910
postype = p1
pos = 0,0
shadow = 1
scale = (Const(size.xscale)),(Const(size.yscale))
bindtime = -1
removetime = -1
persistent = 0

[State 192, RemoveExplod]
type = RemoveExplod
triggerall = NumExplod(1910)
trigger1 = AnimElemTime(2) = 0
ID = 1910

[State 192, Explod]
type = Helper
triggerall = !NumHelper(1911)
trigger1 = Time = 0
ID = 1911
stateno = 1911
postype = P1
pos = (Ceil(-96*(Const(size.xscale)))),0
size.xscale = (Const(size.xscale))
size.yscale = (Const(size.yscale))
shadow = -1
bindtime = 1
persistent = 0

[State 192, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S8,3

[State 192, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Rat
[Statedef 1911]
type = S
ctrl = 0
anim = 1911
velset = 0,0
sprpriority = 1

[State 1911, VelSet]
type = VelSet
trigger1 = Parent, AnimElemTime(2) = 0
x = -3

[State 1911, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -20

;---------------------------------------------------------------------------
; Introduction 3
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0
sprpriority = 1

[State 190, ChangeAnim]
type = ChangeAnim
trigger1 = RoundState = 0
value = Anim

[State 193, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, PlaySnd];!
type = PlaySnd
trigger1 = AnimElemTime(4) = 2
value = S190,3
volume = 250

[State 193, PlaySnd];Cloth
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = S190,0

[State 193, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = S8,3

[State 193, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction 4
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0
sprpriority = 1

[State 190, ChangeAnim]
type = ChangeAnim
trigger1 = RoundState = 0
value = Anim

[State 194, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 194, PosSet]
type = PosSet
trigger1 = Time = 1
y = -67

[State 194, VelSet]
type = VelSet
trigger1 = AnimElemTime(12) = 0
y = -3.5

[State 194, VelSet]
type = VelSet
trigger1 = AnimElemTime(29) = 0
trigger2 = AnimElemTime(37) = 0
trigger3 = AnimElemTime(45) = 0
trigger4 = AnimElemTime(53) = 0
y = -4

[State 194, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(12) > 0 && AnimElemTime(28) < 0
trigger2 = AnimElemTime(29) > 0 && AnimElemTime(36) < 0
trigger3 = AnimElemTime(37) > 0 && AnimElemTime(44) < 0
trigger4 = AnimElemTime(45) > 0 && AnimElemTime(52) < 0
trigger5 = AnimElemTime(53) > 0 && AnimElemTime(55) < 0
y = .5

[State 194, VelSet]
type = VelSet
trigger1 = AnimElem = 28
trigger2 = AnimElem = 36
trigger3 = AnimElem = 44
trigger4 = AnimElem = 52
trigger5 = AnimElem = 55
y = 0

[State 194, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 28
trigger2 = AnimElem = 36
trigger3 = AnimElem = 44
trigger4 = AnimElem = 52
trigger5 = AnimElem = 55
value = S200,5

[State 194, PosSet]
type = PosSet
trigger1 = AnimElem = 55   ;AnimElem = 54 && Pos Y + Vel Y >= 0;
y = 0

[State 194, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Vs. Duck King
[Statedef 196]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1
velset = 0,0
sprpriority = 1

[State 196, ChangeAnim]
type = ChangeAnim
trigger1 = RoundState = 0
value = Anim

[State 196, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 196, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 196, VarSet]
type = VarSet
trigger1 = Time = 1
var(55) = floor(Pos X)

[State 196, PosAdd]
type = PosAdd
trigger1 = Time = 98
x = -160

[State 196, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 98
value = 102

[State 102, PlaySnd]
type = PlaySnd
trigger1 = Time = 98
value = S40,3
channel=1

[State 102, 1]
type = VelSet
trigger1 = Anim = 102 && AnimElem = 3
x = 6.4
y = -4.0625;-4.5

[State 102, 1]
type = VelMul
trigger1 = Anim = 102 && AnimElemTime(3) > 0
x = .98

[State 102, 1]
type = VelAdd
trigger1 = Anim = 102 && AnimElemTime(3) > 0
y = .65

[State 800, 1]
type = HitDef
trigger1 = Pos Y + Vel Y >= 0;;!Time
attr = A, HT
hitflag = MAFL
priority = 7, Miss
sparkno = -1
p2stateno = 30026
p2getp1state = 0
guard.dist = 0
numhits = 0
ID = 196

[State 102, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 102 && AnimElemTime(3) > 0
trigger1 = Pos Y + Vel Y >= 0
trigger1 = NumTarget(196)
value = 194

[State 102, PosSet]
type = VelSet
trigger1 = Pos Y + Vel Y >= 0
x = 0
y = 0

[State 102, PosSet]
type = PosSet
trigger1 = Anim = 194
x = Var(55)
y = 0

[State 194, TargetBind]
type = TargetBind
trigger1 = NumTarget(196)
trigger1 = Anim = 102
time = -1
id = 196
pos = 68,-18

[State 194, TargetBind]
type = TargetBind
trigger1 = NumTarget(196)
trigger1 = Anim = 194 && AnimElem = 1
time = -1
id = 196
pos = 40,0

[State 194, TargetBind]
type = TargetBind
trigger1 = NumTarget(196)
trigger1 = Anim = 194 && AnimElem = 2
time = -1
id = 196
pos = 33,-22

[State 196, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 194
;statetype = L
movetype = I

[State 192, Explod]
type = Explod
triggerall = !NumExplod(1910)
trigger1 = Anim = 194 && AnimElemTime(2) = 0
ID = 1910
anim = 1940
postype = p1
scale = (Const(size.xscale)),(Const(size.yscale))
pos = ceil(-37*Const(size.xscale)),ceil(4*Const(size.yscale))
shadow = -1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0

;---------------------------------------------------------------------------
; Duck Intro - Hit & End
[Statedef 1960]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1941
velset = 0,0
sprpriority = 1

[State 0, TargetDrop]
type = TargetDrop
trigger1 = !Time

[State 192, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1960, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S5000,0
channel = 0

[State 1960, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 26
value = S9,0
channel = 0

[State 1960, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = S8,7
channel = 0

[State 196, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 195, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S195,0
channel = 0

;---------------------------------------------------------------------------
; Standing Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 200, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = S, NA
damage = floor(ifElse(((21+21*fvar(1))-var(32))<7,7,((21+21*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = -10,-63
hitsound = S3,0
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Punch (close)
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
sprpriority = 2
facep2 = 1

[State 205, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 205, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((28+21*fvar(1))-var(32))<7,7,((28+21*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-70)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.217
guard.velocity = -5.217
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 205, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 21
ctrl = 0
velset = 0,0
anim = 210+(Var(10)=0)
sprpriority = 2
facep2 = 1

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 210
trigger1 = AnimElem = 4
trigger2 = Anim = 211
trigger2 = AnimElem = 5
movetype = I

[State 210, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 210
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((56+35*fvar(1))-var(32))<7,7,((56+35*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-70)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 210, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 211
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-70)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1
[State 210, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 211
trigger1 = AnimElem = 4
attr = S, NA
damage = floor(ifElse(((28+21*fvar(1))-var(32))<7,7,((28+21*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-70)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch (close)
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 21
ctrl = 0
velset = 0,0
anim = 215+(Var(10)=0)
sprpriority = 2
facep2 = 1

[State 215, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 215
trigger1 = AnimElem = 5
trigger2 = Anim = 216
trigger2 = AnimElem = 6
movetype = I

[State 215, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 215
trigger1 = AnimElem = 4
attr = S, NA
damage = floor(ifElse(((63+35*fvar(1))-var(32))<7,7,((63+35*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-70)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 210, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 216
trigger1 = AnimElem = 4
attr = S, NA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-70)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1
[State 210, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 216
trigger1 = AnimElem = 5
attr = S, NA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-42)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 215, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 42
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2
facep2 = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
channel=1

[State 220, PlaySnd]
type = PlaySnd
triggerall = Var(10)=4 && Random%2
trigger1 = Time = 2
value = S8,14

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 250, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(220)
triggerall = AnimElemTime(5) >= 0
trigger1 = moveContact = [1,9]
value = 220
elem = 5
[State 250, Freeze]
type = PosFreeze
triggerall = NumTarget(220)
triggerall = AnimElemTime(3) >= 0
trigger1 = moveContact = [1,9]
value = 1

[State 220, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((28+21*fvar(1))-var(32))<7,7,((28+21*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 0,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-63)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1
ID = 220

[State -3, Retarded Workaround]
type = Helper
trigger1 = numTarget(220)
trigger1 = moveHit && animElemTime(6) < 0
ID = 8700
name = "BLOOD"
pos = Ceil(enemy,Const(size.ground.front)-10),Ceil(Pos Y-enemy,Pos Y-63)
postype = P2
stateno = 8740
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = -1
persistent = 0

[State 220, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 6
attr = S, NA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 7,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-63)
hitsound = S2,1
guardsound = S5,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 220, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 7
attr = S, NA
damage = floor(ifElse(((42+14*fvar(1))-var(32))<7,7,((42+14*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 7,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-63)
hitsound = S2,1
guardsound = S5,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch (close)
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 42
ctrl = 0
velset = 0,0
anim = 225
sprpriority = 2
facep2 = 1

[State 225, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 225, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((49+35*fvar(1))-var(32))<7,7,((49+35*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-14)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 63*!Var(13),28*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 225, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 4
attr = S, NA
damage = floor(ifElse(((35+28*fvar(1))-var(32))<7,7,((35+28*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-56)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 63*!Var(13),28*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0
p2facep1 = 1
ID = 225

[State 225, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
attr = S, NA
damage = floor(ifElse(((35+28*fvar(1))-var(32))<7,7,((35+28*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 0,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-98)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 63*!Var(13),28*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0
p2facep1 = 1
ID = 226
nochainID = 225

[State 250, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(226)
triggerall = AnimElemTime(7) >= 0
trigger1 = moveContact = [1,11]
value = 225
elem = 7
[State 250, Freeze]
type = PosFreeze
triggerall = NumTarget(226)
triggerall = AnimElemTime(5) >= 0
trigger1 = moveContact = [1,11]
value = 1

[State -3, Blood]
type = Helper
trigger1 = numTarget(226)
trigger1 = moveHit
ID = 8700
name = "BLOOD"
pos = Ceil(enemy,Const(size.ground.front)-10),Ceil(Pos Y-enemy,Pos Y-98)
postype = P2
stateno = 8760
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = -1
persistent = 0

[State 225, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2
facep2 = 1

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 230, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((28+21*fvar(1))-var(32))<7,7,((28+21*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-84)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 11
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick (close)
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 235
sprpriority = 2
facep2 = 1

[State 235, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 235, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = S, NA
damage = floor(ifElse(((21+21*fvar(1))-var(32))<7,7,((21+21*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = -10, -35
hitsound = S3,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 11
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 235, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 21
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2
facep2 = 1

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 240, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((56+42*fvar(1))-var(32))<7,7,((56+42*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-63)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick (close)
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 21
ctrl = 0
velset = 0,0
anim = 245
sprpriority = 2
facep2 = 1

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 245, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = S, NA
damage = floor(ifElse(((63+42*fvar(1))-var(32))<7,7,((63+42*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = -10,-56
hitsound = S3,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 245, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 42
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2
facep2 = 1

[State 250, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = S0,2
channel=1

[State 250, PlaySnd]
type = PlaySnd
triggerall = Var(10)=4 && Random%2
trigger1 = Time = 2
value = S8,0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 250, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((49+28*fvar(1))-var(32))<7,7,((49+28*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -81
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 63*!Var(13),28*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 250, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 5
attr = S, NA
damage = floor(ifElse(((35+35*fvar(1))-var(32))<7,7,((35+35*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-49)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 63*!Var(13),28*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick (close)
[Statedef 255]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 42
ctrl = 0
velset = 0,0
anim = 255
sprpriority = 2
facep2 = 1

[State 255, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 255, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((84+49*fvar(1))-var(32))<7,7,((84+49*fvar(1))-var(32)))),0
animtype = Medium;Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 0,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -81
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 0
fall.recover = 0
ID = 255
air.recover = 0
p2facep1 = 1

[State 255, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(10) > 0
trigger1 = AnimElem = 3
attr = S, NA
damage = floor(ifElse(((84+49*fvar(1))-var(32))<7,7,((84+49*fvar(1))-var(32)))),0
animtype = Medium;Heavy
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 0,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -81
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 0
fall.recover = 0
ID = 255
air.recover = 0
p2facep1 = 1

[State 650, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(255)
triggerall = AnimElemTime(5) >= 0
trigger1 = moveContact = [0,17]
value = 255
elem = 5
[State 650, Freeze]
type = PosFreeze
triggerall = NumTarget(255)
triggerall = AnimElemTime(3) >= 0
trigger1 = moveContact = [0,9]
value = 1

[State 255, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2
velset = 0,0
facep2 = 1

[State 400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 400, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = C, NA
damage = floor(ifElse(((14+21*fvar(1))-var(32))<7,7,((14+21*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-7)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch (VS)
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 21
ctrl = 0
anim = 410
sprpriority = 2
velset = 0,0
facep2 = 1

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 410, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = C, NA
damage = floor(ifElse(((56+42*fvar(1))-var(32))<7,7,((56+42*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-56)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -7.66
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch (VH)
[Statedef 415]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 21
ctrl = 0
anim = 415
sprpriority = 2
velset = 0,0
facep2 = 1

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 400, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = C, NA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-35)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 400, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 6
attr = C, NA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-56)
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 42
ctrl = 0
anim = 420+(Var(10)=0)
sprpriority = 2
velset = 0,0
facep2 = 1

[State 420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S0,2
channel=1
[State 420, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(10)=0
value = S40,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 420
trigger1 = AnimElem = 7
trigger2 = Anim = 421
trigger2 = AnimElem = 8
movetype = I

[State 420, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(420)
triggerall = AnimElemTime(6) >= 0
trigger1 = moveContact = [1,9]
value = 421
elem = 6
[State 420, Freeze]
type = PosFreeze
triggerall = NumTarget(420)
triggerall = AnimElemTime(4) >= 0
trigger1 = moveContact = [1,9]
value = 1

[State 420, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 421
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
attr = C, NA
damage = floor(ifElse(((35+28*fvar(1))-var(32))<7,7,((35+28*fvar(1))-var(32)))),0
animtype = Back
air.animtype = Back
fall.animtype = Back
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-56)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0;-14*(2-(Var(30)>0))/2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0
ID = 420

[State -3, Retarded Workaround]
type = Helper
trigger1 = numTarget(420)
trigger1 = moveHit && animElemTime(7) < 0
ID = 8700
name = "BLOOD"
pos = Ceil(enemy,Const(size.ground.front)-10),Ceil(Pos Y-enemy,Pos Y-63)
postype = P2
stateno = 8770
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = -1
persistent = 0

[State 420, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 421
trigger1 = AnimElem = 7
attr = C, NA
damage = floor(ifElse(((35+28*fvar(1))-var(32))<7,7,((35+28*fvar(1))-var(32)))),0
animtype = Back
air.animtype = Back
fall.animtype = Back
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-56)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0;-14*(2-(Var(30)>0))/2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0

[State 420, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 420
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
attr = C, NA
damage = floor(ifElse(((77+49*fvar(1))-var(32))<7,7,((77+49*fvar(1))-var(32)))),0
animtype = Back
air.animtype = Back
fall.animtype = Back
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-56)
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0;-14*(2-(Var(30)>0))/2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
ctrl = 0
anim = 430
sprpriority = 2
velset = 0,0
facep2 = 1

[State 430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 430, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = C, NA
damage = floor(ifElse(((21+14*fvar(1))-var(32))<7,7,((21+14*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = -10, -7
hitsound = S3,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 21
ctrl = 0
anim = 440
sprpriority = 2
velset = 0,0
facep2 = 1

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 440, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 2
attr = C, NA
damage = floor(ifElse(((56+35*fvar(1))-var(32))<7,7,((56+35*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = -10, -49
hitsound = S3,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -8.157
guard.velocity = -8.157
guard.ctrltime = 14
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Strong Kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 42
ctrl = 0
sprpriority = 2
velset = 0,0
facep2 = 1

[State 450, Anim]
type = ChangeAnim
trigger1 = !Time
value = 450+5*(Var(10)<2)

[State 450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 450, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = C, NA
damage = floor(ifElse(((63+42*fvar(1))-var(32))<7,7,((63+42*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -21
hitsound = S3,2
guardsound = S5,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 0
ctrl = 0
anim = 600+5*(Var(10)<2)
sprpriority = 2

[State 50, VarSet]
type = VarAdd
trigger1 = !Time
var(2) = 2

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
channel=1

[State 200, StateTypeSet]
type = null;StateTypeSet
trigger1 = Anim = 600 && AnimElem = 4
movetype = I

[State 600, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4 && Anim = 605
trigger3 = AnimElem = 5 && Anim = 605
attr = A, NA
damage = floor(ifElse(((21+28*fvar(1))-var(32))<7,7,((21+28*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno= S8100
sparkxy = (var(26):=-10),(var(27):=-14)
hitsound = S2,0
guardsound = S5,0
guard.ctrltime = 10
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 102
x = ifElse(Vel X <= 0, 0, -0.5833)
y = .625
[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 105
x = ifElse(Vel X >= 0, 0, 0.3333)
y = .67

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo != 102 && PrevStateNo != 105
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = .95833

[State 50, ChangeState]
type = ChangeState
trigger1 = Anim = 600 && AnimTime = 0
value = 50

[State 50, ChangeState]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = ifElse((PrevStateNo=[102,105]),1305,52)

;---------------------------------------------------------------------------
; Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 21
ctrl = 0
anim = 610
sprpriority = 2

[State 50, VarSet]
type = VarAdd
trigger1 = !Time
var(2) = 4

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 610, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
attr = A, NA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 3,3
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-14)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
ID = 610

[State 610, 2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 6
attr = A, NA
damage = floor(ifElse(((28+21*fvar(1))-var(32))<7,7,((28+21*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-7)
hitsound = S2,0
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 102
x = ifElse(Vel X <= 0, 0, -0.5833)
y = .625
[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 105
x = ifElse(Vel X >= 0, 0, 0.3333)
y = .67

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo != 102 && PrevStateNo != 105
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = .95833

[State 50, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

[State 50, ChangeState]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = ifElse((PrevStateNo=[102,105]),1305,52)

;---------------------------------------------------------------------------
; Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 42
ctrl = 0
anim = 620
sprpriority = 2

[State 50, VarSet]
type = VarAdd
trigger1 = !Time
var(2) = 8

[State 620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S0,2
channel=1
[State 620, StopSnd]
type = StopSnd
trigger1 = AnimElem = 6
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 620, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 4
attr = A, NA
damage = floor(ifElse(((70+49*fvar(1))-var(32))<7,7,((70+49*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-35)
hitsound = S2,1
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 102
x = ifElse(Vel X <= 0, 0, -0.5833)
y = .625
[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 105
x = ifElse(Vel X >= 0, 0, 0.3333)
y = .67

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo != 102 && PrevStateNo != 105
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = .95833

[State 50, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

[State 50, ChangeState]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = ifElse((PrevStateNo=[102,105]),1305,52)

;---------------------------------------------------------------------------
; Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 0
ctrl = 0
anim = 630+5*(Var(10)<2)
sprpriority = 2

[State 50, VarSet]
type = VarAdd
trigger1 = !Time
var(2) = 16

[State 630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 630 && AnimElem = 5
movetype = I

[State 630, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = !MoveContact && !MoveReversed
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = A, NA
damage = floor(ifElse(((21+28*fvar(1))-var(32))<7,7,((21+28*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S8200
guard.sparkno = S8100
sparkxy = -10, -7
hitsound = S3,0
guardsound = S5,0
guard.ctrltime = 10
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 102
x = ifElse(Vel X <= 0, 0, -0.5833)
y = .625
[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo = 105
x = ifElse(Vel X >= 0, 0, 0.3333)
y = .67

[State 600, VelAdd]
type = VelAdd
trigger1 = PrevStateNo != 102 && PrevStateNo != 105
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = .95833

[State 50, ChangeState]
type = ChangeState
trigger1 = Anim = 630 && AnimTime = 0
value = 50

[State 50, ChangeState]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = ifElse((PrevStateNo=[102,105]),1305,52)

;---------------------------------------------------------------------------
; Jump Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 21
ctrl = 0
anim = 640
sprpriority = 2

[State 50, VarSet]
type = VarAdd
trigger1 = !Time
var(2) = 32

[State 640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 640, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = A, NA
damage = floor(ifElse(((49+35*fvar(1))-var(32))<7,7,((49+35*fvar(1))-var(32)))),0
animtype = Medium
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 0,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = -10, -7
hitsound = S3,1
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 84*!Var(13),42*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
persistent = 0
ID = 640

[State 640, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(640)
triggerall = AnimElemTime(6) >= 0
trigger1 = moveContact = [1,11]
value = 640
elem = 6
[State 640, Freeze]
type = PosFreeze
triggerall = NumTarget(640)
triggerall = AnimElemTime(3) >= 0
trigger1 = moveContact = [1,8]
value = 1

[State 600, VelAdd]
type = VelAdd
triggerall = PrevStateNo = 102
trigger1 = !NumTarget(640)
trigger2 = NumTarget(640)
trigger2 = moveContact > 8
x = ifElse(Vel X <= 0, 0, -0.5833)
y = .625
[State 600, VelAdd]
type = VelAdd
triggerall = PrevStateNo = 105
trigger1 = !NumTarget(640)
trigger2 = NumTarget(640)
trigger2 = moveContact > 8
x = ifElse(Vel X >= 0, 0, 0.3333)
y = .67

[State 600, VelAdd]
type = VelAdd
triggerall = PrevStateNo != 102 && PrevStateNo != 105
trigger1 = !NumTarget(640)
trigger2 = NumTarget(640)
trigger2 = moveContact > 8
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = .95833

[State 50, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

[State 50, ChangeState]
type = ChangeState
triggerall = Vel Y + Pos Y >= 0
trigger1 = !NumTarget(640)
trigger2 = NumTarget(640)
trigger2 = moveContact > 8
value = ifElse((PrevStateNo=[102,105]),1305,52)

;---------------------------------------------------------------------------
; Jump Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 42
ctrl = 0
anim = 650
sprpriority = 2

[State 50, VarSet]
type = VarAdd
trigger1 = !Time
var(2) = 64

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S0,3
channel=1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 650, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = A, NA
damage = floor(ifElse(((35+28*fvar(1))-var(32))<7,7,((35+28*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -28
hitsound = S3,2
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
[State 650, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(10) = 0
trigger1 = AnimElem = 4
attr = A, NA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 9,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -21
hitsound = S3,2
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0

[State 650, 1]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(10) > 0
trigger1 = AnimElem = 4
attr = A, NA
damage = floor(ifElse(((63+42*fvar(1))-var(32))<7,7,((63+42*fvar(1))-var(32)))),0
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 0,9
sparkno = S8202
guard.sparkno = S8100
sparkxy = -10, -21
hitsound = S3,2
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),63*!Var(13)
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
ID = 650

[State 650, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(650)
triggerall = AnimElemTime(6) >= 0
trigger1 = moveContact = [0,14]
value = 650
elem = 6
[State 650, Freeze]
type = PosFreeze
triggerall = NumTarget(650)
triggerall = AnimElemTime(4) >= 0
trigger1 = moveContact = [0,9]
value = 1

[State 600, VelAdd]
type = VelAdd
triggerall = PrevStateNo = 102
trigger1 = !NumTarget(650)
trigger2 = NumTarget(650)
trigger2 = moveContact > 9
x = ifElse(Vel X <= 0, 0, -0.5833)
y = .625
[State 600, VelAdd]
type = VelAdd
triggerall = PrevStateNo = 105
trigger1 = !NumTarget(650)
trigger2 = NumTarget(650)
trigger2 = moveContact > 9
x = ifElse(Vel X >= 0, 0, 0.3333)
y = .67

[State 600, VelAdd]
type = VelAdd
triggerall = PrevStateNo != 102 && PrevStateNo != 105
trigger1 = !NumTarget(650)
trigger2 = NumTarget(650)
trigger2 = moveContact > 9
x = ifElse(!sysvar(1),0,ifElse(sysvar(1)=1,-.01953125,.01953125))
y = .95833

[State 50, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

[State 50, ChangeState]
type = ChangeState
triggerall = Vel Y + Pos Y >= 0
trigger1 = !NumTarget(650)
trigger2 = NumTarget(650)
trigger2 = moveContact > 9
value = ifElse((PrevStateNo=[102,105]),1305,52)

;---------------------------------------------------------------------------
; Throw Attempt
[Statedef 800]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 800
poweradd = 0
facep2 = 1

[State 800, 1]
type = HitDef
triggerall = P2MoveType != H
triggerall = P2StateNo != [130,155]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss
sparkno = -1
;sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = IfElse((command = "holdfwd"),810,815)
p2stateno = IfElse((command = "holdfwd"),820,825)
guard.dist = 0
numhits = 0
;fall = 1

[State 800, 1]
type = HitDef
triggerall = P2StateNo != [130,155]
triggerall = Var(30)
trigger1 = AnimElem = 1
attr = S, NT
hitflag = MF
priority = 3, Miss
sparkno = -1
;sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = IfElse((command = "holdback"),815,810)
p2stateno = IfElse((command = "holdback"),825,820)
guard.dist = 0
numhits = 0
;fall = 1

[State 800, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S5000,0
channel = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
; 1
[Statedef 810]
type = S
movetype= A
physics = N
anim = 805
sprpriority = 1

[State 810, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0
[State 810, 1]
type = VarSet
triggerall = Time < 7 && !FVar(2)
triggerall = Target,Command = "holdfwd" || Target,Command = "holdback"
trigger1 = Target,Command = "y" || Target,Command = "z"
trigger2 = Target,Command = "b" || Target,Command = "c"
fvar(2) = 1

[State 810, TargetDrop]
type = TargetDrop
trigger1 = NumTarget
trigger1 = target, Alive = 0

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Anim = 805 && AnimElem = 2
value = S800,0

[State 810, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 820, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 805 && !AnimTime
value = 806

; Thanks, Phantom.of.the.Server!!
[State 840, VarSet]
type = VarSet
trigger1 = Time = 0
var(7) = ifElse(fvar(2),5,90)
[State 840, VarSet]
type = VarAdd
trigger1 = HitCount
var(7) = -1

[State 840, PUSH COIN TO LAG]
type = VarAdd
triggerall = !FVar(2)
triggerall = (time%6)=0
triggerall = Anim = 806
trigger1 = target, Command = "a"
trigger2 = target, Command = "b"
trigger3 = target, Command = "c"
trigger4 = target, Command = "x"
trigger5 = target, Command = "y"
trigger6 = target, Command = "z"
trigger7 = target, Command = "start"
trigger8 = target, Command = "parry"
trigger9 = target, Command = "parry2"
trigger10 = target, Command = "rich"
trigger11 = target, Command = "back"
var(7) = -10

[State 840, VarSet]
type = VarSet
trigger1 = Time = 0 || fvar(2)
var(8) = 0
[State 840, PUSH START TO RICH]
type = VarAdd
triggerall = !FVar(2)
triggerall = (time%6)=0
triggerall = Anim = [806,807]
trigger1 = Command = "a"
trigger2 = Command = "b"
trigger3 = Command = "c"
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = Command = "start"
trigger8 = Command = "parry"
trigger9 = Command = "parry2"
trigger10 = Command = "rich"
trigger11 = Command = "back"
var(8) = 1
[State 840, VarSet]
type = VarSet
trigger1 = Var(7)<0
var(8) = 0

[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 806
triggerall = Var(7) > 0
trigger1 = AnimElemTime(AnimElemNo(0)) >= 0 && AnimElemTime(4) < 0
trigger1 = AnimElemTime(AnimElemNo(0)+1) >= -Var(8)
trigger1 = e||(var(8) := (var(8) + AnimElemTime(AnimElemNo(0)+1)))
value = 806
elem = AnimElemNo(0)+1
[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 806
triggerall = Var(7) > 0
trigger1 = AnimElemTime(4) > 0
trigger1 = AnimElemTime(4) >= (2-Var(8))
trigger1 = e||(var(8) := (var(8) + 2-AnimElemTime(4)))
value = 807
elem = 1
[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 807
triggerall = Var(7) > 0
trigger1 = AnimElemTime(AnimElemNo(0)) >= 0 && AnimElemTime(5) < 0
trigger1 = AnimElemTime(AnimElemNo(0)+1) >= -Var(8)
trigger1 = e||(var(8) := (var(8) + AnimElemTime(AnimElemNo(0)+1)))
value = 807
elem = AnimElemNo(0)+1
[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 807
triggerall = Var(7) > 0
trigger1 = AnimElemTime(5) > 0
trigger1 = AnimElemTime(5) >= (6-Var(8))
trigger1 = e||(var(8) := (var(8) + 6-AnimElemTime(5)))
value = 806
elem = 1

[State 810, TargetState]
type = TargetState
trigger1 = !Time
value = 820
[State 810, TargetState]
type = TargetState
trigger1 = Anim = 805
trigger1 = AnimElem = 4
trigger2 = Anim = 807
trigger2 = AnimElem = 2
value = 821
[State 810, TargetState]
type = TargetState
trigger1 = Anim = 806
trigger1 = AnimElem = 4
value = 822

[State 810, Width]
type = Width
trigger1 = Anim = 805 && AnimElemTime(4) = 1
edge = 64,0

[State 810, Bind 1]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = AnimElem = 1
time = 4
pos = 45, 0
[State 810, Bind 2]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = AnimElem = 2
time = 5
pos = 61, 0
[State 810, Bind 3]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = AnimElem = 3
time = 4
pos = 44, 0

[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = !Target, Name = "THE JUGGERNAUT, BITCH!"
trigger1 = !Target, Name = "Juggernaut by Splode"
trigger1 = !Target, Name = "MvC2 Juggernaut By Kamekaze"
trigger1 = !(Target, Name = "Gill" && Target, AuthorName = "GM")
trigger1 = !(Target, AuthorName = "Warusaki3" && Target, Name = "cvsnakoruru")
trigger1 = !(Target, AuthorName = "Jesuszilla" && Target, Name = "cvsrockman")
trigger1 = AnimElem = 4
time = 3
pos = ceil(49*Const(Size.xscale)),72,Head
[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
triggerall = AnimElem = 4
trigger1 = Target, AuthorName = "Warusaki3" && Target, Name = "cvsnakoruru"
trigger2 = Target, AuthorName = "Jesuszilla" && Target, Name = "cvsrockman"
time = 3
pos = ceil(63*Const(Size.xscale)),63,Head
[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = (Target, Name = "THE JUGGERNAUT, BITCH!") || (Target, Name = "Juggernaut by Splode") || (Target, Name="MvC2 Juggernaut By Kamekaze")
trigger1 = AnimElem = 4
time = 3
pos = 12,48,Head
[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = Target, Name = "Gill" && Target, AuthorName = "GM"
trigger1 = AnimElem = 4
time = 3
pos = 49,54,Head ; Code a fucking proper head.pos, GM

[State 810, Explod]
type = Explod
triggerall = Anim = [806,807]
trigger1 = AnimElem = 3
anim = 8202
postype = P2
pos = (target,Const(Size.Head.Pos.x)),(target,Const(Size.Head.Pos.y))
facing = enemyNear,Facing
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State -3, Blood]
type = Helper
triggerall = Anim = [806,807]
trigger1 = AnimElemTime(3) = 0
ID = 8700
name = "BLOOD"
pos = (target,Const(Size.Head.Pos.x)),(target,Const(Size.Head.Pos.y))
postype = P2
stateno = ifElse(Anim=807,8700,8720)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = ifElse((Anim = 2960 && AnimElemTime(15)>0), 1, -1)

[State 3001, HitAdd]
type = HitAdd
triggerall = Anim = [806,807]
trigger1 = AnimElem = 3
value = 1

[State 810, Hurt]
type = TargetLifeAdd
triggerall = NumTarget
triggerall = Anim = [806,807]
trigger1 = AnimElem = 3
value = floor(-7-7*fvar(1))
kill = 1

[State 810, PlaySnd]
type = PlaySnd
triggerall = Anim = [806,807]
trigger1 = AnimElem = 3
value = S2,0

[State 831, TargetPowerAdd]
type = null;TargetPowerAdd
trigger1 = Anim = 808 && AnimTime = 0
value = 35

[State 810, State End]
type = ChangeAnim
triggerall = Anim != 808
triggerall = HitCount
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = Var(7) <= 0
value = 808
[State 810, State End]
type = TargetState
trigger1 = Anim = 808 && AnimTime = 0
value = 823
[State 810, State End]
type = ChangeState
trigger1 = Anim = 808 && AnimTime = 0
trigger2 = !NumTarget
value = 850

;----------------------------------------------------------------------
[Statedef 815]
type = S
movetype= A
physics = N
anim = 805
sprpriority = 1

[State 810, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0

[State 810, 1]
type = VarSet
triggerall = Time < 7 && !FVar(2)
triggerall = Target,Command = "holdfwd" || Target,Command = "holdback"
trigger1 = Target,Command = "y" || Target,Command = "z"
trigger2 = Target,Command = "b" || Target,Command = "c"
fvar(2) = 1

[State 810, TargetDrop]
type = TargetDrop
trigger1 = NumTarget
trigger1 = target, Alive = 0

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Anim = 805 && AnimElem = 2
value = S800,0

[State 810, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 810, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 805 && !AnimTime
value = 806

; Thanks, Phantom.of.the.Server!!
[State 840, VarSet]
type = VarSet
trigger1 = Time = 0
var(7) = ifElse(fvar(2),5,90)
[State 840, VarSet]
type = VarAdd
trigger1 = HitCount
var(7) = -1

[State 840, PUSH COIN TO LAG]
type = VarAdd
triggerall = !FVar(2)
triggerall = (time%6)=0
triggerall = Anim = 806
trigger1 = target, Command = "a"
trigger2 = target, Command = "b"
trigger3 = target, Command = "c"
trigger4 = target, Command = "x"
trigger5 = target, Command = "y"
trigger6 = target, Command = "z"
trigger7 = target, Command = "start"
trigger8 = target, Command = "parry"
trigger9 = target, Command = "parry2"
trigger10 = target, Command = "rich"
trigger11 = target, Command = "back"
var(7) = -10

[State 840, VarSet]
type = VarSet
trigger1 = Time = 0 || fvar(2)
var(8) = 0
[State 840, PUSH START TO RICH]
type = VarAdd
triggerall = !FVar(2)
triggerall = (time%6)=0
triggerall = Anim = [806,807]
trigger1 = Command = "a"
trigger2 = Command = "b"
trigger3 = Command = "c"
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = Command = "start"
trigger8 = Command = "parry"
trigger9 = Command = "parry2"
trigger10 = Command = "rich"
trigger11 = Command = "back"
var(8) = 1
[State 840, VarSet]
type = VarSet
trigger1 = Var(7)<0
var(8) = 0

[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 806
triggerall = Var(7) > 0
trigger1 = AnimElemTime(AnimElemNo(0)) >= 0 && AnimElemTime(4) < 0
trigger1 = AnimElemTime(AnimElemNo(0)+1) >= -Var(8)
trigger1 = e||(var(8) := (var(8) + AnimElemTime(AnimElemNo(0)+1)))
value = 806
elem = AnimElemNo(0)+1
[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 806
triggerall = Var(7) > 0
trigger1 = AnimElemTime(4) > 0
trigger1 = AnimElemTime(4) >= (2-Var(8))
trigger1 = e||(var(8) := (var(8) + 2-AnimElemTime(4)))
value = 807
elem = 1
[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 807
triggerall = Var(7) > 0
trigger1 = AnimElemTime(AnimElemNo(0)) >= 0 && AnimElemTime(5) < 0
trigger1 = AnimElemTime(AnimElemNo(0)+1) >= -Var(8)
trigger1 = e||(var(8) := (var(8) + AnimElemTime(AnimElemNo(0)+1)))
value = 807
elem = AnimElemNo(0)+1
[State 840, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 807
triggerall = Var(7) > 0
trigger1 = AnimElemTime(5) > 0
trigger1 = AnimElemTime(5) >= (6-Var(8))
trigger1 = e||(var(8) := (var(8) + 6-AnimElemTime(5)))
value = 806
elem = 1

[State 810, TargetState]
type = TargetState
trigger1 = !Time
value = 825
[State 810, TargetState]
type = TargetState
trigger1 = Anim = 805
trigger1 = AnimElem = 4
trigger2 = Anim = 807
trigger2 = AnimElem = 2
value = 821
[State 810, TargetState]
type = TargetState
trigger1 = Anim = 806
trigger1 = AnimElem = 4
value = 822

[State 810, Width]
type = Width
trigger1 = Anim = 805 && AnimElemTime(4) = 1
edge = 64,0

[State 810, Turn]
type = Turn
triggerall = Anim = 805
trigger1 = AnimElemTime(4) = 1

[State 810, Bind 1]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = AnimElem = 1
time = 4
pos = 45, 0
[State 810, Bind 2]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = AnimElem = 2
time = 5
pos = 61, 0
[State 810, Bind 3]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = AnimElem = 3
time = 4
pos = 44, 0

[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = !Target, Name = "THE JUGGERNAUT, BITCH!"
trigger1 = !Target, Name = "Juggernaut by Splode"
trigger1 = !Target, Name = "MvC2 Juggernaut By Kamekaze"
trigger1 = !(Target, Name = "Gill" && Target, AuthorName = "GM")
trigger1 = !(Target, AuthorName = "Warusaki3" && Target, Name = "cvsnakoruru")
trigger1 = !(Target, AuthorName = "Jesuszilla" && Target, Name = "cvsrockman")
trigger1 = AnimElem = 4
time = 3
pos = ceil(49*Const(Size.xscale)),72,Head
[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
triggerall = AnimElem = 4
trigger1 = Target, AuthorName = "Warusaki3" && Target, Name = "cvsnakoruru"
trigger2 = Target, AuthorName = "Jesuszilla" && Target, Name = "cvsrockman"
time = 3
pos = ceil(63*Const(Size.xscale)),63,Head
[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = (Target, Name = "THE JUGGERNAUT, BITCH!") || (Target, Name = "Juggernaut by Splode") || (Target, Name="MvC2 Juggernaut By Kamekaze")
trigger1 = AnimElem = 4
time = 3
pos = 12,48,Head
[State 810, Bind 4]
type = BindtoTarget
triggerall = NumTarget && Anim = 805
trigger1 = Target, Name = "Gill" && Target, AuthorName = "GM"
trigger1 = AnimElem = 4
time = 3
pos = 49,54,Head ; Code a fucking proper head.pos, GM

[State 810, Explod]
type = Explod
triggerall = Anim = [806,807]
trigger1  = AnimElem = 3
anim = 8202
postype = P2
pos = (target,Const(Size.Head.Pos.x)),(target,Const(Size.Head.Pos.y))
facing = enemyNear,Facing
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State -3, Blood]
type = Helper
triggerall = Anim = [806,807]
trigger1 = AnimElemTime(3) = 0
ID = 8700
name = "BLOOD"
pos = (target,Const(Size.Head.Pos.x)),(target,Const(Size.Head.Pos.y))
postype = P2
stateno = ifElse(Anim=807,8700,8720)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = ifElse((Anim = 2960 && AnimElemTime(15)>0), 1, -1)

[State 3001, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1

[State 810, Hurt]
type = TargetLifeAdd
triggerall = Anim = [806,807]
triggerall = NumTarget
trigger1 = AnimElem = 3
value = floor(-7-7*fvar(1))
kill = 1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Anim = [806,807]
trigger1 = AnimElem = 3
value = S2,0

[State 831, TargetPowerAdd]
type = PowerAdd
trigger1 = Anim = 808 && AnimTime = 0
value = 63*!Var(13)
[State 831, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = Anim = 808 && AnimTime = 0
value = 84

[State 810, State End]
type = ChangeAnim
triggerall = Anim != 808
triggerall = HitCount
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = Var(7) <= 0
value = 808
[State 810, State End]
type = TargetState
trigger1 = Anim = 808 && AnimTime = 0
value = 823
[State 810, State End]
type = ChangeState
trigger1 = Anim = 808 && AnimTime = 0
trigger2 = !NumTarget
value = 850

;----------------------------------------------------------------------
[Statedef 820]
type = S
movetype = H
physics = N
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820, 1]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 823

[State 820, 7]
type = ChangeState
trigger1 = !Alive
value = 823
ctrl = 0

;----------------------------------------------------------------------
; 5000,0
[Statedef 821]
type = S
movetype = H
physics = N
sprpriority = -1

[State 820, Turn]
type = Turn
trigger1 = !Time && PrevStateNo=825

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 821

[State 820, 1]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 824

[State 820, 7]
type = ChangeState
trigger1 = !Alive
value = 823
ctrl = 0

;----------------------------------------------------------------------
; 5000,10
[Statedef 822]
type = S
movetype = H
physics = N
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 822

[State 820, 1]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 825

[State 820, 7]
type = ChangeState
trigger1 = !Alive
value = 823
ctrl = 0

;----------------------------------------------------------------------
; END
[Statedef 823]
type = A
movetype = H
physics = N
sprpriority = -1
ctrl = 0

[State 820, 2]
type = VelSet
trigger1 = !Time
x = -2
y = -7

[State 820, 3]
type = VelAdd
triggerall = Time > 1
trigger1 = 1
y = 1

[State 820, 5]
type = ChangeAnim
triggerall = Alive
trigger1 = Time = 1
value = 5030+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 820, 7]
type = SelfState
trigger1 = Alive
trigger1 = Time > 3
trigger1 = Vel Y >= 0
value = 5040
ctrl = 0

[State 820, 7]
type = SelfState
trigger1 = !Alive
value = 5050
ctrl = 0

;----------------------------------------------------------------------
[Statedef 825]
type = S
movetype = H
physics = N
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820, 1]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 823

[State 820, Turn]
type = Turn
trigger1 = AnimElemTime(3)=4

;----------------------------------------------------------------------
; Jump Off
[Statedef 850]
type = A
physics = N
velset = 0,0
;facep2 = 1

[State 850, NHB]
type = NotHitBy
trigger1 = PrevStateNo = [810,815]
value = SCA

[State 850, CtrlSet]
type = CtrlSet
triggerall = Time = 2
trigger1 = PrevStateNo = 88
trigger2 = PrevStateNo = 89
value = 1

[State 88, Turn]
type = Turn
trigger1 = !Time && PrevStateNo = 89

[State 88, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn
flag2 = NoAirGuard

[State 850, StopSnd]
type = StopSnd
trigger1 = !Time
channel=1

[State 850, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = IfElse((PrevStateNo = [810,819]),880,881)

[State 850, 1]
type = VelSet
triggerall = (PrevStateNo = [810,819])
trigger1 = Time = 2
x = -4
y = -11

[State 850, 1]
type = VelSet
triggerall = !(PrevStateNo = [810,819])
trigger1 = Time = 2
x = ifElse((PrevStateNo = [88,89]),7,-7)
y = -9

[State 850, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = ifElse((PrevStateNo = [88,89]),1016,890)

[State 850, 3]
type = VelAdd
triggerall = Anim = 890 || Anim = 1016
trigger1 = 1
x = 0.02604167*ifElse(Vel X < 0,1,-1)
y = 0.95833

[State 850, 4]
type = ChangeState
triggerall = Anim = 890 || Anim = 1016
trigger1 = Vel Y + Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; Throw 2
[Statedef 830]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 800
poweradd = 89*(1000+Var(40))/1000*IfElse((Var(29)||Var(30)),0,1)

[State 830, 1]
type = HitDef
triggerall = P2MoveType != H
triggerall = P2StateNo != [130,155]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss
sparkno = -1
;sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = IfElse((command = "holdback"),831,832)
p2stateno = IfElse((command = "holdback"),834,835)
guard.dist = 0
numhits = 0
;fall = 1
yaccel = .71967

[State 830, 1]
type = HitDef
triggerall = P2StateNo != [130,155]
triggerall = Var(30)
trigger1 = AnimElem = 1
attr = S, NT
hitflag = MF
priority = 3, Miss
sparkno = -1
;sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = IfElse((command = "holdback"),831,832)
p2stateno = IfElse((command = "holdback"),834,835)
guard.dist = 0
numhits = 0
yaccel = .71967

[State 830, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
[Statedef 831]
type = S
movetype= A
physics = N
anim = 830
sprpriority = 1

[State 810, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0
[State 810, 1]
type = VarSet
triggerall = Time < 7 && !FVar(2)
triggerall = Target,Command = "holdfwd" || Target,Command = "holdback"
trigger1 = Target,Command = "y" || Target,Command = "z"
trigger2 = Target,Command = "b" || Target,Command = "c"
fvar(2) = 1

[State 831, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S800,0

[State 810, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 831, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 4
pos = 45,0
[State 831, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
time = 5
pos = 61,0
[State 831, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
time = 4
pos = 44,0
[State 831, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
time = 6
pos = 25,0
[State 831, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
time = 3
pos = 3,-44
[State 831, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
time = 3
pos = -33,-36
[State 831, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
trigger2 = AnimElem = 11
time = 3
pos = -3,-12
[State 831, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
time = 3
pos = 33,-36
[State 831, Bind 9]
type = TargetBind
trigger1 = AnimElem = 14
time = 1
pos = -38,-10

[State 831, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = -6
y = -4

[State 831, PosSet]
type = PosSet
trigger1 = AnimElem = 14
y = 0

[State 831, Gravity]
type = VelAdd
trigger1 = Time > 20 && Pos Y < 0
y = .28

[State 831, VelSet2]
type = VelSet
trigger1 = Vel Y + Pos Y >= 0
x = 0
y = 0

[State 832, HitAdd]
type = HitAdd
trigger1 = AnimElem = 14
value = 1

[State 832, Width]
type = Width
trigger1 = AnimElemTime(14) = 0
edge = 76,76

[State 832, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(14) = 1
value = S8,9

[State 832, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(14) = 1
value = 63*!FVar(13)
[State 832, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(14) = 0
value = floor(-91-fvar(1)*56)+floor(fvar(2)*49-fvar(1)*28)

[State 832, TargetState]
type = TargetState
trigger1 = fvar(2) && AnimElemTime(14) = 1
value = 836

[State 831, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = AnimElem = 14
value = 56

[State 831, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0;52
ctrl = 1

;----------------------------------------------------------------------
[Statedef 832]
type = S
movetype= A
physics = N
sprpriority = 1
anim = 831

[State 810, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0

[State 810, 1]
type = VarSet
triggerall = Time < 7 && !FVar(2)
triggerall = Target,Command = "holdfwd" || Target,Command = "holdback"
trigger1 = Target,Command = "y" || Target,Command = "z"
trigger2 = Target,Command = "b" || Target,Command = "c"
fvar(2) = 1

[State 832, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S800,0

[State 810, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 832, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 4
pos = 45,0
[State 832, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
time = 5
pos = 61,0
[State 832, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
time = 4
pos = 44,0
[State 832, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
time = 6
pos = -25,0
[State 832, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
time = 3
pos = 3,-44
[State 832, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
time = 3
pos = 33,-36
[State 832, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
trigger2 = AnimElem = 11
time = 3
pos = 3,-12
[State 832, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
time = 3
pos = -33,-36
[State 832, Bind 9]
type = TargetBind
trigger1 = AnimElem = 14
time = 1
pos = 38,-10

[State 832, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 6
y = -4

[State 832, PosSet]
type = PosSet
trigger1 = AnimElem = 14
y = 0

[State 831, Gravity]
type = VelAdd
trigger1 = Time > 20 && Pos Y < 0
y = .28

[State 832, VelSet2]
type = VelSet
triggerall = Time > 20
trigger1 = Vel Y + Pos Y >= 0
x = 0
y = 0

[State 832, HitAdd]
type = HitAdd
trigger1 = AnimElem = 14
value = 1

[State 832, Width]
type = Width
trigger1 = AnimElemTime(14) = 0
edge = 76,76

[State 832, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(14) = 1
value = S8,9

[State 832, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(14) = 1
value = 63*!FVar(13)
[State 832, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(14) = 0
value = floor(-91-fvar(1)*56)+floor(fvar(2)*49-fvar(1)*28)

[State 832, TargetState]
type = TargetState
trigger1 = fvar(2) && AnimElemTime(14) = 0
value = 836
[State 831, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = AnimElem = 14
value = 56

[State 832, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 832, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0;52
ctrl = 1

;----------------------------------------------------------------------
[Statedef 834]
type = S
movetype = H
physics = N
sprpriority = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 834, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 835

[State 834, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0 && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 836

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 46
statetype = A
[State 834, VelSet]
type = VelSet
trigger1 = Time = 46
x = 4.46875
y = -11.40625
[State 835, VelAdd]
type = VelAdd
trigger1 = Time > 46
x = ifElse(Vel X <= 0, 0, -0.041666666666666666666666666666667)
y = .71967

[State 816, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 834, 6]
type = ChangeState
trigger1 = Time > 55
trigger1 = Vel Y >= -5
value = 888

;----------------------------------------------------------------------
[Statedef 835]
type = S
movetype = H
physics = N
sprpriority = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 835, ChangeAnim2]
type = ChangeAnim2
triggerall = !(Name = "Gill" && AuthorName = "GM")
trigger1 = Time = 0
value = 835

[State 835, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0 && Name = "Gill" && AuthorName = "GM" && Facing = 1
value = 837

[State 835, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0 && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 838

[State 835, Turn]
type = Turn
trigger1 = AnimElem = 4

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 46
statetype = A
[State 834, VelSet]
type = VelSet
trigger1 = Time = 46
x = 4.46875
y = -11.40625
[State 835, VelAdd]
type = VelAdd
trigger1 = Time > 46
x = ifElse(Vel X <= 0, 0, -0.041666666666666666666666666666667)
y = .71967

[State 816, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 834, 6]
type = ChangeState
trigger1 = Time > 55
trigger1 = Vel Y >= -5
value = 888

;----------------------------------------------------------------------
[Statedef 836]
type = U
movetype = H
physics = N
sprpriority = -1

[State 836, SelfState]
type = SelfState
trigger1 = !Time
value = 5040

;---------------------------------------------------------------------------
; Air Throw
[Statedef 860]
type    = A
movetype = A
physics = N
juggle = 0
ctrl = 0

[State 860, VarSet]
type = VarSet
trigger1 = !Time
var(22) = ifElse(command="y",0,1)

[State 860, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = ifElse(Vel X<0,841,840)
elem = AnimElemNo(0)+1

[State 860, StateTypeSet] ; Just to be safe
type = StateTypeSet
trigger1 = Time > 0
movetype = I

[State 860, 1]
type = HitDef
triggerall = P2MoveType != H
triggerall = P2StateNo != [150,155]
triggerall = P2bodydist X = [0,35]
triggerall = P2bodydist Y = [-70,-enemynear,const(size.head.pos.y)-35]
trigger1 = Time = 0
attr = A, NT
hitflag = A-
priority = 3, Miss
sparkno = -1
p1facing = ifelse(Vel X >= 0, 1, -1)
p2facing = 1
p1stateno = 861
p2stateno = 862
guard.dist = 0
numhits = 0

[State 900, 2]
type = ChangeState
trigger1 = Time > 0
value = 610+Var(22)*10

;----------------------------------------------------------------------
[Statedef 861]
type = A
movetype= A
physics = N
anim = 842
sprpriority = 1
velset = 0,0

[State 810, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0
[State 810, 1]
type = VarSet
triggerall = Time < 7 && !FVar(2)
triggerall = Target,Command = "holdfwd" || Target,Command = "holdback"
trigger1 = Target,Command = "y" || Target,Command = "z"
trigger2 = Target,Command = "b" || Target,Command = "c"
fvar(2) = 1

[State 861, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S800,0
[State 861, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14
value = S8,2

[State 861, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 861, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
time = -1
pos = 23,-50
[State 861, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
time = -1
pos = 21,-59
[State 861, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
time = -1
pos = 2,-50
[State 861, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
time = -1
pos = -14,-67
[State 861, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
time = -1
pos = 3,-81
[State 861, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
time = -1
pos = 2,-50
[State 861, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
time = -1
pos = -14,-67

[State 861, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
time = -1
pos = -36,-73
[State 861, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
time = -1
pos = -36,-86
[State 861, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
time = -1
pos = -24,-98
[State 861, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
time = 1
pos = 18,-98
[State 861, Bind 11]
type = TargetBind
trigger1 = AnimElem = 12
time = 1
pos = 49,-49

[State 861, VelSet]
type = VelSet
trigger1 = AnimElemTime(14) = 0
x = 2
y = -1.125
[State 861, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(14) > 0
y = .5

[State 832, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(14) = 0
value = 63*!FVar(13)
[State 832, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(14) = 0
value = ifElse(fvar(1)>1.0,-147,-91)+ceil(ifElse(fvar(1)>1.0,77,49)*fvar(2))
[State 831, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = AnimElem = 14
value = 56

[State 861, TargetState]
type = TargetState
triggerall = fvar(2) && numTarget
trigger1 = AnimElemTime(16) = 0
value = 863
persistent = 0

[State 861, ChangeState]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 1305

;----------------------------------------------------------------------
[Statedef 862]
type = A
movetype = H
physics = N
sprpriority = -1
velset = 0,0

[State 834, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 843

[State 834, VelSet]
type = VelSet
trigger1 = Time = 35
x = -9.8359375
y = -8.4375
[State 835, VelAdd]
type = VelAdd
trigger1 = Time > 35
x = ifElse(Vel X >= 0, 0, 0.21875)
y = .75;fib avg. of 0.5625

[State 816, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 834, 6]
type = ChangeState
trigger1 = Time > 55
trigger1 = Vel Y >= -5
value = 888

;----------------------------------------------------------------------
[Statedef 863]
type = U
movetype = H
physics = N
sprpriority = -1

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 835, VelAdd]
type = VelAdd
trigger1 = Time > 0
x = ifElse(Vel X >= 0, 0, 0.21875)
y = .75;fib avg. of 0.5625

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 888]
type    = A
movetype= H
physics = N

[State 835, VelAdd]
type = VelAdd
trigger1 = prevStateNo != 862
x = ifElse(Vel X <= 0, 0, -0.041666666666666666666666666666667)
y = .71967
[State 835, VelAdd]
type = VelAdd
trigger1 = prevStateNo = 862
x = ifElse(Vel X <= 0, 0, -0.21875)
y = .75;fib avg. of 0.5625

[State 5050, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5050, 6]
type = SelfState
trigger1 = Vel Y + Pos Y >= 0
value = 5100 ;HIT_BOUNCE

;===============================================================================
;                                    SPECIALS
;===============================================================================

;----------------------------------------------------------------------------------
; Rolling Buckler
[Statedef 1000]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1000
sprpriority = 2
velset = 0,0
poweradd = 84
juggle = 0; HAH
facep2 = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = ifElse((Command = "QCF_hp" || Command = "QCB_hp"),2,ifElse((Command = "QCF_mp" || Command = "QCB_mp"),1,0))
[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = ifElse(!Var(22),28,29)
[State 1000, VarSet]
type = VarAdd
trigger1 = Time > 0
trigger1 = Var(12)
var(12) = -1
ignorehitpause = 0

[State 1020, Width]
type = Width
trigger1 = Anim = 1005
value = -3,-3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 3
value = S200,0

[State 1020, 1]
type = ChangeAnim
triggerall = Anim = 1000
trigger1 = AnimTime = 0
value = 1005

[State 1020, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1005
movetype = A

[State 1020, 2]
type = VelSet
trigger1 = Anim = 1005 && AnimElemTime(1) >= 0
x = (Vel X)+1
persistent = 1

[State 1020, VelSet]
type = VelSet
triggerall = Anim = 1005
trigger1 = Vel X >= 9+(Var(22)*2)
x = 9+(Var(22)*2)

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = !MoveContact && !MoveReversed
attr = S, SA
damage = floor(ifElse(((63+35*fvar(1))-var(32))<7,7,((63+35*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 5

[State 1000, ChangeState]
type = ChangeState
triggerall = Time > 3
trigger1 = MoveContact = 1
value = 1406

[State 1000, ChangeState]
type = ChangeState
trigger1 = !Var(12)
value = 1305

[State 1000, Explod]
type = Explod
trigger1 = Time = 4
anim = 1002
ID = 1001
bindtime = -1
removetime = -1
pos = 0,0
scale = Const(size.xscale),Const(size.yscale)
ownpal = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 65535
persistent = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "x"
value = 1025
ignorehitpause = 1
ctrl = 0
[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "y"
value = 1010
ignorehitpause = 1
ctrl = 0
[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "z"
value = 1015
ignorehitpause = 1
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "a" || Command = "b" || Command = "c"
value = 1035
ignorehitpause = 1
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) < 4
trigger1 = Command = "x" || Command = "y" || Command = "z"
value = 1005+(Var(22)*5)
ignorehitpause = 1
ctrl = 0

;----------------------------------------------------------------------------------
; Rolling Buckler (VP)
[Statedef 1006]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1000
sprpriority = 2
velset = 0,0
poweradd = 84
juggle = 0; HAH
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(3) = 0
[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = ifElse((Command = "HCF_hp" || Command = "HCB_hp"),2,ifElse((Command = "HCF_mp" || Command = "HCB_mp"),1,0))

[State 1020, Width]
type = Width
trigger1 = Anim = 1005
value = -3,-3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 3
value = S200,0

[State 1020, 1]
type = ChangeAnim
triggerall = Anim = 1000
trigger1 = AnimTime = 0
value = 1005

[State 1020, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1005
statetype = A
movetype = A

[State 1020, 2]
type = VelSet
trigger1 = Anim = 1005 && AnimElemTime(1) = 0
x = 2+Var(11)
y = -17;15
persistent = 0

[State 1020, VelAdd]
type = VelAdd
trigger1 = Time > 3
y = 2

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(3) < Var(22)+1
triggerall = Anim = 1005
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3) < 0
trigger2 = AnimElemTime(4)>=0 && AnimElemTime(5) < 0
trigger3 = AnimElemTime(6)>=0 && AnimElemTime(7) < 0
trigger4 = AnimElemTime(8)>=0
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(3) < Var(22)+1
triggerall = Anim = 1005
trigger1 = AnimElemTime(1)>=0 && AnimElemTime(2) < 0
trigger2 = AnimElemTime(3)>=0 && AnimElemTime(4) < 0
trigger3 = AnimElemTime(5)>=0 && AnimElemTime(6) < 0
trigger4 = AnimElemTime(7)>=0 && AnimElemTime(8) < 0
attr = A, SA
damage = floor(ifElse(((63+35*fvar(1))-var(32))<7,7,((63+35*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > Var(22)
trigger2 = !Enemy, Alive
value = 1406

[State 1000, ChangeState]
type = ChangeState
trigger1 = Time > 3
trigger1 = Pos Y + Vel Y >= 0
value = stateNo+1

;----------------------------------------------------------------------------------
; Rolling Buckler (VP) (ground)
[Statedef 1007]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1006
sprpriority = 2
velset = 0,0
poweradd = 0
juggle = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 23+(Var(22)>0)
[State 1000, VarSet]
type = VarAdd
trigger1 = Time > 0
trigger1 = Var(12)
var(12) = -1
ignorehitpause = 0

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1020, Width]
type = Width
trigger1 = 1
value = -3,-3

[State 1020, 1]
type = ChangeAnim
triggerall = Anim = 1006
trigger1 = AnimTime = 0
value = 1005

[State 1020, 2]
type = VelSet
trigger1 = Time = 3
x = 2+Var(11)

[State 1020, 2]
type = VelSet
trigger1 = Time > 3 && Vel X < ifElse(Var(22)=2,11,(6+Var(22)*2))
x = Vel X+1

[State 1020, 2]
type = VelSet
trigger1 = Vel X >= ifElse(Var(22)=2,11,(6+Var(22)*2))
x = ifElse(Var(22)=2,11,(6+Var(22)*2))

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
triggerall = Var(3) < Var(22)+1
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3) < 0
trigger2 = AnimElemTime(4)>=0 && AnimElemTime(5) < 0
trigger3 = AnimElemTime(6)>=0 && AnimElemTime(7) < 0
trigger4 = AnimElemTime(8)>=0
attr = S, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
triggerall = Var(3) < Var(22)+1
trigger1 = AnimElemTime(1)>=0 && AnimElemTime(2) < 0
trigger2 = AnimElemTime(3)>=0 && AnimElemTime(4) < 0
trigger3 = AnimElemTime(5)>=0 && AnimElemTime(6) < 0
trigger4 = AnimElemTime(7)>=0 && AnimElemTime(8) < 0
attr = S, SA
damage = floor(ifElse(((63+35*fvar(1))-var(32))<7,7,((63+35*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > Var(22)
trigger2 = !Enemy, Alive
value = 1406

[State 1000, ChangeState]
type = ChangeState
trigger1 = !Var(12)
value = 1305

[State 1000, Explod]
type = Explod
trigger1 = Time = 3
anim = 1002
ID = 1001
bindtime = -1
removetime = -1
pos = 0,0
scale = Const(size.xscale),Const(size.yscale)
ownpal = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 65535
persistent = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
trigger1 = Command = "x" || Command = "y" || Command = "z"
value = 1005+(Var(22)*5)
ignorehitpause = 1
ctrl = 0

;----------------------------------------------------------------------------------
; Neko Punch
[Statedef 1025]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1035
sprpriority = 2
poweradd = 56
juggle = 0

[State 1012, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S8,1
channel = 0

[State 1035, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
channel = 1

[State 1025, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1025, VelSet]
type = VelSet
trigger1 = !Time
x = 5.125
[State 1025, VelAdd]
type = VelAdd
trigger1 = Time > 1
x = ifElse(Vel X <= 0,0,-0.25)
[State 1025, VelSet]
type = VelSet
trigger1 = Time > 0 && Vel X <=0
x = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 3
attr = S, SA
damage = floor(ifElse(((35+14*fvar(1))-var(32))<7,7,((35+14*fvar(1))-var(32)))),7
animtype = Back
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-42)
yaccel = 0.625
hitsound = S3,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
ID = 1025
persistent = 0

[State 1025, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Rolling Uppercut (Light)
[Statedef 1005]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1010
sprpriority = 2
velset = 0,0
poweradd = 56
juggle = 0

[State 1015, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S8,0
persistent = 0

[State 1015, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1015, VelSet]
type = VelSet
trigger1 = Anim = 1010 && AnimElem = 2
x = 4
y = -8

[State 1015, VelAdd]
type = VelAdd
trigger1 = Time > 2
x = ifElse(Vel X <= 0,0,-0.34375) ; Fibonacci average of -.34375
y = 0.45833; Fibonacci average of .34375

[State 1015, VelSet]
type = VelSet
trigger1 = Time > 3 && Vel X <= 0
x = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.9167
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3,-14.3125
guard.velocity = -12.523
air.type = High
air.velocity = -3,-14.3125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
ID = 1015
persistent = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && ((FVar(19) < (1+(NumTarget(1015)))) || FVar(13))
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-56)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
persistent = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1015, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1010 && AnimTime = 0
value = 1016

[State 1005, ChangeState]
type = ChangeState
triggerall = Anim = 1016
trigger1 = Pos Y + Vel Y >= 0
value = 1305;50

;----------------------------------------------------------------------------------
; Rolling Uppercut (Medium)
[Statedef 1010]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1015
sprpriority = 2
velset = 0,0
poweradd = 56
juggle = 0

[State 1015, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S8,0
persistent = 0

[State 1015, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1015, VelSet]
type = VelSet
trigger1 = Anim = 1015 && AnimElem = 2
x = 6
y = -8

[State 1015, VelAdd]
type = VelAdd
trigger1 = Time > 2
x = ifElse(Vel X <= 0,0,-0.45833) ; Fibonacci average of -.34375
y = .67                           ; Fibonacci average of .5 --- (.5 + .5 + 1.0)/ 3 = .67

[State 1015, VelSet]
type = VelSet
trigger1 = Time > 3 && Vel X <= 0
x = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.9167
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3,-14.3125
guard.velocity = -12.523
air.type = High
air.velocity = -3,-14.3125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
ID = 1015
persistent = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && ((FVar(19) < (1+(NumTarget(1015)))) || FVar(13))
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-56)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
persistent = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1015, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1015 && AnimTime = 0
value = 1016

[State 1005, ChangeState]
type = ChangeState
triggerall = Anim = 1016
trigger1 = Pos Y + Vel Y >= 0
value = 1305;50

;----------------------------------------------------------------------------------
; Rolling Uppercut (Heavy)
[Statedef 1015]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1025
sprpriority = 2
velset = 0,0
poweradd = 56
juggle = 0

[State 1005, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S8,0
persistent = 0

[State 1005, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1005, VelSet]
type = VelSet
trigger1 = Anim = 1025 && AnimElem = 2
x = 7.5
y = -10

[State 1005, VelAdd]
type = VelAdd
trigger1 = Time > 2
x = ifElse(Vel X <= 0,0,-0.45833) ; Fibonacci average of -.34375
y = .67                           ; Fibonacci average of .5 --- (.5 + .5 + 1.0)/ 3 = .67

[State 1015, VelSet]
type = VelSet
trigger1 = Time > 3 && Vel X <= 0
x = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.9167
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3,-14.3125
guard.velocity = -12.523
air.type = High
air.velocity = -3,-14.3125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
ID = 1015
persistent = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && ((FVar(19) < (1+(NumTarget(1015)))) || FVar(13))
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-56)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
persistent = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1025, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1025 && AnimTime = 0
value = 1016

[State 1005, ChangeState]
type = ChangeState
triggerall = Anim = 1016
trigger1 = Pos Y + Vel Y >= 0
value = 1305;50

;----------------------------------------------------------------------------------
; Sliding Kick
[Statedef 1035]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1045
sprpriority = 2
poweradd = 56
juggle = 0

[State 1035, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
channel = 1

[State 1035, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1035, VelSet]
type = VelSet
trigger1 = !Time
x = 5.125
[State 1035, VelAdd]
type = VelAdd
trigger1 = Time > 1
x = ifElse(Vel X <= 0,0,-0.25)
[State 1035, VelSet]
type = VelSet
trigger1 = Time > 0 && Vel X <=0
x = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Medium
guardflag = L
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-14)
yaccel = 0.625
hitsound = S3,2
guardsound = S5,0
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -2.96875,-9.53125
air.type = Trip
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 14
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
persistent = 0

[State 1035, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Cat Spike (Light)
[Statedef 1200]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1200
sprpriority = 2
velset = 0,0
juggle = 8
poweradd = 125
facep2 = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = 0

[State 1200, Ball]
type = Helper
trigger1 = !Time
ID = 8411
stateno = 1205
pos = (Ceil((Const(size.xscale))*8)),(Ceil((Const(size.yscale))*-30))
postype = p1
bindtime = 1
size.xscale = (Const(size.xscale))
size.yscale = (Const(size.yscale))
ownpal = 1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 1200, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 6
attr = S, SA
damage = floor(ifElse(((112+42*fvar(1))-var(32))<7,7,((112+42*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-49)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -12.523
guard.ctrltime = 14
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 15
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 56*!Var(13),28*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 1200

[State 1020, VelSet]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
x = 32*Const(size.Xscale)

[State 1020, VelSet]
type = VelSet
trigger1 = AnimElemTime(7) = 1
x = 4

[State 1020, VelSet]
type = VelSet
trigger1 = AnimElemTime(12) = 0
x = 0

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Cat Spike (Medium)
[Statedef 1210]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1210
sprpriority = 2
velset = 0,0
juggle = 0
poweradd = 125
facep2 = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = 1

[State 1220, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
statetype = A

[State 1020, VelSet]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = 4.5
y = -5

[State 1210, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(4) > 0
x = -0.020833; Fib avg. of -0.015625;-.0078125
y = .5;.375

[State 1210, Ball]
type = Helper;Explod
trigger1 = !Time
stateno = 1205
ID = 84112
pos = (Ceil((Const(size.xscale))*8)),(Ceil((Const(size.yscale))*-32))
postype = p1
bindtime = 1
size.xscale = (Const(size.xscale))
size.yscale = (Const(size.yscale))
ownpal = 1

[State 1210, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(9) >= 0
trigger2 = MoveContact
ID = 8411

[State 1210, Slice]
type = Explod
trigger1 = AnimElemTime(9) = 0
anim = 7005
pos = (Ceil((Const(size.xscale))*6)),(Ceil((Const(size.yscale))*34))
postype = p1
removetime = -2
bindtime = -1
scale = (Const(size.xscale)),(Const(size.yscale))
ownpal = 1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 1210, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 9 || AnimElem = 10
attr = A, SA
damage = floor(ifElse(((119+42*fvar(1))-var(32))<7,7,((119+42*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-49)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.ctrltime = 17
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 56*!Var(13),28*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 1210, Gravity]
type = VelAdd
trigger1 = AnimElemTime(12) >= 0
y = .47

[State 1210, ChangeState]
type = ChangeState
triggerall = AnimElemTime(4) > 1
trigger1 = Pos Y + Vel Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; Cat Spike (Heavy)
[Statedef 1220]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1220
sprpriority = 2
velset = 0,0
juggle = 0
poweradd = 125
facep2 = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = 2

[State 1220, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
statetype = A

[State 1020, VelSet]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = 7.5
y = -6

[State 1020, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(4) > 1
x = -0.020833; Fib avg. of -0.015625;-.0078125
y = .5;.375

[State 1220, Ball]
type = Helper
trigger1 = !Time
stateno = 1205
ID = 84113
pos = (Ceil((Const(size.xscale))*8)),(Ceil((Const(size.yscale))*-32))
postype = p1
bindtime = 1
size.xscale = (Const(size.xscale))
size.yscale = (Const(size.yscale))
ownpal = 1

[State 1220, Slice]
type = Explod
trigger1 = AnimElemTime(9) = 0
anim = 7005
pos = (Ceil((Const(size.xscale))*6)),(Ceil((Const(size.yscale))*34))
postype = p1
removetime = -2
bindtime = -1
scale = (Const(size.xscale)),(Const(size.yscale))
ownpal = 1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 1220, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 9 || AnimElem = 10
attr = A, SA
damage = floor(ifElse(((125+49*fvar(1))-var(32))<7,7,((125+49*fvar(1))-var(32)))),14
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-49)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 56*!Var(13),28*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 1220, Gravity]
type = VelAdd
trigger1 = AnimElemTime(12) >= 0
y = .47

[State 1220, ChangeState]
type = ChangeState
triggerall = AnimElemTime(4) > 1
trigger1 = Pos Y + Vel Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; Ball
[Statedef 1205]
type = A
movetype = I
physics = N
poweradd = 0
ctrl = 0
ownpal = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = isHelper(2250)
movetype = A

[State 1200, priority]
type = SprPriority
trigger1 = 1
value = isHelper(2250)*3

[State 1200, NotHitBy]
type = NotHitBy
trigger1 = 1;!isHelper(2250)
value = SCA
[State 1005, HitOverride]
type = null;HitOverride
trigger1 = isHelper(2250)
attr = SCA,AA,AP,AT
time = -1
stateno = stateno
ignorehitpause = 1
[State 1005, HB]
type = null;HitBy
trigger1 = isHelper(2250)
value = SCA,AP
time = -1
ignorehitpause = 1

[State 1200, NotHitBy]
type = PlayerPush
trigger1 = !isHelper(2250)
value = 0

[State 1200, BindToParent]
type = BindToParent
triggerall = parent, StateNo = 1200
trigger1 = ParentDist X >= (Ceil((Const(size.xscale))*78))
pos = (Ceil((Const(size.xscale))*78)),(Ceil((Const(size.yscale))*-49))
facing = 1
time = 1

[State 1200, Ball]
type = ChangeAnim
trigger1 = !Time
value = 1205

[State 1200, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = (Ceil((Const(size.xscale))*ifElse(IsHelper(8411),8.41,ifElse(IsHelper(84112),6.1,8.4))))
[State 1200, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root, FVar(1)
[State 1200, VarSet]
type = VarSet
trigger1 = 1
fvar(18) = root, FVar(18)
[State 1200, VarSet]
type = VarSet
trigger1 = 1
fvar(19) = root, FVar(19)

[State 1200, VelSet]
type = VelSet
triggerall = !isHelper(2250)
trigger1 = Anim = 1205 && !Time
x = FVar(0)
y = (Ceil((Const(size.yscale))*ifElse(IsHelper(8411),-3.99999987,ifElse(IsHelper(84112),-6.99998,-7))))

[State 1200, VelSet]
type = VelSet
triggerall = isHelper(2250)
triggerall = !Var(0)
trigger1 = Anim = 1205 && !Time
x = 2.15
y = -8.4;-7

[State 1200, VelSet]
type = PosAdd
trigger1 = isHelper(84113) && Time = 8
x = 9
[State 1200, VelSet]
type = PosAdd
trigger1 = isHelper(84113) && Time = 10
x = 4

[State 2250, VelAdd]
type = VelAdd
triggerall = isHelper(2250)
triggerall = Anim != 1206
trigger1 = !Var(0)
trigger1 = (Time > 1 && Time < 31) || Time > 33
y = .25

[State 2250, VelAdd]
type = VelAdd
triggerall = isHelper(2250)
triggerall = Anim != 1206
trigger1 = var(0)
y = .5

[State 2250, VelSet]
type = VelSet
triggerall = isHelper(2250)
triggerall = Anim != 1206
triggerall = !Var(0)
trigger1 = Time = 31;var(0)
x = 0
y = 0

[State 2250, VelSet]
type = VelSet
triggerall = isHelper(2250)
triggerall = Anim != 1206
triggerall = !Var(0)
trigger1 = Time = 33;var(0)
x = 6.78
y = 11

[State 1200, VelAdd]
type = VelAdd
triggerall = !isHelper(2250)
triggerall = Anim != 1206
trigger1 = Time > 3
y = ifElse(isHelper(84112),.6,.5)

[State 2250, VarSet]
type = VarSet
triggerall = isHelper(2250)
trigger1 = root,ProjCancelTime(0) != -1 && root,ProjCancelTime(0) < 2
var(50) = 1
[State 0, Projectile]
type = Projectile
triggerall = Time > 33 || prevStateNo = 1206
triggerall = isHelper(2250)
trigger1 = !Var(50)
ProjID = 2250
ID = 2250
projanim = anim
projhitanim = 2250
projremanim = -1
projscale = 0,0
projremovetime = 1
velocity = Vel X, Vel Y
projpriority = 1
offset = 0,0
postype = p1
hitflag = P
[State 1105, Projectile]
type = Hitdef
triggerall = Time > 33 || prevStateNo = 1206
triggerall = !Var(50)
triggerall = isHelper(2250)
triggerall = !NumTarget(2250)
trigger1 = !FVar(18) && FVar(19) = 0
attr = , SA ; YES, I AM TWO CANS SHORT OF A SIX PACK!
damage = floor(ifElse(((125+56*fvar(1))-var(32))<7,7,((125+56*fvar(1))-var(32)))),0
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = 0,0
yaccel = .625
hitsound = S3,2
guardsound = S5,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 1
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 2250

[State 1200, Ball]
type = ChangeAnim
trigger1 = root, Anim = 1200
trigger1 = root, AnimElemTime(6) = 0
trigger2 = root, Anim = 1210 || root, Anim = 1220
trigger2 = root, AnimElemTime(9) = 0
trigger3 = isHelper(2250)
trigger3 = moveContact = 1 || var(50)
value = 1206
persistent = 0

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = root, Anim = 1200
trigger1 = root, AnimElemTime(6) = 0
trigger2 = root, Anim = 1210 || root, Anim = 1220
trigger2 = root, AnimElemTime(9) = 0
trigger3 = isHelper(2250)
trigger3 = moveContact = 1 || var(50)
value = S200,2
channel = 5
persistent = 0

[State 1200, VelSet]
type = VelSet
trigger1 = Anim = 1206
x = 0
y = 0

[State 1200, PosFreeze]
type = PosFreeze
trigger1 = Anim = 1206
value = 1

[State 1200, ChangeState]
type = ChangeState
triggerall = !numTarget(2250)
trigger1 = Vel Y + Pos Y >= 0
value = 1206

[State 1200, DestroySelf]
type = DestroySelf
trigger1 = Anim = 1206 && AnimTime = 0
trigger2 = BackEdgeBodyDist <= -40
trigger3 = FrontEdgeBodyDist <= -40

;----------------------------------------------------------------------------------
[Statedef 1206]
type = A
movetype = I
physics = N
poweradd = 0
ctrl = 0
ownpal = 1
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = isHelper(2250) && !Time
var(0) = 1

[State 1206, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1206, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 1207+isHelper(2250)

[State 1206, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S200,1
;persistent = 0

[State 1200, VelSet]
type = VelSet
triggerall = Anim = 1208
trigger1 = AnimElemTime(2) = 0
x = 7.7143
y = -9.75

[State 1200, VelSet]
type = VelAdd
triggerall = Anim = 1208
trigger1 = AnimElemTime(2) > 0
y = .5

[State 1206, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1205

;----------------------------------------------------------------------------------
; Sand Splash
[Statedef 1100]
type = S
movetype = A
physics = S
poweradd= 125
ctrl = 0
sprpriority = 2
velset = 0,0
juggle = 2
facep2 = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = ifElse((Command = "QCF_hk" || Command = "QCB_hk"),2,ifElse((Command = "QCF_mk" || Command = "QCB_mk"),1,0))

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 1100+Var(22)*10

[State 1100, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S200,4

[State 1100, Helper]
type = Helper
trigger1 = AnimElemTime(4) = 0
helpertype = Projectile
name = "Sand"
ID = 1105
stateno = 1105
pos = -13,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
persistent = 0
removeongethit = 1

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Sand
[Statedef 1105]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0

[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State 220, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = parent,FVar(1)
[State 220, VarSet]
type = VarSet
trigger1 = !Time
var(22) = parent,Var(22)

; This shit is gonna be ugly
[State 1105, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 1130
[State 1105, L2]
type = ChangeAnim
trigger1 = !Var(22) && Time = 1
value = 1131
[State 1105, L3]
type = ChangeAnim
trigger1 = Anim = 1131 && !AnimTime
value = 1132

[State 1105, M2]
type = ChangeAnim
trigger1 = Var(22)=1 && Anim = 1130 && !AnimTime
value = 1133
[State 1105, M3]
type = ChangeAnim
trigger1 = Anim = 1133 && !AnimTime
value = 1134
[State 1105, M4]
type = ChangeAnim
trigger1 = Anim = 1134 && !AnimTime
value = 1135

[State 1105, H2]
type = ChangeAnim
trigger1 = Var(22)=2 && Anim = 1130 && !AnimTime
value = 1136
[State 1105, H3]
type = ChangeAnim
trigger1 = Anim = 1136 && !AnimTime
value = 1137
[State 1105, H4]
type = ChangeAnim
trigger1 = Anim = 1137 && !AnimTime
value = 1138
[State 1105, H4]
type = ChangeAnim
trigger1 = Anim = 1138 && !AnimTime
value = 1139

[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
attr= SCA,AA,AP,AT
time = -1
stateno = stateNo+1
ignorehitpause = 1
[State 1105, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[State 1105, Explod]
type = Explod
trigger1 = Time = 0
anim = 1105
ID = 600
pos = 0,0
postype = p1
removetime = -2;ifElse(!Var(22),12,18)
bindtime = 1
vel = 0,0
accel = 0,0
scale = Const(Size.Xscale),Const(Size.Yscale)
ownpal = 1
sprpriority = 5
persistent = 0
[State 1105, Explod]
type = Explod
trigger1 = Time = 1 && Var(22)
anim = 1105
ID = 601
pos = 13,ceil(Const(size.Yscale)*-8)
postype = p1
removetime = -2
bindtime = 1
vel = 0,0
accel = 0,0
scale = Const(Size.Xscale),Const(Size.Yscale)
ownpal = 1
sprpriority = 4
persistent = 0
[State 1105, Explod]
type = Explod
trigger1 = Time = 3 && Var(22)=2
anim = 1105
ID = 602
pos = 27,ceil(Const(size.Yscale)*-15)
postype = p1
removetime = -2
bindtime = 1
vel = 0,0
accel = 0,0
scale = Const(Size.Xscale),Const(Size.Yscale)
ownpal = 1
sprpriority = 3
persistent = 0
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 600
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 601
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 602

; VP notes:
; First 2 elems - hit 1
; Middle 2 elems - hit 2
; Last elem - hit 3

[State 2250, VarSet]
type = VarSet
triggerall = !isHelper(2105)
trigger1 = root,ProjCancelTime(0) != -1 && root,ProjCancelTime(0) < 2
var(50) = 1

; UGLY SHIT
[State 2250, Reset]
type = VarSet
triggerall = isHelper(2105) && Var(50)
trigger1 = root, Var(10) > 0
trigger1 = anim = 1136
var(50) = 0
persistent = 0
[State 1100, Reset]
type = VarSet
triggerall = isHelper(2105) && Var(50)
trigger1 = anim = 1137
var(50) = 0
persistent = 0
[State 2250, Reset]
type = VarSet
triggerall = isHelper(2105) && Var(50)
trigger1 = root, Var(10) > 0
trigger1 = anim = 1138
var(50) = 0
persistent = 0
[State 1100, Reset]
type = VarSet
triggerall = isHelper(2105) && Var(50)
trigger1 = anim = 1139
var(50) = 0
persistent = 0

[State 1100, Hit]
type = VarSet
triggerall = Var(51)
triggerall = root, Var(10) = 0
trigger1 = anim = 1137
var(51) = 0
persistent = 0
[State 1100, Hit]
type = VarSet
triggerall = Var(51)
triggerall = root, Var(10) = 0
trigger1 = anim = 1139
var(51) = 0
persistent = 0
[State 1100, Hit]
type = VarSet
triggerall = root, Var(10) = 0
trigger1 = moveContact = 1
var(51) = 1

[State 1005, PlaySnd]
type = null;PlaySnd
trigger1 = Var(50)
value = S666,666

[State 1005, This is for fossils]
type = Projectile
trigger1 = !Var(50) && !Var(52)
ProjID = 1100
projanim = anim
projhitanim = -1
projremanim = -1
projscale = 0,0
projpriority = 1
projremovetime = 1;8+(Var(22)*2)
postype = p1
velocity = 0
offset = 0,0
ownpal = 1
;pausetime = 1,1
ignorehitpause = 0
[State 1105, Projectile]
type = HitDef
triggerall = !root, FVar(18) && root, FVar(19) = 0
triggerall = AnimElem = 1

trigger1 = !Var(50) && !isHelper(2105)

trigger2 = isHelper(2105) && root, Var(10) = 0
trigger2 = !Var(50) && !Var(51)

trigger3 = isHelper(2105) && root, Var(10) > 0
trigger3 = Var(50) != anim

attr = , SA ; IT WORKS! I AM ONE CAN SHORT OF A SIX PACK!
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkxy = 65535,65535
yaccel = .5
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 17
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.type = Low
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 0
persistent = 1
getpower = 42*!Var(13)*!isHelper(2105),21*!Var(13)*!isHelper(2105)
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 1005

[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = moveHit = 1 && var(6) = HitPauseTime
anim = 8210
pos = 10,-35
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State 1100, Explod]
type = Explod
trigger1 = moveGuarded = 1 && var(6) = HitPauseTime
anim = 8105
pos = 10,-35
facing = target,facing
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 0, ChangeState]
type = ChangeAnim
trigger1 = !isHelper(2105)
trigger1 = moveContact = 1
trigger2 = parent, MoveType = H
value = 1
ignorehitpause = 1

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "var(50) = %d  var(51) = %d, var(52) = %d"
params = var(50),var(51),var(52)

[State 1105, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0 ;&& parent, Anim = 1120
trigger2 = parent, StateNo != 1100
trigger3 = parent, movetype = H
;trigger4 = !root, NumProjID(1000)
;trigger5 = MoveReversed

[Statedef 1106]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1

[State 1106, DestroySelf]
type = DestroySelf
trigger1 = !Time

;----------------------------------------------------------------------------------
; Delta Kick
[Statedef 1300]
type = S
movetype = A
physics = N
poweradd= 125
ctrl = 0
sprpriority = 2
velset = 0,0
juggle = 0
facep2 = 1

[State 1300, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = ifElse((Command = "DK_hk" || Command = "DB_hk"),2,ifElse((Command = "DK_mk" || Command = "DB_mk"),1,0))

[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 1300+20*(Var(10)=0)+10*(Var(22)>0)

[State 1300, VelSet]
type = VelSet
trigger1 = Anim = 1300 || Anim = 1310
trigger1 = AnimElemTime(3) = 0
trigger2 = Anim = 1320 || Anim = 1330
trigger2 = AnimElemTime(2) = 0
x = 0
;y = -10-(Var(22) = 1)-((Var(22) = 2)*3.5)
y = -9.1875-(Var(22) = 1)-((Var(22) = 2)*3.1875)

[State 1300, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1300 || Anim = 1310
trigger1 = AnimElemTime(3) = 0
trigger2 = Anim = 1320 || Anim = 1330
trigger2 = AnimElemTime(2) = 0
statetype = A
physics = N

[State 1300, VelAdd]
type = VelAdd
triggerall = Time > 5
trigger1 = (Anim = 1300 || Anim = 1310) && AnimElemTime(9) < 0
trigger2 = Anim = 1320 && AnimElemTime(7) < 0
trigger3 = Anim = 1330 && AnimElemTime(8) < 0
y = .75;0.5625;.8
[State 1300, VelAdd]
type = VelAdd
triggerall = Vel Y <= (3.5+(Var(22)*.5))
trigger1 = (Anim = 1300 || Anim = 1310) && AnimElemTime(9) > 0
trigger2 = Anim = 1301
trigger3 = Anim = 1320 && AnimElemTime(7) > 0
trigger4 = Anim = 1330 && AnimElemTime(8) > 0
trigger5 = Anim = 1321
y = 0.2395833;0.1796875

[State 1300, VP]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = Anim = 1320
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(8) < 0
trigger2 = Anim = 1330
trigger2 = AnimElemTime(2) >= 0 && AnimElemTime(9) < 0
attr = S, SA
damage = floor(ifElse(((49+28*fvar(1))-var(32))<7,7,((49+28*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-70
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0
[State 1300, VH,VS]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = Anim = 1300 || Anim = 1310
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(9) < 0
attr = S, SA
damage = floor(ifElse((((56+Var(22)*7)+(35+Var(22)*7)*fvar(1))-var(32))<7,7,(((56+Var(22)*7)+(35+Var(22)*7)*fvar(1))-var(32)))),14
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-70
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, HitDef2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = Anim = 1300 || Anim = 1310
trigger1 = AnimElemTime(11) >= 0
trigger2 = Anim = 1320
trigger2 = AnimElemTime(8) >= 0
trigger3 = Anim = 1330
trigger3 = AnimElemTime(9) >= 0
attr = S,SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20-3*(Var(10)=0)
ground.hittime  = 20-3*(Var(10)=0)
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20-3*(Var(10)=0)
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20-3*(Var(10)=0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
ID = 2
persistent = 0

[State 1300, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 1300 || Anim = 1310
trigger1 = AnimElemTime(11) > 0 && MoveContact = 1
value = 1301
[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1320
trigger1 = AnimElemTime(8) > 0 && MoveContact = 1
trigger2 = Anim = 1330
trigger2 = AnimElemTime(9) > 0 && MoveContact = 1
value = 1321

[State 1300, HitDef3]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 1301 || Anim = 1321
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S,SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20-3*(Var(10)=0)
ground.hittime  = 20-3*(Var(10)=0)
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 20-3*(Var(10)=0)
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20-3*(Var(10)=0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1300 || Anim = 1310
trigger1 = AnimElem = 10
trigger2 = Anim = 1320
trigger2 = AnimElem = 8
trigger3 = Anim = 1330
trigger3 = AnimElem = 9
value = S8,2

[State 1020, VelSet]
type = VelSet
trigger1 = (Anim = 1300 || Anim = 1310) && AnimElemTime(9) = 0
trigger2 = Anim = 1320 && AnimElemTime(7) = 0
trigger3 = Anim = 1330 && AnimElemTime(8) = 0
x = (4+(Var(22)*1.425));*Const(Size.Xscale);*(10.0/9.0)
;x = (3.5+(Var(22)*.5));*Const(Size.Xscale);*(10.0/9.0)
y = (1.75+(Var(22)*.25))

[State 1020, 3]
type = VelAdd
trigger1 = (Anim = 1300 || Anim = 1310) && AnimElemTime(9) > 0
trigger2 = Anim = 1301
trigger3 = Anim = 1320 && AnimElemTime(7) > 0
trigger4 = Anim = 1330 && AnimElemTime(8) > 0
trigger5 = Anim = 1321
x = (.34765625+Var(22)*.05078125); THIS IS CALLED "ANALYSIS"
[State 1020, I Can't Believe I'm Doing This]
type = null;PosAdd
triggerall = ((Anim = 1300 || Anim = 1310) && AnimElemTime(9) > 0) || (Anim = 1320 && AnimElemTime(6) > 0) || (Anim = 1330 && AnimElemTime(7) > 0)
trigger1 = Time = 22
trigger2 = Time = 27
trigger3 = Time = 32
trigger4 = Time = 37
x = .25

[State 1020, VelSet]
type = VelSet
trigger1 = Vel Y >= (3.5+(Var(22)*.5)) ;3.5
y = (3.5+(Var(22)*.5))*(4.0/3.0)

[State 1300, ChangeState]
type = ChangeState
triggerall = StateType = A
trigger1 = Vel Y + Pos Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; G. Cancel
[Statedef 2800]
type = S
movetype = A
physics = S
poweradd = -1000
ctrl = 0
sprpriority = 2
velset = 0,0
juggle = 0
facep2 = 1

[State 0, G.Cancel]
type = PalFX
trigger1 = Time < 6
time = 1 
add = 255,255,255
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 1300, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = ifElse((Command = "DK_hk" || Command = "DB_hk"),2,ifElse((Command = "DK_mk" || Command = "DB_mk"),1,0))

[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 1300+10*(Var(22)>0)

[State 1300, VelSet]
type = VelSet
triggerall = Anim != 1301
trigger1 = AnimElemTime(3) = 0
x = 0
y = -8-(Var(22) = 1)-((Var(22) = 2)*3.5)-2

[State 1300, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) = 0
statetype = A
physics = N

[State 1300, VelAdd]
type = VelAdd
triggerall = Time > 5
trigger1 = !Var(22) && (Vel Y < 3.5)
trigger2 = Var(22)=1 && (Vel Y < 3)
trigger3 = Var(22)=2 && (Vel Y < 4.5)
y = .8

[State 1300, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim != 1301
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(9) < 0
attr = S, SA
damage = floor(ifElse((((56+Var(22)*7)+(35+Var(22)*7)*fvar(1))-var(32))<7,7,(((56+Var(22)*7)+(35+Var(22)*7)*fvar(1))-var(32)))),14
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-70
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, HitDef2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim != 1301
trigger1 = AnimElemTime(11) >= 0
attr = S,SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
ID = 2
persistent = 0

[State 1300, HitDef3]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 1301
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S,SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, PlaySnd]
type = PlaySnd
triggerall = Anim != 1301
trigger1 = AnimElem = 10
value = S8,2

[State 1020, VelSet]
type = VelSet
trigger1 = Anim != 1301 && AnimElemTime(9) = 0
x = 3.5+(Var(22)*.5)
y = 1.25+(Var(22)*.75)

[State 1020, 3]
type = VelAdd
trigger1 = Anim != 1301 && AnimElemTime(9) > 0 || Anim = 1301
x = ifElse(Var(22)=2,.4,.25); THIS IS CALLED "ANALYSIS"
[State 1020, I Can't Believe I'm Doing This]
type = PosAdd
triggerall = Anim != 1301 && AnimElemTime(9) > 0 ;|| Anim = 1301
trigger1 = Time = 22
trigger2 = Time = 27
trigger3 = Time = 32
trigger4 = Time = 37
x = .25

[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 1301 && AnimElemTime(11) > 0 && MoveContact = 1
value = 1301

[State 1300, ChangeState]
type = ChangeState
triggerall = StateType = A
trigger1 = Vel Y + Pos Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; Custom Land State
[Statedef 1305]
type    = S
physics = S
ctrl = 0
anim = 47
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
trigger2 = AnimElemTime(5) = 0
value = S40,0
channel=1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Rolling Scratch
[Statedef 1400]
type    = A
physics = N
movetype= A
anim = ifElse(Var(11),1400,1000)
ctrl = 0
velset = 0,0
poweradd = 84
facep2 = !Var(11)

[State 1400, VarSet]
type = VarSet
trigger1 = Time = 0 && PrevStateNo != StateNo
var(22) = ifElse((Command = "QCB_hp" || Command = "QCF_hp"),2,ifElse((Command = "QCB_mp" || Command = "QCF_mp"),1,0))
[State 1400, Loop]
type = VarSet
trigger1 = !Var(11) && Time = 0
var(11) = var(22)
[State 1400, Loop]
type = VarAdd
trigger1 = !Time && PrevStateNo = StateNo
var(11) = -1

[State 1410, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1000 && AnimTime = 0
value = S200,0
channel = 1
[State 1400, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1400 && !Time
value = S40,0

[State 1400, VelSet]
type = VelSet
trigger1 = Anim = 1005 && AnimElemTime(1) = 1;(Anim = 1000 || Anim = 1400) && AnimTime = 0
x = 5
y = -17
persistent = 0

[State 1400, ChangeAnim]
type = ChangeAnim
trigger1 = (Anim = 1000 || Anim = 1400) && AnimTime = 0
value = 1005

[State 1400, VelAdd]
type = VelAdd
trigger1 = Anim = 1005
y = 1.67;1.25

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = !MoveContact && !MoveReversed
attr = A, SA
damage = floor(ifElse(((63+35*fvar(1))-var(32))<7,7,((63+35*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-7)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 25
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 6

[State 1400, ChangeState]
type = ChangeState
triggerall = Time > 7
trigger1 = MoveContact = 1
trigger1 = Command = "x"  || Command = "y" || Command = "z"
value = 1405
ignorehitpause = 0
ctrl = 0

[State 1400, ChangeState]
type = ChangeState
triggerall = Time > 1
trigger1 = MoveContact = 1
value = 1406;50
ignorehitpause = 0

[State 1400, ChangeAnim]
type = ChangeState
triggerall = Anim = 1005 && !MoveContact && !MoveReversed
trigger1 = Time > 6
trigger1 = Pos Y + Vel Y >= 0
value = ifElse(Var(11),stateNo,1305)

;----------------------------------------------------------------------------------
; Rolling Scratch Follow-Up
[Statedef 1405]
type    = A
physics = N
movetype= A
anim = 1405
ctrl = 0
poweradd = 0

[State 1405, VarAdd]
type = VarSet
trigger1 = Time = 0
var(11) = 4

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 0
x = 3.25 ;1.25, increased to prevent whiffing
y = -3.25

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1405, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1405 && AnimElem = 2
trigger2 = Anim = 1406 && AnimElem = 1
value = S0,0
channel = 1

[State 1405, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1407 && AnimElem = 4
value = S0,2
channel = 1

[State 1405, VarAdd]
type = VarAdd
trigger1 = AnimTime = 0
var(11) = -1

[State 1405, Anim]
type = ChangeAnim
triggerall = Var(25) && Var(11)>0
trigger1 = Anim = 1405 && AnimTime = 0
value = 1406
[State 1405, Anim]
type = ChangeAnim
triggerall = Var(25) && Var(11)>0
trigger1 = Anim = 1406 && AnimTime = 0
value = 1405
elem = 2
[State 1405, Anim]
type = ChangeAnim
triggerall = Anim != 1407
trigger1 = !Var(11)
trigger2 = !Var(25) && AnimTime = 0
value = 1407

[State 1405, VelSet]
type = VelSet
trigger1 = Var(11) < 4
trigger1 = Anim = 1405 && AnimElemTime(2) = 0
trigger2 = Anim = 1406 && AnimElemTime(1) = 0
x = 3.25
y = -1.25

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 1405
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3 && !numTarget(1405)
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 1,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-14)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -5.406
guard.velocity = -5.406
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
persistent = 1
ID = 1405
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 1406
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2 && !numTarget(1406)
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 1,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-7)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -5.406
guard.velocity = -5.406
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
persistent = 1
ID = 1406

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 1407
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((49+21*fvar(1))-var(32))<7,7,((49+21*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S3,3
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -2.96875,-9.53125
guard.velocity = -5.406
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
fall = 1
air.fall = 1
fall.recover = 0
persistent = 1

[State 640, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(1405)
triggerall = Anim = 1405
triggerall = AnimElemTime(4) >= 0
trigger1 = moveContact = [1,9]
value = 1405
elem = 4
[State 640, Freeze Anim]
type = ChangeAnim
triggerall = NumTarget(1406)
triggerall = Anim = 1406
triggerall = AnimElemTime(3) >= 0
trigger1 = moveContact = [1,9]
value = 1406
elem = 3
[State 640, Freeze]
type = PosFreeze
triggerall = moveContact = [1,9]
trigger1 = NumTarget(1405)
trigger1 = Anim = 1405
trigger1 = AnimElemTime(2) >= 0
trigger2 = NumTarget(1406)
trigger2 = Anim = 1406
trigger2 = AnimElemTime(1) >= 0
value = 1

[State 1405, Buffer]
type = VarSet
trigger1 = !Time
trigger2 = command != "hold_x" && command != "hold_y" && command != "hold_z"
var(25) = 0
[State 1405, Buffer]
type = VarSet
triggerall = command = "hold_x" || command = "hold_y" || command = "hold_z"
trigger1 = !Var(25)
var(25) = 1

[State 1405, Gravity]
type = VelAdd
triggerall = moveContact != [1,9]
triggerall = Time > 0
trigger1 = Var(11) = 4
trigger1 = Anim = 1405 && Time > 0
trigger2 = Var(11) < 4
trigger2 = Anim = 1405 && AnimElemTime(2) > 0
trigger3 = Anim = 1406 && AnimElemTime(1) > 0
trigger4 = Anim = 1407
y = 1.25;.9375
ignorehitpause = 0

[State 1405, VelSet]
type = VelSet
trigger1 = Pos Y + Vel Y >= 0
x = 0

[State 1405, ChangeState]
type = ChangeState
triggerall = Time > 1
trigger1 = MoveGuarded > 9
value = 1406

[State 1405, ChangeState]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; Hit Off
[Statedef 1406]
type    = A
physics = N
movetype= I
anim = 1016
ctrl = 0

[State -2, Power Charge]
type = RemoveExplod
trigger1 = !Time
ID = 1001
ignorehitpause = 1

[State 1000, VelSet]
type = VelSet
trigger1 = !Time && (PrevStateNo = 1000 || (PrevStateNo = 3000) || (PrevStateNo = 2000))
x = -.25*(Var(50)=1);1.25+(Var(50)=2)
y = -12

[State 1420, VelSet]
type = VelSet
triggerall = !Time
trigger1 = PrevStateNo = 1005 || PrevStateNo = 1006 || PrevStateNo = 1007
trigger2 = PrevStateNo = 1400 || PrevStateNo = 1405 || PrevStateNo = 1407 || PrevStateNo = 2400
x = -3.25
y = -13.125

[State 920, 0]
type = VelAdd
trigger1 = PrevStateNo != 1005 && PrevStateNo != 1006 && PrevStateNo != 1007
trigger1 = PrevStateNo != 1400 && PrevStateNo != 1405 && PrevStateNo != 1407 && PrevStateNo != 2400
y = 0.875;1.1666666666666666666666666666667;.5625
[State 920, 0]
type = VelAdd
trigger1 = PrevStateNo = 1005 || PrevStateNo = 1006 || PrevStateNo = 1007
trigger2 = PrevStateNo = 1400 || PrevStateNo = 1405 || PrevStateNo = 1407 || PrevStateNo = 2400
y = 1.1666666666666666666666666666667;.5625

[State 50, ChangeState]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; Rolling Scratch (VP)
[Statedef 1407]
type    = A
physics = N
movetype= A
anim = ifElse(Var(11),1400,1000)
ctrl = 0
velset = 0,0
poweradd = 84
facep2 = !Var(11)

[State 1000, VarSet]
type = VarSet
trigger1 = !Time && PrevStateNo != StateNo
var(3) = 0
[State 1400, VarSet]
type = VarSet
trigger1 = Time = 0 && PrevStateNo != StateNo
var(22) = ifElse((Command = "HCB_hp" || Command = "HCF_hp"),2,ifElse((Command = "HCB_mp" || Command = "HCF_mp"),1,0))
[State 1400, Loop]
type = VarSet
trigger1 = !Var(11) && Time = 0
var(11) = var(22)
[State 1400, Loop]
type = VarAdd
trigger1 = !Time && PrevStateNo = StateNo
var(11) = -1

[State 1410, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1000 && AnimTime = 0
value = S200,0
channel = 1
[State 1400, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1400 && !Time
value = S40,0

[State 1400, VelSet]
type = VelSet
trigger1 = (Anim = 1000 || Anim = 1400) && AnimTime = 0
x = 5
y = -17
persistent = 0

[State 1400, ChangeAnim]
type = ChangeAnim
trigger1 = (Anim = 1000 || Anim = 1400) && AnimTime = 0
value = 1005

[State 1400, VelAdd]
type = VelAdd
trigger1 = Anim = 1005
y = 1.67;1.25

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(3) < Var(22)+1
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3) < 0
trigger2 = AnimElemTime(4)>=0 && AnimElemTime(5) < 0
trigger3 = AnimElemTime(6)>=0 && AnimElemTime(7) < 0
trigger4 = AnimElemTime(8)>=0
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(3) < Var(22)+1
trigger1 = AnimElemTime(1)>=0 && AnimElemTime(2) < 0
trigger2 = AnimElemTime(3)>=0 && AnimElemTime(4) < 0
trigger3 = AnimElemTime(5)>=0 && AnimElemTime(6) < 0
trigger4 = AnimElemTime(7)>=0 && AnimElemTime(8) < 0
attr = A, SA
damage = floor(ifElse(((63+35*fvar(1))-var(32))<7,7,((63+35*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1400, ChangeState]
type = ChangeState
triggerall = Time > 7
trigger1 = MoveContact = 1
trigger1 = Command = "x"  || Command = "y" || Command = "z"
value = 1405
ignorehitpause = 0
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > Var(22)
trigger2 = !Enemy, Alive
value = 1406

[State 1400, ChangeAnim]
type = ChangeState
triggerall = Anim = 1005 ;&& !MoveContact && !MoveReversed
trigger1 = Time > 6
trigger1 = Pos Y + Vel Y >= 0
value = ifElse(Var(11),stateNo,1305)

;----------------------------------------------------------------------------------
; Hellcat
[Statedef 1500]
type    = S
physics = N
movetype= A
anim = 1500
ctrl = 0
velset = 0,0
poweradd = 84

[State 1500, 1]
type = HitDef
triggerall = P2MoveType != H
triggerall = P2StateNo != [130,155]
trigger1 = AnimElem = 1
attr = S, ST
hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1501
p2stateno = 1502
guard.dist = 0
fall = 1

[State 1500, 1]
type = HitDef
triggerall = Var(30)
triggerall = P2StateNo != [130,155]
trigger1 = AnimElem = 1
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1501
p2stateno = 1502
guard.dist = 0
fall = 1

[State 1500, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 1500, VelSet]
type = VelSet
trigger1 = AnimElemTime(6) = 0
x = 2

[State 1500, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; Hellcat (P1)
[Statedef 1501]
type    = S
physics = N
movetype= A
anim = 1540
poweradd = 0
ctrl = 0

[State 1501, SprPriority]
type = SprPriority
triggerall = Anim = 1540
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
value = 0
[State 1501, SprPriority]
type = SprPriority
triggerall = Anim = 1540
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
trigger3 = AnimElem = 20
value = 2

[State 1501, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
[State 1501, PlayerPush]
type = ScreenBound
trigger1 = Anim = 1540
value = 0
movecamera = 0,0

[State 1501, PlaySnd]
type = PlaySnd
triggerall = Anim = 1540
trigger1 = AnimElemTime(1) = 0
value = S800,0

[State 832, Bind 1]
type = BindtoTarget
triggerall = Anim = 1540
trigger1 = AnimElemTime(1) = 0
time = 4
pos = 45,0
[State 832, Bind 2]
type = BindtoTarget
triggerall = Anim = 1540
trigger1 = AnimElemTime(2) = 0
time = 5
pos = 0,0
[State 1501, Bind 5]
type = BindtoTarget
triggerall = Anim = 1540
trigger1 = AnimElemTime(3) = 0
time = 1
pos = 0,-40

[State 1501, Bind 5]
type = BindtoTarget
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) >= -.8
triggerall = Anim = 1540
trigger1 = AnimElemTime(4) = 0
time = 1
pos = 0,target,Const(Size.Mid.Pos.Y)

[State 1501, PosFreeze]
type = VelSet
triggerall = Anim = 1540
trigger1 = AnimElemTime(4) > 0 && AnimElemTime(5) < 0
trigger2 = AnimElemTime(10) > 0 && AnimElemTime(11) < 0
trigger3 = AnimElemTime(16) > 0 && AnimElemTime(17) < 0
x = 0
y = 0
[State 1501, PosFreeze]
type = PosFreeze
triggerall = Anim = 1540
trigger1 = AnimElemTime(4) > 0 && AnimElemTime(5) < 0
trigger2 = AnimElemTime(10) > 0 && AnimElemTime(11) < 0
trigger3 = AnimElemTime(16) > 0 && AnimElemTime(17) < 0
value = 1
persistent = 1

[State 1501, VelSet]
type = VelSet
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) < -.8
triggerall = Anim = 1540
trigger1 = AnimElemTime(5) = 0
x = facing*((target,Pos X+(target,Const(Size.Mid.Pos.X)*target,facing))-Pos X)/11.0
y = (target, Const(Size.Mid.Pos.Y)+40)/11.0
ignorehitpause = 1
[State 1501, VelSet]
type = VelSet
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) < -.8
triggerall = Anim = 1540
trigger1 = AnimElemTime(11) = 0
x = facing*((target,Pos X+(target,Const(Size.Head.Pos.X)*target,facing))-Pos X)/12.0
y = ((target,Pos Y+target,Const(Size.Head.Pos.Y)+14)-Pos Y)/12.0
ignorehitpause = 1
[State 1501, VelSet]
type = VelSet
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) < -.8
triggerall = Anim = 1540
trigger1 = AnimElemTime(17) = 0
x = facing*(target,Pos X-Pos X)/11.0
y = (-60-Pos Y)/12.0
ignorehitpause = 1

[State 1501, VelSet]
type = VelSet
trigger1 = Anim = 1540 && AnimTime = 0
x = 0
y = 0

[State 1501, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1540 && AnimTime = 0
value = 1550

[State 1501, PosSet]
type = PosSet
trigger1 = Anim = 1550 && AnimElemTime(1) = 0
y = 0

[State 1501, PosSet]
type = PosAdd
trigger1 = Anim = 1550 && AnimElemTime(1) = 0
x = 100*Const(Size.Xscale)

[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
time = 1
pos = -67,-65
persistent = 1
[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElem = 2
time = 1
pos = -28,-78
[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElem = 3
time = 1
pos = 3,-80
[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElem = 4
time = 1
pos = 30,-21

[State 1501, PlaySnd]
type = PlaySnd
triggerall = Anim = 1540
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 16
value = S2,1
channel=1
[State 1501, Explod]
type = Explod
triggerall = Anim = 1540
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(10) = 0
trigger3 = AnimElemTime(16) = 0
anim = 8202
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -3, Blood]
type = Helper
triggerall = Anim = 1540
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(10) = 0
trigger3 = AnimElemTime(16) = 0
ID = 8700
name = "BLOOD"
pos = 0,0
postype = P1
stateno = 8700
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
facing = 1

[State 1501, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Anim = 1540
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 16
value = floor(-14-7*fvar(1))
kill = 0

[State 1501, PlaySnd]
type = PlaySnd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = S8,9
channel=0

[State 1501, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = floor(-84-42*fvar(1))

[State 1501, PowerAdd]
type = PowerAdd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = 63*!Var(13)

[State 1501, TargetPowerAdd]
type = TargetPowerAdd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = 56

[State 1501, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305
ctrl = 1

;------------------------
; Hellcat (P2)
[Statedef 1502]
type    = A
physics = N
movetype= H
sprpriority = 1
ctrl = 0

[State 1502, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1502, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1555
[State 1502, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 1560

[State 1502, Gill]
type = ChangeAnim2
triggerall = Name = "Gill" && AuthorName = "GM"
trigger1 = Anim = 1555
trigger1 = AnimTime = 0
value = 1561
[State 1502, Down]
type = ChangeAnim2
triggerall = Anim = 1555
triggerall = AnimTime = 0
trigger1 = Name = "Felicia" || Name = "Felicia MvC2 Style by MGBenz"
trigger2 = Name = "Zabel" || Name = "Zabel Zarock" || Name = "cvszabel" || Name = "Raptor" || Name = "Lord Raptor"
trigger2 = Name = "Rapter" || Name = "Lord Rapter" || Name = "L Raptor" || Name = "L Rapter" || Name = "L. Raptor" || Name = "L. Rapter" ; OK
trigger3 = (Name = "Demitri" && Enemy, AuthorName != "Bad Darkness") || Name = "Demitri Maximoff" || Name = "Demitri Maximov" || Name = "Demitri(DS)"
trigger4 = Name = "Anakaris" || Name = "cvsanakaris" || Name = "Anakaris By Third"
trigger5 = Name = "Victor"
trigger6 = Name = "Sasquatch"
value = 1559
[State 1502, Felicia]
type = ChangeAnim2
triggerall = AuthorName = "Jesuszilla" && (Name = "Felicia_LG" || Name = "cvsfelicia")
trigger1 = Anim = 1555
trigger1 = AnimTime = 0
value = 1558
[State 1502, Gill]
type = ChangeAnim2
trigger1 = Anim = 1560
trigger1 = AnimTime = 0
value = 1557
[State 1502, Normal]
type = ChangeAnim2
triggerall = !(AuthorName = "Jesuszilla" && Name = "Felicia_LG" && Name = "cvsfelicia")
triggerall = Name != "Felicia" && Name != "Felicia MvC2 Style by MGBenz"
triggerall = Name != "Zabel" && Name != "Zabel Zarock" && Name != "cvszabel" && Name != "Raptor" && Name != "Lord Raptor"
triggerall = Name != "Rapter" && Name != "Lord Rapter" && Name != "L Raptor" && Name != "L Rapter" && Name != "L. Raptor" && Name != "L. Rapter" ; OK
triggerall = !(Name = "Demitri" && Enemy, AuthorName != "Bad Darkness") && Name != "Demitri Maximoff" && Name != "Demitri Maximov" && Name != "Demitri(DS)"
triggerall = Name != "Anakaris" && Name != "cvsanakaris" && Name != "Anakaris By Third"
triggerall = Name != "Victor"
triggerall = Name != "Sasquatch"
triggerall = !(Name = "Gill" && AuthorName = "GM")
trigger1 = Anim = 1555
trigger1 = AnimTime = 0
value = 1556

[State 1502, Turn]
type = Turn
trigger1 = Anim = 1561 || Anim = [1556,1557]
trigger1 = AnimElemTime(3) = 0
trigger2 = Anim = [1558,1559]
trigger2 = AnimElemTime(4) = 0

[State 1502, VelSet]
type = VelSet
trigger1 = Anim = 1561 || Anim = [1556,1557]
trigger1 = AnimElemTime(3) = 0
trigger2 = Anim = [1558,1559]
trigger2 = AnimElemTime(4) = 0
x = 4.46875
y = -11.40625
[State 1502, VelAdd]
type = VelAdd
trigger1 = Anim = 1561 || Anim = [1556,1557]
trigger1 = AnimElemTime(3) > 0
trigger2 = Anim = [1558,1559]
trigger2 = AnimElemTime(4) > 0
x = ifElse(vel X <= 0, 0, -0.04167)
y = 0.79167

[State 1502, ChangeState]
type = SelfState
trigger1 = (Anim = 1561 || (Anim = [1556,1559])) && AnimElemTime(4) >= 0
trigger1 = Pos Y + Vel Y >= 0
value = 5100
ctrl = 0

;----------------------------------------------------------------------------------
; Toy Touch
[Statedef 1600]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1600
sprpriority = 2
velset = 0,0
juggle = 8
poweradd = 42
facep2 = 1

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S8,14
channel = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 205, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
hitflag = FD
guardflag =
damage = floor(ifElse(((42+7*fvar(1))-var(32))<7,7,((42+7*fvar(1))-var(32)))),0
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-7)
hitsound = S3,3
guardsound = S5,0
down.velocity = 0,0
down.hittime = 18
down.bounce = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(13),0
givepower = 56,0

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
;                                   ES ATTACKS
;===============================================================================

;----------------------------------------------------------------------------------
; ES Rolling Buckler
[Statedef 2000]
type = S
movetype = I
physics = N
ctrl = 0
anim = 2000
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(3) = 0
[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1
[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 29
[State 1000, VarSet]
type = VarAdd
trigger1 = Time > 0
trigger1 = Var(12)
var(12) = -1
ignorehitpause = 0

[State 1020, Width]
type = Width
trigger1 = Anim = 1005
value = -3,-3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S200,0

[State 1020, 1]
type = ChangeAnim
triggerall = Anim = 2000
trigger1 = AnimTime = 0
value = 1005

[State 1020, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1005
movetype = A

[State 1020, 2]
type = VelSet
trigger1 = Anim = 1005 && AnimElemTime(1) >= 0
x = (Vel X)+1.5
persistent = 1

[State 1020, VelSet]
type = VelSet
triggerall = Anim = 1005
trigger1 = Vel X >= 15.5
x = 15.5

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = Var(3) < 3
attr = S, SA
damage = floor(ifElse(((42+21*fvar(1))-var(32))<7,7,((42+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2,-6
airguard.velocity = -5.33,-1
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56*!Var(13),0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > 3
trigger2 = !Enemy, Alive
value = 1406

[State 1000, ChangeState]
type = ChangeState
trigger1 = !Var(12)
value = 1305

[State 1000, Explod]
type = Explod
trigger1 = Time = 5
anim = 1001
ID = 1001
bindtime = -1
removetime = -1
scale = Const(size.Xscale),Const(size.Yscale)
ownpal = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 65535
persistent = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) < 4
trigger1 = Command = "x" || Command = "y" || Command = "z"
value = 2010
ignorehitpause = 1
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "y" || Command = "z"
value = 2010
ignorehitpause = 1
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "x"
value = 2020
ignorehitpause = 1
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
triggerall = Var(10) = 4
trigger1 = Command = "a" || Command = "b" || Command = "c"
value = 2030
ignorehitpause = 1
ctrl = 0

;----------------------------------------------------------------------------------
; ES Rolling Buckler (VP)
[Statedef 2005]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1000
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0; HAH
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(3) = 0
[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 1020, Width]
type = Width
trigger1 = Anim = 1005
value = -3,-3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 3
value = S8,19
channel = 0
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 3
value = S200,0

[State 1020, 1]
type = ChangeAnim
triggerall = Anim = 1000
trigger1 = AnimTime = 0
value = 1005

[State 1020, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1005
statetype = A
movetype = A

[State 1020, 2]
type = VelSet
trigger1 = Anim = 1005 && AnimElemTime(1) = 0
x = 5
y = -20
persistent = 0

[State 1020, VelAdd]
type = VelAdd
trigger1 = Time > 3
y = 2.333333

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 0
attr = A, SA
damage = floor(ifElse(((42+21*fvar(1))-var(32))<7,7,((42+21*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 1
attr = A, SA
damage = floor(ifElse(((42+14*fvar(1))-var(32))<7,7,((42+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 2
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 3
attr = A, SA
damage = floor(ifElse(((49+14*fvar(1))-var(32))<7,7,((49+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > 3
trigger2 = !Enemy, Alive
value = 1406

[State 1000, ChangeState]
type = ChangeState
trigger1 = Time > 3
trigger1 = Pos Y + Vel Y >= 0
value = stateNo+1

;----------------------------------------------------------------------------------
; ES Rolling Buckler (VP) (ground)
[Statedef 2006]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1006
sprpriority = 2
velset = 0,0
poweradd = 0
juggle = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 24
[State 1000, VarSet]
type = VarAdd
trigger1 = Time > 0
trigger1 = Var(12)
var(12) = -1
ignorehitpause = 0

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1020, Width]
type = Width
trigger1 = 1
value = -3,-3

[State 1020, 1]
type = ChangeAnim
triggerall = Anim = 1006
trigger1 = AnimTime = 0
value = 1005

[State 1020, 2]
type = VelSet
trigger1 = Time = 3
x = 12

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 0
attr = A, SA
damage = floor(ifElse(((42+21*fvar(1))-var(32))<7,7,((42+21*fvar(1))-var(32)))),14
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 1
attr = A, SA
damage = floor(ifElse(((42+14*fvar(1))-var(32))<7,7,((42+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 2
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && (FVar(19) = 0 || Var(31) || FVar(13))
trigger1 = Var(3) = 3
attr = A, SA
damage = floor(ifElse(((49+14*fvar(1))-var(32))<7,7,((49+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > 3
trigger2 = !Enemy, Alive
value = 1406

[State 1000, ChangeState]
type = ChangeState
trigger1 = !Var(12)
value = 1305

[State 1000, Explod]
type = Explod
trigger1 = Time = 3
anim = 1002
ID = 1001
bindtime = -1
removetime = -1
scale = (.5*(Const(size.xscale))),(.5*(Const(size.yscale)))
ownpal = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 65535
persistent = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = Anim = 1005
trigger1 = Command = "x" || Command = "y" || Command = "z"
value = 2010
ignorehitpause = 1
ctrl = 0

;----------------------------------------------------------------------------------
; ES Rolling Uppercut
[Statedef 2010]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2010
sprpriority = 2
velset = 0,0
poweradd = 0
juggle = 0

[State 1005, PlaySnd]
type = PlaySnd
trigger1 = Anim = 2010 && AnimElemTime(2) = 0
value = S8,20
persistent = 0

[State 1005, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1005, VelSet]
type = VelSet
trigger1 = Anim = 2010 && AnimElemTime(2) = 0
x = 9
y = -14

[State 1005, VelAdd]
type = VelAdd
trigger1 = Time > 2
x = ifElse(Vel X <= 0,0,-0.45833) ; Fibonacci average of -.34375
y = .67                           ; Fibonacci average of .5 --- (.5 + .5 + 1.0)/ 3 = .67

[State 1015, VelSet]
type = VelSet
trigger1 = Time > 3 && Vel X <= 0
x = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) < 3
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = A, SA
damage = floor(ifElse(((35+14*fvar(1))-var(32))<7,7,((35+14*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.9167
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3,-14.3125
guard.velocity = -12.523
air.type = High
air.velocity = -3,-14.3125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) < 3
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((49+21*fvar(1))-var(32))<7,7,((49+21*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-56)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
persistent = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1025, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 2010 && AnimTime = 0
value = 1016

[State 1005, ChangeState]
type = ChangeState
triggerall = Anim = 1016
trigger1 = Pos Y + Vel Y >= 0
value = 1305;50

;----------------------------------------------------------------------------------
; ES Neko Punch
[Statedef 2020]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2020
sprpriority = 2
poweradd = 0
juggle = 0

[State 1012, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S8,1
channel = 0

[State 1035, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
channel = 1
[State 1035, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S0,2
channel = 1
[State 52, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = S40,0
channel=1

[State 1025, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1025, VelSet]
type = VelSet
trigger1 = !Time
x = 7.25
[State 1025, VelAdd]
type = VelAdd
trigger1 = Time > 1
x = ifElse(Vel X <= 0,0,-0.25)
[State 1025, VelSet]
type = VelSet
trigger1 = Time > 0 && Vel X <=0
x = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 3
attr = S, SA
damage = floor(ifElse(((21+21*fvar(1))-var(32))<7,7,((21+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-42)
yaccel = 0.625
hitsound = S3,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
persistent = 0

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 9
attr = S, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S3,3
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
persistent = 0

[State 1025, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; ES Sliding Kick
[Statedef 2030]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2030
sprpriority = 2
poweradd = 0
juggle = 0

[State 1035, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
channel = 1

[State 1035, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 1001
ignorehitpause = 1

[State 1035, VelSet]
type = VelSet
trigger1 = !Time
x = 4.125
[State 1035, VelAdd]
type = VelAdd
trigger1 = Time > 1
x = ifElse(Vel X <= 0,0,-0.25)
[State 1035, VelSet]
type = VelSet
trigger1 = Time > 0 && Vel X <=0
x = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1015, HitDef]
type = HitDef
triggerall = !FVar(18) && (FVar(19) < 1 || FVar(13))
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, SA
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Medium
guardflag = L
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-14)
yaccel = 0.625
hitsound = S3,2
guardsound = S5,0
ground.type = Trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
air.type = Trip
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
persistent = 0

[State 1035, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; ES Sand Splash
[Statedef 2100]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2100
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(22) = 2

[State 1100, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S200,4

[State 1100, Helper]
type = Helper
trigger1 = AnimElemTime(4) = 0
helpertype = Projectile
name = "Sand"
ID = 2105
stateno = 2105
pos = -13,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
persistent = 0
removeongethit = 1

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; ES Sand (hit 1)
[Statedef 2105]
type = S
movetype = A
physics = N
ctrl = 0

[State 2109, Anim]
type = ChangeAnim
trigger1 = !Time && Anim != 1130
value = 1130

[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State 220, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = parent,FVar(1)
[State 220, VarSet]
type = VarSet
trigger1 = !Time
var(22) = parent,Var(22)

[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
attr= SCA,AA,AP,AT
time = -1
stateno = stateNo
ignorehitpause = 1
[State 1105, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[State 1105, Explod]
type = Explod
trigger1 = Time = 0
anim = 1105
ID = 600
pos = 0,0
postype = p1
removetime = -2;ifElse(!Var(22),12,18)
bindtime = 1
vel = 0,0
accel = 0,0
scale = Const(Size.Xscale),Const(Size.Yscale)
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 0
[State 1105, Explod]
type = Explod
trigger1 = Time = 1
anim = 1105
ID = 601
pos = 13,ceil(Const(size.Yscale)*-8)
postype = p1
removetime = -2
bindtime = 1
vel = 0,0
accel = 0,0
scale = Const(Size.Xscale),Const(Size.Yscale)
ownpal = 1
sprpriority = 4
persistent = 0
ignorehitpause = 0
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 600
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 601

[State 1105, Projectile]
type = HitDef
triggerall = !root, FVar(18) && root, FVar(19) = 0
triggerall = !Var(50)
trigger1 = AnimElem = 1
attr = , SA ; IT WORKS! I AM ONE CAN SHORT OF A SIX PACK!
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkxy = 65535,65535
yaccel = .5
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 17
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.type = Low
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 2105

[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = moveHit = 1 && var(6) = HitPauseTime
anim = 8210
pos = 10,-35
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State 1100, Explod]
type = Explod
trigger1 = moveGuarded = 1 && var(6) = HitPauseTime
anim = 8105
pos = 10,-35
facing = target,facing
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

[State 2105, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 2100
trigger2 = parent, movetype = H

[State 2105, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = stateNo+1

;----------------
; ES Sand (hit 2)
[Statedef 2106]
type = S
movetype = A
physics = N
ctrl = 0

[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim = 1140
var(50) = 1

[State 2109, Anim]
type = ChangeAnim
triggerall = root, Var(10) = 0
trigger1 = !Time && Anim != 1140
value = 1140
[State 2109, Anim]
type = ChangeAnim
triggerall = root, Var(10) > 0
trigger1 = !Time && Anim != 1136
value = 1136

[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State 220, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = parent,FVar(1)
[State 220, VarSet]
type = VarSet
trigger1 = !Time
var(22) = parent,Var(22)

[State 1105, HitBy]
type = HitBy
trigger1 = !Var(50)
value = SCA,NP,SP,HP
time = -1
[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
attr= SCA,AA,AP,AT
time = -1
stateno = stateNo
ignorehitpause = 1
[State 1105, HitBy]
type = NotHitBy
trigger1 = Var(50)
value = SCA
time = -1

[State 1105, Explod]
type = Explod
trigger1 = Time = 1
anim = 1105
ID = 602
pos = 27,ceil(Const(size.Yscale)*-15)
postype = p1
removetime = -2
bindtime = 1
vel = 0,0
accel = 0,0
scale = Const(Size.Xscale),Const(Size.Yscale)
ownpal = 1
sprpriority = 3
persistent = 0
ignorehitpause = 0
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 600
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 601
[State 1105, RemoveExplod]
type = RemoveExplod
trigger1 = root, StateNo != 1100 && root, StateNo != 2100
ID = 602

[State 1105, Projectile]
type = HitDef
triggerall = !root, FVar(18) && root, FVar(19) = 0
trigger1 = Var(10) = 0 && !var(50)
trigger2 = Var(10) > 0
attr = , SA ; IT WORKS! I AM ONE CAN SHORT OF A SIX PACK!
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkxy = 65535,65535
yaccel = .5
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 17
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.type = Low
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 2106

[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = moveHit = 1 && var(6) = HitPauseTime
anim = 8210
pos = 10,-35
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State 1100, Explod]
type = Explod
trigger1 = moveGuarded = 1 && var(6) = HitPauseTime
anim = 8105
pos = 10,-35
facing = target,facing
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

[State 2105, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 2100
trigger2 = parent, movetype = H

[State 2105, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = stateNo+1

;----------------
; ES Sand (hit 3)
[Statedef 2107]
type = S
movetype = A
physics = N
ctrl = 0

[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim != 1141 && Anim != 1137
var(50) = 0
[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim = 1141
var(50) = 1

[State 2109, Anim]
type = ChangeAnim
triggerall = root, Var(10) = 0
trigger1 = !Time && Anim != 1141
value = 1141
[State 2109, Anim]
type = ChangeAnim
triggerall = root, Var(10) > 0
trigger1 = !Time && Anim != 1137
value = 1137

[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State 220, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = parent,FVar(1)
[State 220, VarSet]
type = VarSet
trigger1 = !Time
var(22) = parent,Var(22)

[State 1105, HitBy]
type = HitBy
trigger1 = !Var(50)
value = SCA,NP,SP,HP
time = -1
[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
attr= SCA,AA,AP,AT
time = -1
stateno = stateNo
ignorehitpause = 1
[State 1105, HitBy]
type = NotHitBy
trigger1 = Var(50)
value = SCA
time = -1

[State 1005, PlaySnd]
type = playSnd
trigger1 = Var(50)
value = S666,667

[State 1105, Projectile]
type = HitDef
triggerall = !root, FVar(18) && root, FVar(19) = 0
trigger1 = !var(50)
attr = , SA ; IT WORKS! I AM ONE CAN SHORT OF A SIX PACK!
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkxy = 65535,65535
yaccel = .5
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 17
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.type = Low
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 2107

[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = moveHit = 1 && var(6) = HitPauseTime
anim = 8210
pos = 10,-35
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State 1100, Explod]
type = Explod
trigger1 = moveGuarded = 1 && var(6) = HitPauseTime
anim = 8105
pos = 10,-35
facing = target,facing
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

[State 2105, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 2100
trigger2 = parent, movetype = H
trigger3 = Anim = 1141 && !AnimTime

[State 2105, ChangeState]
type = ChangeState
trigger1 = Anim = 1137 && !AnimTime
value = stateNo+1

;----------------
; ES Sand (hit 4)
[Statedef 2108]
type = S
movetype = A
physics = N
ctrl = 0

[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim != 1138
var(50) = 0
[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim = 1138
var(50) = 1

[State 2109, Anim]
type = ChangeAnim
trigger1 = !Time && Anim != 1138
value = 1138

[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State 220, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = parent,FVar(1)
[State 220, VarSet]
type = VarSet
trigger1 = !Time
var(22) = parent,Var(22)

[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
attr= SCA,AA,AP,AT
time = -1
stateno = stateNo
ignorehitpause = 1
[State 1105, HitBy]
type = HitBy
trigger1 = !Var(50)
value = SCA,NP,SP,HP
time = -1
[State 1105, HitBy]
type = NotHitBy
trigger1 = Var(50)
value = SCA
time = -1

[State 1005, PlaySnd]
type = playSnd
trigger1 = Var(50)
value = S666,667

[State 1105, Projectile]
type = HitDef
triggerall = !root, FVar(18) && root, FVar(19) = 0
triggerall = AnimElem = 1
trigger1 = !var(50)
attr = , SA ; IT WORKS! I AM ONE CAN SHORT OF A SIX PACK!
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkxy = 65535,65535
yaccel = .5
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 17
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.type = Low
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 2108

[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = moveHit = 1 && var(6) = HitPauseTime
anim = 8210
pos = 10,-35
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State 1100, Explod]
type = Explod
trigger1 = moveGuarded = 1 && var(6) = HitPauseTime
anim = 8105
pos = 10,-35
facing = target,facing
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

[State 2105, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 2100
trigger2 = parent, movetype = H
trigger3 = Anim = 1141 && !AnimTime

[State 2105, ChangeState]
type = ChangeState
trigger1 = Anim = 1138 && !AnimTime
value = stateNo+1

;----------------
; ES Sand (hit 5)
[Statedef 2109]
type = S
movetype = A
physics = N
ctrl = 0

[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim != 1139
var(50) = 0
[State 2105, VarSet]
type = VarSet
trigger1 = !Time && Anim = 1139
var(50) = 1

[State 2109, Anim]
type = ChangeAnim
trigger1 = !Time && Anim != 1139
value = 1139

[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State 220, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = parent,FVar(1)
[State 220, VarSet]
type = VarSet
trigger1 = !Time
var(22) = parent,Var(22)

[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
attr= SCA,AA,AP,AT
time = -1
stateno = stateNo
ignorehitpause = 1
[State 1105, HitBy]
type = HitBy
trigger1 = !Var(50)
value = SCA,NP,SP,HP
time = -1
[State 1105, HitBy]
type = NotHitBy
trigger1 = Var(50)
value = SCA
time = -1

[State 1105, Projectile]
type = HitDef
triggerall = !root, FVar(18) && root, FVar(19) = 0
triggerall = AnimElem = 1
trigger1 = !Var(50)
attr = , SA ; IT WORKS! I AM ONE CAN SHORT OF A SIX PACK!
damage = floor(ifElse(((35+21*fvar(1))-var(32))<7,7,((35+21*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkxy = 65535,65535
yaccel = .5
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 17
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.type = Low
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ignorehitpause = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0
ID = 2109

[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = moveHit = 1 && var(6) = HitPauseTime
anim = 8210
pos = 10,-35
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1
[State 1100, Explod]
type = Explod
trigger1 = moveGuarded = 1 && var(6) = HitPauseTime
anim = 8105
pos = 10,-35
facing = target,facing
postype = p2
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

[State 2105, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 2100
trigger2 = parent, movetype = H
trigger3 = !AnimTime

;----------------------------------------------------------------------------------
; ES Cat Spike
[Statedef 2200]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2200
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 1220, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
statetype = A

[State 1020, VelSet]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = 1
y = -8

[State 1020, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(4) > 0
y = .333333

[State 1220, Ball]
type = Helper
trigger1 = !Time
stateno = 1205
ID = 2250
pos = (Ceil((Const(size.xscale))*8)),(Ceil((Const(size.yscale))*-32))
postype = p1
bindtime = 1
size.xscale = (Const(size.xscale))
size.yscale = (Const(size.yscale))
ownpal = 1

[State 1220, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = S8,1
channel = 0

[State 1220, Slice]
type = null;Explod
trigger1 = AnimElemTime(9) = 0
anim = 7005
pos = (Ceil((Const(size.xscale))*6)),(Ceil((Const(size.yscale))*34))
postype = p1
removetime = -2
bindtime = -1
scale = (Const(size.xscale)),(Const(size.yscale))
ownpal = 1

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 16
movetype = I

[State 1220, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = AnimElem = 15
attr = A, SA
damage = floor(ifElse(((91+49*fvar(1))-var(32))<7,7,((91+49*fvar(1))-var(32)))),14
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-49)
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
getpower = 0,0
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 1220, ChangeState]
type = ChangeState
triggerall = AnimElemTime(4) > 1
trigger1 = Pos Y + Vel Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; ES Delta Kick
[Statedef 2300]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2300
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 1300, VelSet]
type = VelSet
triggerall = Anim = 2300
trigger1 = AnimElemTime(3) = 0
x = 0
y = -16

[State 1300, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 2300
trigger1 = AnimElemTime(3) = 0
statetype = A
physics = N

[State 1300, VelAdd]
type = VelAdd
triggerall = Anim = 2300
trigger1 = AnimElemTime(3) > 0 && AnimElemTime(9) < 0
y = 1.29167; fib avg. of 0.96875;.8

[State 1300, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 2300
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(9) < 0
attr = S, SA
damage = floor(ifElse(((84+56*fvar(1))-var(32))<7,7,((84+56*fvar(1))-var(32)))),14
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-70
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, HitDef2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 2300
trigger1 = AnimElemTime(11) >= 0
attr = S,SA
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
ID = 2300
persistent = 0

[State 1300, HitDef3]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 2301
trigger1 = AnimElem = 2
attr = S,SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
[State 1300, HitDef3]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 2301
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
attr = S,SA
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0

[State 1300, HitDef3]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 2301
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
attr = S,SA
damage = floor(ifElse(((14+7*fvar(1))-var(32))<7,7,((14+7*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 20
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = Anim = 2300
trigger1 = AnimElemTime(10) = 0
value = S8,18

[State 1020, VelSet]
type = VelSet
trigger1 = Anim = 2300 && AnimElemTime(9) = 0
x = 4
y = 1.125

[State 1020, 3]
type = VelAdd
trigger1 = Anim = 2300 && AnimElemTime(9) > 0 || Anim = 2301
x = 0.5989583; fib avg. of 0.44921875

[State 1020,4]
type = VelAdd
trigger1 = Anim = 2300 && AnimElemTime(9) > 0 || Anim = 2301
trigger1 = Vel Y < 3.25
y = 0.2910970052083
[State 1020,4]
type = VelSet
trigger1 = Anim = 2300 && AnimElemTime(9) > 0 || Anim = 2301
trigger1 = Vel Y >= 3.25
y = vel Y

[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 2300 && AnimElemTime(11) > 0 && MoveContact = 1
value = 2301

[State 1300, ChangeState]
type = ChangeState
triggerall = StateType = A
trigger1 = Vel Y + Pos Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; ES Delta Kick (VP)
[Statedef 2305]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1320
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 1300, VelSet]
type = VelSet
trigger1 = Anim = 1320 && AnimElemTime(2) = 0
x = 0
y = -13.5

[State 1300, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(2) = 0
statetype = A
physics = N

[State 1300, VelAdd]
type = VelAdd
triggerall = Time > 5
trigger1 = Vel Y < 4.5
y = .8

[State 1300, VP]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = Anim = 1320
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(8) < 0
attr = S, SA
damage = floor(ifElse(((77+42*fvar(1))-var(32))<7,7,((77+42*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-70
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, HitDef2]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = Anim = 1320
trigger1 = AnimElemTime(8) >= 0
attr = S,SA
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -12.523
guard.velocity = -12.523
guard.ctrltime = 17
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
ID = 2
persistent = 0

[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1320
trigger1 = AnimElemTime(8) > 0 && MoveContact = 1
value = 1321

[State 1300, HitDef3]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Anim = 1321
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S,SA
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),7
animtype = Heavy
air.animtype = Back
fall.animtype = Back
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = -10,-14
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 17
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 28*!Var(13),14*!Var(13)
givepower = 56,0
yaccel = 0.625
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
persistent = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1320
trigger1 = AnimElem = 8
value = S8,2

[State 1020, VelSet]
type = VelSet
trigger1 = Anim = 1320 && AnimElemTime(7) = 0
x = 4.5
y = 2.75

[State 1020, 3]
type = VelAdd
trigger1 = Anim = 1320 && AnimElemTime(7) > 0
trigger2 = Anim = 1321
x = .4; THIS IS CALLED "ANALYSIS" ; 0.8984375
[State 1020, I Can't Believe I'm Doing This]
type = PosAdd
triggerall = Anim = 1320 && AnimElemTime(6) > 0
trigger1 = Time = 22
trigger2 = Time = 27
trigger3 = Time = 32
trigger4 = Time = 37
x = .25

[State 1300, ChangeState]
type = ChangeState
triggerall = StateType = A
trigger1 = Vel Y + Pos Y >= 0
value = 1305

;----------------------------------------------------------------------------------
; ES Rolling Scratch
[Statedef 2400]
type    = A
physics = N
movetype= A
anim = ifElse(Var(11),1400,1000)
ctrl = 0
velset = 0,0
facep2 = !Var(11)

[State 2000, VarSet]
type = VarSet
trigger1 = !Time && Anim = 1000
var(3) = 0
[State 2000, VarSet]
type = VarSet
trigger1 = !Time && Anim = 1000
var(4) = 1
[State 2000, PowerAdd]
type = PowerAdd
trigger1 = !Time && Anim = 1000
value= -1000

[State 1400, Loop]
type = VarSet
trigger1 = !Var(11) && Time = 0
var(11) = 3
[State 1400, Loop]
type = VarAdd
trigger1 = !Time && PrevStateNo = StateNo
var(11) = -1

[State 1410, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1000 && AnimTime = 0
value = S200,0
channel = 1
[State 1400, PlaySnd]
type = PlaySnd
trigger1 = Anim = 1400 && !Time
value = S40,0

[State 1400, VelSet]
type = VelSet
trigger1 = (Anim = 1000 || Anim = 1400) && AnimTime = 0
x = 5
y = -17
persistent = 0

[State 1400, ChangeAnim]
type = ChangeAnim
trigger1 = (Anim = 1000 || Anim = 1400) && AnimTime = 0
value = 1005

[State 1400, VelAdd]
type = VelAdd
trigger1 = Anim = 1005
y = 1.67;1.25

[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(3) < 3
triggerall = Anim = 1005
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3) < 0
trigger2 = AnimElemTime(4)>=0 && AnimElemTime(5) < 0
trigger3 = AnimElemTime(6)>=0 && AnimElemTime(7) < 0
trigger4 = AnimElemTime(8)>=0
attr = A, SA
damage = floor(ifElse(((28+14*fvar(1))-var(32))<7,7,((28+14*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0
[State 1000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = Var(3) < 3
triggerall = Anim = 1005
trigger1 = AnimElemTime(1)>=0 && AnimElemTime(2) < 0
trigger2 = AnimElemTime(3)>=0 && AnimElemTime(4) < 0
trigger3 = AnimElemTime(5)>=0 && AnimElemTime(6) < 0
trigger4 = AnimElemTime(7)>=0 && AnimElemTime(8) < 0
attr = A, SA
damage = floor(ifElse(((42+21*fvar(1))-var(32))<7,7,((42+21*fvar(1))-var(32)))),14;ceil(63/4.5)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,9
sparkno = S8210
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
yaccel = 0.625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 24
guard.ctrltime = 24
ground.velocity = -12.523
guard.velocity = -12.523
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 1
getpower = 42*!Var(13),21*!Var(13)
givepower = 56,0
air.fall = 1
fall.recover = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1 || MoveReversed = 1
var(3) = 1

[State 1400, ChangeState]
type = ChangeState
triggerall = Time > 7
trigger1 = MoveContact = 1
trigger1 = Command = "x"  || Command = "y" || Command = "z"
value = 1405
ignorehitpause = 0
ctrl = 0

[State 1400, ChangeState]
type = ChangeState
triggerall = MoveContact = 1 || MoveReversed = 1
trigger1 = Var(3) > 3
trigger2 = !Enemy, Alive
value = 1406;50
ignorehitpause = 0

[State 1400, ChangeAnim]
type = ChangeState
triggerall = Anim = 1005
trigger1 = Time > 6
trigger1 = Pos Y + Vel Y >= 0
value = ifElse(Var(11),stateNo,1305)

;----------------------------------------------------------------------------------
; ES Hellcat
[Statedef 2500]
type    = S
physics = N
movetype= A
anim = 2500
ctrl = 0
velset = 0,0
poweradd = -1000

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 1500, 1]
type = HitDef
triggerall = P2MoveType != H
triggerall = P2StateNo != [130,155]
trigger1 = AnimElem = 2
attr = S, ST
hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 2501
p2stateno = 2502
guard.dist = 0
fall = 1

[State 1500, 1]
type = HitDef
triggerall = Var(30)
triggerall = P2StateNo != [130,155]
trigger1 = AnimElem = 2
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 2501
p2stateno = 2502
guard.dist = 0
fall = 1

[State 1500, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 1500, VelSet]
type = VelSet
trigger1 = AnimElemTime(7) = 0
x = 2

[State 1500, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ES Hellcat (P1)
[Statedef 2501]
type    = S
physics = N
movetype= A
anim = 2501
poweradd = 0
ctrl = 0

[State 1501, SprPriority]
type = SprPriority
triggerall = Anim = 2501
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
value = 0
[State 1501, SprPriority]
type = SprPriority
triggerall = Anim = 2501
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
trigger3 = AnimElem = 20
value = 2

[State 1501, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
[State 1501, PlayerPush]
type = ScreenBound
trigger1 = Anim = 2501
value = 0
movecamera = 0,0

[State 1501, PlaySnd]
type = PlaySnd
triggerall = Anim = 2501
trigger1 = AnimElemTime(1) = 0
value = S800,0

[State 832, Bind 1]
type = BindtoTarget
triggerall = Anim = 2501
trigger1 = AnimElemTime(1) = 0
time = 5
pos = 33*Const(Size.Xscale),0
[State 832, Bind 1]
type = BindtoTarget
triggerall = Anim = 2501
trigger1 = AnimElemTime(2) = 0
time = 6
pos = 53*Const(Size.Xscale),0
[State 832, Bind 2]
type = BindtoTarget
triggerall = Anim = 2501
trigger1 = AnimElemTime(3) = 0
time = 3
pos = 0,0
[State 1501, Bind 5]
type = BindtoTarget
triggerall = Anim = 2501
trigger1 = AnimElemTime(4) = 0
time = 2
pos = 0,-40

[State 1501, Bind 5]
type = BindtoTarget
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) >= -.8
triggerall = Anim = 2
trigger1 = AnimElemTime(5) = 0
time = 1
pos = 0,target,Const(Size.Mid.Pos.Y)

[State 1501, VelSet]
type = VelSet
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) < -.8
triggerall = Anim = 2501
trigger1 = AnimElemTime(6) = 0
x = facing*((target,Pos X+(target,Const(Size.Mid.Pos.X)*target,facing))-Pos X)/19.0
y = (target, Const(Size.Mid.Pos.Y)+40)/19.0
ignorehitpause = 1
[State 1501, VelSet]
type = VelSet
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) < -.8
triggerall = Anim = 2501
trigger1 = AnimElemTime(18) = 0
x = facing*((target,Pos X+(target,Const(Size.Head.Pos.X)*target,facing))-Pos X)/20.0
y = ((target,Pos Y+target,Const(Size.Head.Pos.Y)+14)-Pos Y)/20.0
ignorehitpause = 1
[State 1501, VelSet]
type = VelSet
triggerall = (target,Const(Size.Head.Pos.Y)/60.0) < -.8
triggerall = Anim = 2501
trigger1 = AnimElemTime(36) = 0
x = facing*(target,Pos X-Pos X)/9.0
y = (-60-Pos Y)/9.0
ignorehitpause = 1

[State 1501, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = 0
y = 0

[State 1501, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 2501
trigger1 = AnimTime = 0
value = 1550

[State 1501, PosSet]
type = PosSet
trigger1 = Anim = 1550 && AnimElemTime(1) = 0
y = 0

[State 1501, PosSet]
type = PosAdd
trigger1 = Anim = 1550 && AnimElemTime(1) = 0
x = 100*Const(Size.Xscale)

[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
time = 1
pos = -67,-65
persistent = 1
[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElem = 2
time = 1
pos = -28,-78
[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElem = 3
time = 1
pos = 3,-80
[State 1501, TargetBind]
type = TargetBind
triggerall = Anim = 1550
trigger1 = AnimElem = 4
time = 1
pos = 30,-21

[State 1501, PlaySnd]
type = PlaySnd
triggerall = Anim = 2501
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
value = S2,1
channel=1
[State 1501, Explod]
type = Explod
triggerall = Anim = 2501
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(11) = 0
trigger3 = AnimElemTime(16) = 0
trigger4 = AnimElemTime(23) = 0
trigger5 = AnimElemTime(29) = 0
trigger6 = AnimElemTime(35) = 0
anim = 8210
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State -3, Blood]
type = Helper
triggerall = Anim = 2501
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(11) = 0
trigger3 = AnimElemTime(16) = 0
trigger4 = AnimElemTime(23) = 0
trigger5 = AnimElemTime(29) = 0
trigger6 = AnimElemTime(35) = 0
ID = 8700
name = "BLOOD"
pos = 0,0
postype = P1
stateno = 8700
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
facing = 1

[State 1501, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Anim = 1500
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
value = floor(-14-7*fvar(1))
kill = 0

[State 1501, TargetLifeAdd]
type = PlaySnd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = S8,9
channel=0

[State 2501, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = floor(-84-42*fvar(1))

[State 2501, TargetPowerAdd]
type = TargetPowerAdd
triggerall = Anim = 1550
trigger1 = AnimElem = 4
value = 56

[State 2501, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305
ctrl = 1

;------------------------
; ES Hellcat (P2)
[Statedef 2502]
type    = S
physics = N
movetype= H
sprpriority = 1
ctrl = 0

[State 2502, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 2502, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 2550
[State 2502, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 2560

[State 1502, Gill]
type = ChangeAnim2
triggerall = Name = "Gill" && AuthorName = "GM"
trigger1 = Anim = 2550
trigger1 = AnimTime = 0
value = 1561
[State 1502, Down]
type = ChangeAnim2
triggerall = Anim = 2550
triggerall = AnimTime = 0
trigger1 = Name = "Felicia" || Name = "Felicia MvC2 Style by MGBenz"
trigger2 = Name = "Zabel" || Name = "Zabel Zarock" || Name = "cvszabel" || Name = "Raptor" || Name = "Lord Raptor"
trigger2 = Name = "Rapter" || Name = "Lord Rapter" || Name = "L Raptor" || Name = "L Rapter" || Name = "L. Raptor" || Name = "L. Rapter" ; OK
trigger3 = (Name = "Demitri" && Enemy, AuthorName != "Bad Darkness") || Name = "Demitri Maximoff" || Name = "Demitri Maximov" || Name = "Demitri(DS)"
trigger4 = Name = "Anakaris" || Name = "cvsanakaris" || Name = "Anakaris By Third"
trigger5 = Name = "Victor"
trigger6 = Name = "Sasquatch"
value = 1559
[State 1502, Felicia]
type = ChangeAnim2
triggerall = AuthorName = "Jesuszilla" && (Name = "Felicia_LG" || Name = "cvsfelicia")
trigger1 = Anim = 2550
trigger1 = AnimTime = 0
value = 1558
[State 1502, Gill]
type = ChangeAnim2
trigger1 = Anim = 2560
trigger1 = AnimTime = 0
value = 1557
[State 1502, Normal]
type = ChangeAnim2
triggerall = !(AuthorName = "Jesuszilla" && Name = "Felicia_LG" && Name = "cvsfelicia")
triggerall = Name != "Felicia" && Name != "Felicia MvC2 Style by MGBenz"
triggerall = Name != "Zabel" && Name != "Zabel Zarock" && Name != "cvszabel" && Name != "Raptor" && Name != "Lord Raptor"
triggerall = Name != "Rapter" && Name != "Lord Rapter" && Name != "L Raptor" && Name != "L Rapter" && Name != "L. Raptor" && Name != "L. Rapter" ; OK
triggerall = !(Name = "Demitri" && Enemy, AuthorName != "Bad Darkness") && Name != "Demitri Maximoff" && Name != "Demitri Maximov" && Name != "Demitri(DS)"
triggerall = Name != "Anakaris" && Name != "cvsanakaris" && Name != "Anakaris By Third"
triggerall = Name != "Victor"
triggerall = Name != "Sasquatch"
triggerall = !(Name = "Gill" && AuthorName = "GM")
trigger1 = Anim = 2550
trigger1 = AnimTime = 0
value = 1556

[State 1502, Turn]
type = Turn
trigger1 = Anim = 1561 || Anim = [1556,1557]
trigger1 = AnimElemTime(3) = 0
trigger2 = Anim = [1558,1559]
trigger2 = AnimElemTime(4) = 0

[State 1502, VelSet]
type = VelSet
trigger1 = Anim = 1561 || Anim = [1556,1557]
trigger1 = AnimElemTime(3) = 0
trigger2 = Anim = [1558,1559]
trigger2 = AnimElemTime(4) = 0
x = 4.46875
y = -11.40625
[State 1502, VelAdd]
type = VelAdd
trigger1 = Anim = 1561 || Anim = [1556,1557]
trigger1 = AnimElemTime(3) > 0
trigger2 = Anim = [1558,1559]
trigger2 = AnimElemTime(4) > 0
x = ifElse(vel X <= 0, 0, -0.04167)
y = 0.79167

[State 1502, ChangeState]
type = SelfState
trigger1 = (Anim = 1561 || (Anim = [1556,1559])) && AnimElemTime(4) >= 0
trigger1 = Pos Y + Vel Y >= 0
value = 5100
ctrl = 0

;----------------------------------------------------------------------------------
; ES Toy Touch
[Statedef 2600]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2600
sprpriority = 2
velset = 0,0
poweradd = -1000
juggle = 0
facep2 = 1

[State 2000, VarSet]
type = VarSet
trigger1 = !Time
var(4) = 1

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
value = S8,14
channel = 0

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 16
movetype = I

[State 0, Rat 1]
type = Explod
trigger1 = !Time
anim = 1918
ID = 1918
pos = ceil(44*Const(Size.Xscale)),0
postype = p1
removetime = -2
scale = const(Size.Xscale),const(Size.Yscale)
sprpriority = 2
ownpal = 1
removeongethit = 1
[State 0, Rat 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 1919
ID = 1918
pos = 0,0
postype = p1
removetime = -2
scale = const(Size.Xscale),const(Size.Yscale)
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 205, 1]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
attr = S, SA
hitflag = FD
guardflag =
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),0
priority = 6, Hit
pausetime = 9,9
sparkno = S8201
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-7)
hitsound = S3,3
guardsound = S5,0
down.velocity = 0,0
down.hittime = 18
down.bounce = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0
givepower = 56,0

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
;                                   EX ATTACKS
;===============================================================================

;----------------------------------------------------------------------------------
; Dancing Flash
[Statedef 3000]
type    = S
physics = N
movetype= A
ctrl = 0
velset = 0,0
facep2 = 1
poweradd = -1000
anim = 3000

[State 0, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 1

[State 1020, Width]
type = Width
trigger1 = Anim = 1005
value = -3,-3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(5) < 0
value = SCA
time = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = 2

[State 3000, PosAdd]
type = PosAdd
trigger1 = Anim = 3000 && AnimElemTime(5) = 0
x = 32*Const(size.Xscale)

[State 3000, 1]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 1005

[State 3000, PlaySnd]
type = PlaySnd
triggerall = Anim = 1005
trigger1 = AnimElemTime(1) = 0
value = S200,0
persistent = 0

[State 1020, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1005 && !(P2StateType = A && P2MoveType != A)
movetype = A

[State 1020, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1005 && P2StateType = A && P2MoveType != A
trigger2 = Anim != 1005
movetype = I

[State 1020, 2]
type = VelSet
trigger1 = Time = 9
x = 5

[State 1020, 2]
type = VelSet
trigger1 = Time > 9
x = (Vel X)+.75
persistent = 1

[State 1020, VelSet]
type = VelSet
triggerall = Anim = 1005
trigger1 = Vel X >= 13.5
x = 13.5

[State 3000, 4]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
trigger1 = !NumTarget(9)
attr = S, HA
damage = floor(ifElse(((21+14*fvar(1))-var(32))<7,7,((21+14*fvar(1))-var(32)))),7
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 9,9
sparkno = S8220
guard.sparkno = S8105
sparkxy = (var(26):=-10),(var(27):=-35)
palfx.time = 12*Var(21)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = 0.625
hitsound = S2,1
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0
guard.velocity = -12.523
guard.ctrltime = 10
air.type = Low
air.velocity = 0
airguard.velocity = 0
air.hittime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
forcestand = 1
ID = 9
persistent = 0
p1facing = 1
p2facing = 1
kill = 0

[State 3000, TargetState]
type = TargetState
triggerall = Time > 1
trigger1 = MoveHit && P2MoveType = H
value = 3805

[State 3000, ChangeState]
type = ChangeState
triggerall = Time > 1
trigger1 = MoveHit && P2MoveType = H
value = 3001

[State 3000, ChangeState]
type = ChangeState
triggerall = Time > 1 && Anim = 1005
trigger1 = MoveContact
value = 1406

[State 3000, VelSet]
type = VelSet
trigger1 = Time = 42
x = 0

[State 3000, ChangeState]
type = ChangeState
trigger1 = Time = 42
value = 1305

[State 3000, Explod]
type = Explod
trigger1 = Time = 9
anim = 1001
ID = 1001
bindtime = -1
removetime = -1
scale = Const(size.Xscale),Const(size.Yscale)
ownpal = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 65535
persistent = 0

;-----------------
; P1
[Statedef 3001]
type = S
physics = N
movetype = A
anim = 3010
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1020, Width]
type = Width
trigger1 = 1
edge = 30,30

[State 3003, RemoveExplod]
type = RemoveExplod
trigger1 = !Time
ID = 1001
ignorehitpause = 1

[State 3003, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3003, TargetBind]
type = TargetBind
trigger1 = Time = 0
pos = 40,0

[State 3003, PlaySnd]
type = PlaySnd
triggerall = Anim = 3010
trigger1 = AnimElem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 21
trigger5 = AnimElem = 30
value = S2,0
channel=1

[State 3003, PlaySnd]
type = PlaySnd
triggerall = Anim = 3010
trigger1 = AnimElem = 26
value = S3,0
channel=1

[State 3003, PlaySnd]
type = PlaySnd
triggerall = Anim = 3010
trigger1 = AnimElem = 34
value = S3,1
channel=1

[State 3001, HitDef]
type = HitDef
triggerall = Anim = 3010
trigger1 = AnimElem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 21
trigger5 = AnimElem = 30
attr = S, NA
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 0,8
sparkno = S8220
guard.sparkno = S8105
sparkxy = (var(26):=-20),(var(27):=-73)
hitsound = S-1,0
guardsound = S-1,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0
guard.velocity = 0
guard.ctrltime = 14
air.type = Low
air.velocity = 0
airguard.velocity = 0
air.hittime = 14
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
forcestand = 1
p2stateno = 3805
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
kill = 0

[State 3001, HitDef]
type = HitDef
triggerall = Anim = 3010
trigger1 = AnimElem = 21
trigger2 = AnimElem = 30
attr = S, NA
damage = floor(ifElse(((28+7*fvar(1))-var(32))<7,7,((28+7*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 0,8
sparkno = S8220
guard.sparkno = S8105
sparkxy = (var(26):=-20),(var(27):=-73)
hitsound = S-1,0
guardsound = S-1,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0
guard.velocity = 0
guard.ctrltime = 14
air.type = Low
air.velocity = 0
airguard.velocity = 0
air.hittime = 14
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
forcestand = 1
p2stateno = 3805
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
kill = 0

[State -3, EX Blood]
type = Helper
triggerall = Anim = 3010
trigger1 = AnimElemTime(6) = 0
trigger2 = AnimElemTime(11) = 0
trigger3 = AnimElemTime(16) = 0
trigger4 = AnimElemTime(21) = 0
trigger5 = AnimElemTime(30) = 0
ID = 8700
name = "BLOOD"
pos = Ceil(enemy,Const(size.ground.front)-20),Ceil(Pos Y-enemy,Pos Y-73)
postype = P2
stateno = ifElse((AnimElem=30),8740,8720)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = -1

[State 3001, HitDef]
type = HitDef
trigger1 = AnimElem = 26
attr = S, NA
damage = floor(ifElse(((28+7*fvar(1))-var(32))<7,7,((28+7*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 0,4
sparkno = S8220
guard.sparkno = S8105
sparkxy = -10,-85
hitsound = S-1,0
guardsound = S-1,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0
guard.velocity = 0
guard.ctrltime = 14
air.type = High
air.velocity = 0
airguard.velocity = 0
air.hittime = 14
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
forcestand = 1
p2stateno = 3800
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
kill = 0

[State 3001, HitDef]
type = HitDef
trigger1 = AnimElem = 34
attr = S, NA
damage = floor(ifElse(((28+7*fvar(1))-var(32))<7,7,((28+7*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 0,11
sparkno = S8220
guard.sparkno = S8105
sparkxy = -10,-55
hitsound = S-1,1
guardsound = S-1,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 0
guard.velocity = 0
guard.ctrltime = 12
air.type = Low
air.velocity = 0
airguard.velocity = 0
air.hittime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
forcestand = 1
p2stateno = 3805
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
kill = 0

[State 255, 1]
type = HitDef
trigger1 = AnimElem = 38
attr = S, NA
damage = floor(ifElse(((21+7*fvar(1))-var(32))<7,7,((21+7*fvar(1))-var(32)))),0
animtype = Heavy
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 0,11
sparkno = S8220
guard.sparkno = S8100
sparkxy = -10, -55
yaccel = .625
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2.96875,-9.53125
guard.velocity = -12.523
guard.ctrltime = 12
air.type = Low
air.velocity = -2.96875,-9.53125
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 12
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
;p2stateno = 3820
kill = 0

[State 3003, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 3010 && AnimTime = 0
value = 3040

[State 3003, ChangeAnim]
type = ChangeAnim
triggerall = Var(14) && Var(10) > 2
trigger1 = Anim = 3040 && AnimElemTime(7) >= 0
value = 3041

[State 3003, PlaySnd]
type = PlaySnd
triggerall = Anim = 3040
trigger1 = AnimElemTime(1) = 1
value = S8,20
persistent = 0
channel = 0

[State 1220, PlaySnd]
type = PlaySnd
trigger1 = Anim = 3041 && AnimElemTime(7) = 0
value = S8,1
channel = 0

[State 3003, VelSet]
type = VelSet
triggerall = Anim = 3040
trigger1 = AnimElemTime(2) = 0
x = 8
y = -13

[State 1005, VelAdd]
type = VelAdd
trigger1 = Anim = 3040 && AnimElemTime(2) > 0
trigger2 = Anim = 3041 && AnimElemTime(13) > 0
x = ifElse(Vel X <= 0,0,-0.45833) ; Fibonacci average of -.34375
y = .67                           ; Fibonacci average of .5 --- (.5 + .5 + 1.0)/ 3 = .67
[State 1005, VelSet]
type = VelSet
trigger1 = Anim = 3040 && AnimElemTime(2) > 0 && Vel X <= 0
x = 0

[State 3003, HitDef]
type = HitDef
triggerall = Anim = 3040
trigger1 = AnimElem = 3
attr = A, SA
damage = floor(ifElse(((63+7*fvar(1))-var(32))<7,7,((63+7*fvar(1))-var(32)))),0
animtype = Medium
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 9,9
sparkno = S8220
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-58)
yaccel = .625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 37
ground.velocity = -2,-8.046875
air.type = Low
air.velocity = -2,-8.046875
air.hittime = 37
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;p2stateno = 3820

[State 3003, HitDef]
type = HitDef
triggerall = Anim = 3040 && !(Var(10)>2 && Var(14))
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((56+7*fvar(1))-var(32))<7,7,((56+7*fvar(1))-var(32)))),0
animtype = Medium
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 9,9
sparkno = S8220
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-58)
yaccel = .625
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 37
ground.velocity = -2,-8.046875
air.type = Low
air.velocity = -2,-8.046875
air.hittime = 37
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3003, HitDef]
type = HitDef
triggerall = Anim = 3040 && (Var(10)>2 && Var(14))
trigger1 = AnimElem = 4
attr = A, SA
damage = floor(ifElse(((56+7*fvar(1))-var(32))<7,7,((56+7*fvar(1))-var(32)))),0
animtype = Medium
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 9,9
sparkno = S8220
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-58)
yaccel = .5
hitsound = S2,0
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 37
ground.velocity = -1.5,-10.875
air.type = Low
air.velocity = -1.5,-10.875
air.hittime = 37
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
;p2stateno = 3820

[State 3003, HitDef]
type = HitDef
triggerall = Anim = 3041
trigger1 = AnimElem = 11
attr = A, SA
damage = floor(ifElse(((35+7*fvar(1))-var(32))<7,7,((35+7*fvar(1))-var(32)))),0
animtype = Medium
guardflag = LA
hitflag = MAF
priority = 7, Hit
pausetime = 7,8
sparkno = S8220
guard.sparkno = S8100
sparkxy = (var(26):=-10),(var(27):=-58)
yaccel = .166667
hitsound = S3,3
guardsound = S5,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 37
ground.velocity = -12,16.875
air.type = Low
air.velocity = -12,16.875
air.hittime = 37
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 56,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 1

[State 3003, VelSet]
type = VelSet
triggerall = Anim = 3041
trigger1 = AnimElemTime(13) < 0
x = 0
y = 0

[State 3003, ChangeState]
type = ChangeState
triggerall = Pos Y + Vel Y >= 0
trigger1 = Anim = 3040 && AnimElemTime(6) > 0
trigger2 = Anim = 3041
value = 1305

;-----------------
; P2(Heavy)
[Statedef 3006]
type = S
physics = N
movetype = H
velset = 0,0
ctrl = 0

[State 3005, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 3004

[State 3005, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time && Name = "Gill" && AuthorName = "GM" && Facing = -1
value = 3005

;----------------------------------------------------------------------------------
; Please Help Me!
[Statedef 3100]
type    = S
physics = S
movetype= A
anim = 3100
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1
poweradd = -1000

[State 3100, VarSet]
type = VarSet
trigger1 = !Time
fvar(11) = 0

[State 3100, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = Time = 0
var(22) = ifElse((Command = "HCF_LK+MK" || Command = "HCB_LK+MK"),0,IfElse((Command = "HCF_LK+HK" || Command = "HCB_LK+HK"),1,2))

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Anim = 3100 && AnimElemTime(2) = 0
value = S8,5
channel = 0

[State 3100, Helper]
type = Helper
triggerall = !Var(22)
trigger1 = !Time
helpertype = Normal
name = "Pico"
ID = 3103
stateno = 3103
pos = -15,0
postype = Back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1
[State 3100, Helper]
type = Helper
triggerall = Var(22)
trigger1 = !Time
helpertype = Normal
name = "Nana,Mimi"
ID = 3106
stateno = 3106
pos = -28,ifElse(Var(22)=1,-120,-35);ifElse(Var(22)=1,-25,-50)
postype = Back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3100, NotHitBy]
type = NotHitBy
trigger1 = FVar(11)
value = SCA
time = 1

[State 3100, ChangeAnim]
type = ChangeAnim
trigger1 = FVar(11) = 1
value = 3101
persistent = 0

[State 3100, ChangeAnim]
type = ChangeAnim
trigger1 = FVar(11) = 2;NumHelper(3106) && NumHelper(3120) && NumHelper(3130)
value = 3102
persistent = 0

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Anim = 3102 && AnimElemTime(2) = 0
value = S8,11
channel = 13
persistent = 0

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Anim= 3102 && AnimElemTime(15) = 0
value = S8,16
channel = 13

[State 3100, ChangeState]
type = ChangeState
triggerall = Time > 4
trigger1 = Anim != 3102 && !NumHelper(3103) && !NumHelper(3106)
trigger2 = Anim = 3102 && AnimTime = 0
value = 0
ctrl = 1

;-----------------
; Pico
; 3003
[Statedef 3103]
type    = S
physics = S
movetype= A
anim = 3103
ctrl = 0

[State 3103, VarSet]
type = VarSet
trigger1 = !Time
var(1) = 0

[State 3103, VarAdd]
type = VarAdd
trigger1 = Var(50) = 1
trigger1 = P2MoveType != H
trigger2 = Var(50)
trigger2 = !NumTarget
trigger3 = Parent, MoveType = H
var(1) = 1

[State 3103, TargetDrop]
type = targetdrop
triggerall = NumTarget(3100)
trigger1 = Var(1)

[State 3103, VarSet]
type = VarSet
trigger1 = !Time
var(6) = 2

[State 3103, NotHitBy]
type = NotHitBy
triggerall = Var(1)
trigger1 = 1
value = SCA

[State 3103, HitOverRide]
type = HitOverRide
trigger1 = 1
stateno = 3150
attr = SAC,NP,SP,HP,NA,SA,HA

[State 3103, HitBy]
type = HitBy
trigger1 = !Var(1)
value = SAC,NP,SP,HP,NA,SA,HA

[State 3103, VelSet]
type = VelSet
trigger1 = Time > 0 ;&& (!NumTarget(3100))
x = 7

[State 3103, StateTypeSet]
type = StateTypeSet
trigger1 = Var(1)
movetype = I

[State 180, 1]
type = ParentVarSet
trigger1 = Var(28) = 2 && Var(59) = 3 && (FVar(32) = 1 || FVar(32) = -2)
trigger2 = Var(28) = 3 && Var(59) = 3
trigger3 = Var(28) = 4 && Var(59) = [2,3]
trigger4 = Var(31) && Var(59) = 3
var(3) = 1
ignorehitpause = 1

[State 3103, VarSet]
type = VarSet
trigger1 = 1
fvar(18) = root, fvar(19)
ignorehitpause = 1
[State 3103, VarSet]
type = VarSet
trigger1 = 1
fvar(19) = root, fvar(19)
ignorehitpause = 1

[State 3103, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = !NumHelper(3120) && !NumHelper(3130) && !NumHelper(3106)
trigger1 = !Var(1)
attr = S, HA
damage = 7,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0,9
sparkno = S8220
guard.sparkno = S8105
sparkxy = -10,-28
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.hittime = 9
ground.slidetime = 9
air.hittime = 9
forcestand = 1
ID = 3100
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
persistent = 0

[State 3103, PlaySnd]
type = PlaySnd
trigger1 = FrontEdgeBodyDist < -20
value = S10,0
persistent = 0
ignorehitpause = 1

[State 3103, TargetState]
type = TargetState
trigger1 = MoveHit && P2MoveType = H
value = 3160

[State 3103, ChangeState]
type = ChangeState
triggerall = !Var(1)
triggerall = NumTarget(3100)
trigger1 = MoveHit && P2MoveType = H
value = 3104

[State 3103, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = Parent, MoveType = H
trigger3 = Var(1)
value = 3150
ignorehitpause = 1

[State 3103, DestroySelf]
type = DestroySelf
triggerall = Time > 10
trigger1 = FrontEdgeBodyDist < -112

;-------
[Statedef 3104]
type    = S
physics = S
movetype= I
anim = 3104
ctrl = 0
velset = 0,0

[State 3104, ParentVarSet]
type = ParentVarSet
trigger1 = !Time
fvar(11) = 1

[State 3104, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 0

[State 3104, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal
name = "Grace"
ID = 3130
stateno = 3130
pos = -50,-25
postype = Back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3104, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal
name = "Lucy"
ID = 3120
stateno = 3120
pos = 42,0
postype = Front
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3104, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal
name = "Nana,Mimi"
ID = 3106
stateno = 3108
pos = -14,ceil((enemy, Const(Size.Head.Pos.Y))-100)
postype = P2
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3104, BindToTarget]
type = BindToTarget
trigger1 = !Time
pos = floor(Const(size.xscale)*44),0

[State 3104, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3104, ChangeState]
type = ChangeState
trigger1 = Var(0) = 3 ;&& NumHelper(3131) && NumHelper (3109)
value = 3105

;-------
[Statedef 3105]
type    = S
physics = S
movetype= A
anim = 3105
ctrl = 0
velset = 0,0

[State 3105, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root,fvar(1)
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = !numTarget
var(32) = 7*((1000*enemy,life/enemy,const(data.life))=(0,368])

[State 3105, ParentVarSet]
type = ParentVarSet
trigger1 = !Time
fvar(11) = 2

[State 3105, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = 4
trigger2 = Time = 13
trigger3 = Time = 22
trigger4 = Time = 31
trigger5 = Time = 40
trigger6 = Time = 49
trigger7 = Time = 58
trigger8 = Time = 67
trigger9 = Time = 76
trigger10 = Time = 5
trigger11 = Time = 14
trigger12 = Time = 21
trigger13 = Time = 29
trigger14 = Time = 37
trigger15 = Time = 45
trigger16 = Time = 53
trigger17 = Time = 61
trigger18 = Time = 69
trigger19 = Time = 77
trigger20 = Time = 3
trigger21 = Time = 7
trigger22 = Time = 11
trigger23 = Time = 15
trigger24 = Time = 19
trigger25 = Time = 23
trigger26 = Time = 27
trigger27 = Time = 32
;trigger28 = Time = 35
;trigger29 = Time = 39
trigger28 = Time = 50
value = -floor(ifElse(((7+7*fvar(1))-var(32))<7,7,((7+7*fvar(1))-var(32))))
kill = 0
persistent = 1

[State 3105, TargetLifeAdd2]
type = null;TargetLifeAdd
triggerall = fvar(1)
trigger1 = Time = 12
trigger2 = Time = 24
trigger3 = Time = 37
value = -floor(ifElse(((7+7*fvar(1))-var(32))<7,7,((7+7*fvar(1))-var(32))))
kill = 0
persistent = 1

[State 3105, TargetLifeAdd3]
type = TargetLifeAdd
trigger1 = Time = 85
value = -floor(ifElse(((7+7*fvar(1))-var(32))<7,7,((7+7*fvar(1))-var(32))))
kill = 1
persistent = 1

[State 3105, HitAdd]
type = HitAdd
triggerall = Anim != 3103
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
trigger9 = AnimElem = 34
trigger10 = AnimElem = 38
value = 1

[State 3105, Explod]
type = Explod
triggerall = Anim != 3103
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
trigger9 = AnimElem = 34
trigger10 = AnimElem = 38
anim = 8220
pos = 30,-28
postype = p1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 40, Helper]
type = Helper
triggerall = Anim != 3103
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(20) = 0
trigger3 = AnimElemTime(30) = 0
id = 4000
name = "EXPLOSION"
pos =0,0
postype = p2
stateno = 4000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 40, Helper]
type = Helper
trigger1 = Anim = 3103
id = 4000
name = "EXPLOSION"
pos =0,0
postype = p2
stateno = 4000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3105, PlaySnd]
type = PlaySnd
triggerall = Anim != 3103
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
trigger9 = AnimElem = 34
trigger10 = AnimElem = 38
value = S3,2
channel = 1

[State 3105, Turn]
type = Turn
trigger1 = AnimTime = 0
persistent = 0

[State 3105, TargetState]
type = TargetState
trigger1 = AnimTime = 0
value = 3161
persistent = 0

[State 3105, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 3103
persistent = 0

[State 3105, VelSet]
type = VelSet
trigger1 = Anim = 3103
x = 7

[State 3105, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -112

;-------
[Statedef 3111]
type    = S
physics = S
movetype= A
anim = 3103
ctrl = 0

[State 3120, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3103, VarSet]
type = VarSet
trigger1 = !Time
var(6) = 2

[State 3103, VelSet]
type = VelSet
trigger1 = 1
x = ParentDist X/16

[State 3120, ParentVarAdd]
type = ParentVarAdd
trigger1 = ParentDist X <= 55
var(0) = 1
persistent = 0

[State 3120, BindToTarget]
type = BindToParent
trigger1 = ParentDist X <= 55
pos = floor(Const(size.xscale)*-55),-(Parent, Pos Y)

[State 3104, ChangeState]
type = ChangeState
trigger1 = parent, Var(0) = 3
trigger1 = parent, NumHelper(3103)
trigger1 = parent, NumHelper(3120)
trigger1 = parent, NumHelper(3130)  ;&& NumHelper(3131) && NumHelper (3109)
value = 3112

;-------
[Statedef 3112]
type    = S
physics = S
movetype= A
anim = 3105
ctrl = 0
velset = 0,0

[State 3120, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3120, BindToTarget]
type = BindToParent
trigger1 = !Time
pos = floor(Const(size.xscale)*-55),-(Parent, Pos Y)

[State 3105, HitAdd]
type = HitAdd
triggerall = Anim != 3103
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
trigger9 = AnimElem = 34
trigger10 = AnimElem = 38
value = 1

[State 3105, Explod]
type = Explod
triggerall = Anim != 3103
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
trigger9 = AnimElem = 34
trigger10 = AnimElem = 38
anim = 8220
pos = 30,-28
postype = p1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 40, Helper]
type = Helper
triggerall = Anim != 3103
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(20) = 0
trigger3 = AnimElemTime(30) = 0
id = 4000
name = "EXPLOSION"
pos =0,0
postype = p2
stateno = 4000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 40, Helper]
type = Helper
trigger1 = Anim = 3103
id = 4000
name = "EXPLOSION"
pos =0,0
postype = p2
stateno = 4000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3105, PlaySnd]
type = PlaySnd
triggerall = Anim != 3103
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
trigger9 = AnimElem = 34
trigger10 = AnimElem = 38
value = S3,2
channel = 1

[State 3105, Turn]
type = Turn
trigger1 = AnimTime = 0
persistent = 0

[State 3105, TargetState]
type = TargetState
triggerall = Anim = 3105
trigger1 = AnimTime = 0
value = 3161
persistent = 0

[State 3105, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 3103
persistent = 0

[State 3105, VelSet]
type = VelSet
trigger1 = Anim = 3103
x = 7

[State 3105, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -112

;-----------------
; Pico (hurt)
[Statedef 3150]
type    = U
physics = S
movetype= I
ctrl = 0
anim = 3106

[State 3150, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3150, VelSet]
type = VelSet
trigger1 = Time > 0
x = -7

[State 3150, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S10,0

[State 3150, DestroySelf]
type = DestroySelf
triggerall = Time > 10
trigger1 = FrontEdgeBodyDist < -112
trigger2 = BackEdgeBodyDist < -112

;-----------------
; Nana, Mimi
; 3001
[Statedef 3106]
type    = A
physics = N
movetype= A
anim = 3110
ctrl = 0

[State 3103, VarSet]
type = VarSet
trigger1 = !Time
var(1) = 0

[State 3103, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2MoveType != H
trigger2 = MoveContact
trigger2 = !NumTarget
trigger3 = Parent, MoveType = H
var(1) = 1

[State 3103, TargetDrop]
type = targetdrop
triggerall = NumTarget(3100)
trigger1 = Var(1)

[State 3103, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 0

[State 3103, StateTypeSet]
type = StateTypeSet
trigger1 = Var(1)
movetype = I

[State 3103, VarSet]
type = VarSet
trigger1 = !Time
var(6) = 1

[State 3103, NotHitBy]
type = NotHitBy
triggerall = Var(1)
trigger1 = 1
value = SCA

[State 3103, HitOverRide]
type = HitOverRide
trigger1 = 1
stateno = 3151
attr = SAC,NP,SP,HP,NA,SA,HA

[State 3103, HitBy]
type = HitBy
trigger1 = !Var(1)
value = SAC,NP,SP,HP,NA,SA,HA

[State 3106, VelSet]
type = VelSet
triggerall = parent, Var(22) = 2
trigger1 = Time < 20
x = 7
y = -2.5

[State 3106, VelSet]
type = VelSet
triggerall = parent, Var(22) = 1
trigger1 = !Time
x = 7
;y = 1

[State 3106, Gravity]
type = VelAdd
trigger1 = 1
y = .47

[State 3103, VarSet]
type = VarSet
trigger1 = 1
fvar(18) = root, fvar(19)
ignorehitpause = 1
[State 3103, VarSet]
type = VarSet
trigger1 = 1
fvar(19) = root, fvar(19)
ignorehitpause = 1

[State 3106, HitDef]
type = HitDef
triggerall = !FVar(18) && FVar(19) = 0
triggerall = !NumHelper(3120) && !NumHelper(3130) && !NumHelper(3103)
trigger1 = !Var(1)
attr = S, HA
damage = 7,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0,9
sparkno = S8220
guard.sparkno = S8105
sparkxy = -10,-28
hitsound = S3,2
guardsound = S5,0
ground.type = Low
ground.hittime = 9
ground.slidetime = 9
air.hittime = 10
forcestand = 1
ID = 3100
kill = 0
persistent = 0

[State 3106, TargetState]
type = TargetState
trigger1 = MoveHit = 1 && P2MoveType = H;&& NumTarget(3100)
value = 3160

[State 3106, ChangeState]
type = ChangeState
triggerall = !Var(1)
triggerall = NumTarget(3100)
trigger1 = MoveHit = 1 && P2MoveType = H
value = 3107

[State 3103, ChangeState]
type = ChangeState
trigger1 = Var(1)
trigger2 = MoveGuarded
value = 3151
ignorehitpause = 1

[State 3106, ChangeState]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = 3114

;-------
[Statedef 3107]
type    = A
physics = N
movetype= I
anim = 3112
ctrl = 0
velset = 0,0

[State 3104, ParentVarSet]
type = ParentVarSet
trigger1 = !Time
fvar(11) = 1

[State 3107, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 3107, BindToTarget]
type = BindToTarget
trigger1 = Time = 1
pos = -14,0,Head

[State 3107, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal
name = "Pico"
ID = 3103
stateno = 3111
pos = -50,0
postype = Back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3107, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal
name = "Grace"
ID = 3130
stateno = 3130
pos = -50,-25
postype = Back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3104, Helper]
type = Helper
trigger1 = Time = 1
helpertype = Normal
name = "Lucy"
ID = 3120
stateno = 3120
pos = 42,0
postype = Front
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3107, ChangeState]
type = ChangeState
trigger1 = Var(0) = 3 && NumHelper(3103) && NumHelper(3120) && NumHelper(3130)
value = 3113

;-------
[Statedef 3108]
type    = A
physics = N
movetype= I
anim = 3114
ctrl = 0
sprpriority = 0

[State 3106, VarSet]
type = VarSet
trigger1 = !Time
var(7) = (enemy, Const(Size.Head.Pos.Y))

[State 3110, VelSet]
type = VelSet
trigger1 = !Time
y = (abs(Pos Y)-abs(Var(7)))/6

[State 3108, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y >= Var(7)
value = 3112
persistent = 0

[State 3108, ParentVarAdd]
type = ParentVarAdd
trigger1 = Anim = 3112;Pos Y = -60
var(0) = 1
persistent = 0

[State 3108, VelSet]
type = VelSet
trigger1 = Pos Y >= Var(7)
y = 0

[State 3108, PosSet]
type = PosSet
trigger1 = Pos Y >= Var(7)
y = Var(7)

[State 3108, ChangeState]
type = ChangeState
trigger1 = parent,Var(0) = 3 ;&& NumHelper(3131) && NumHelper (3109)
value = 3109

;-------
[Statedef 3109]
type    = A
physics = N
movetype= A
anim = 3113
ctrl = 0
sprpriority = 0
velset = 0,0

[State 3109, PosSet]
type = PosSet
trigger1 = !Time
y = Var(7)

[State 3109, Explod]
type = Explod
triggerall = Anim = 3113
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
trigger3 = AnimElem = 21
trigger4 = AnimElem = 28
anim = 8220
pos = 7,-4
postype = p1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 3109, PlaySnd]
type = PlaySnd
triggerall = Anim = 3113
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
trigger3 = AnimElem = 21
trigger4 = AnimElem = 28
value = S3,2
channel = 2

[State 3109, HitAdd]
type = HitAdd
triggerall = Anim = 3113
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
trigger3 = AnimElem = 21
trigger4 = AnimElem = 28
value = 1

[State 3109, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 3110
persistent = 0

[State 3106, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3109, VelSet2]
type = VelSet
trigger1 = Anim = 3110
x = 3
y = -2.5
persistent = 0

[State 3109, Gravity]
type = Gravity
trigger1 = Anim = 3110

[State 3109, PosSet2]
type = PosSet
trigger1 = Vel Y + Pos Y >= 0
y = 0

[State 3109, WTF]
type = VelSet
trigger1 =Vel Y + Pos Y >= 0
y = 0

[State 3109, Turn]
type = Turn
trigger1 = Vel Y + Pos Y >= 0
persistent = 0

[State 3109, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y + Pos Y >= 0
value = 3115
persistent = 0

[State 3109, VelSet4]
type = VelSet
trigger1 = Anim = 3115
x = 4

[State 3109, DestroySelf]
type = DestroySelf
triggerall = Anim = 3115
trigger1 = FrontEdgeBodyDist < -112

;TERMINATE= TIME = 52

;-------
[Statedef 3113]
type    = A
physics = N
movetype= A
anim = 3113
ctrl = 0
sprpriority = 0
velset = 0,0

[State 3105, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root,fvar(1)
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemy,life/enemy,const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = !numTarget
var(32) = 7*((1000*enemy,life/enemy,const(data.life))=(0,368])

[State 3109, PosSet]
type = PosSet
trigger1 = !Time
y = Pos Y;-90

[State 3105, ParentVarSet]
type = ParentVarSet
trigger1 = !Time
fvar(11) = 2

[State 3105, VarSet]
type = VarSet
trigger1 = 1
var(0) = 3

[State 3105, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = 4
trigger2 = Time = 13
trigger3 = Time = 22
trigger4 = Time = 31
trigger5 = Time = 40
trigger6 = Time = 49
trigger7 = Time = 58
trigger8 = Time = 67
trigger9 = Time = 76
trigger10 = Time = 5
trigger11 = Time = 14
trigger12 = Time = 21
trigger13 = Time = 29
trigger14 = Time = 37
trigger15 = Time = 45
trigger16 = Time = 53
trigger17 = Time = 61
trigger18 = Time = 69
trigger19 = Time = 77
trigger20 = Time = 3
trigger21 = Time = 7
trigger22 = Time = 11
trigger23 = Time = 15
trigger24 = Time = 19
trigger25 = Time = 23
trigger26 = Time = 27
trigger27 = Time = 32
;trigger28 = Time = 35
;trigger29 = Time = 39
trigger28 = Time = 50
value = -floor(ifElse(((7+7*fvar(1))-var(32))<7,7,((7+7*fvar(1))-var(32))))
kill = 0
persistent = 1

[State 3105, TargetLifeAdd2]
type = null;TargetLifeAdd
triggerall = fvar(1)
trigger1 = Time = 12
trigger2 = Time = 24
trigger3 = Time = 37
value = -floor(ifElse(((7+7*fvar(1))-var(32))<7,7,((7+7*fvar(1))-var(32))))
kill = 0
persistent = 1

[State 3105, TargetLifeAdd3]
type = TargetLifeAdd
trigger1 = Time = 85
value = -floor(ifElse(((7+7*fvar(1))-var(32))<7,7,((7+7*fvar(1))-var(32))))
kill = 1
persistent = 1

[State 3109, Explod]
type = Explod
triggerall = Anim = 3113
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
trigger3 = AnimElem = 21
trigger4 = AnimElem = 28
anim = 8220
pos = 7,-4
postype = p1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 3109, PlaySnd]
type = PlaySnd
triggerall = Anim = 3113
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
trigger3 = AnimElem = 21
trigger4 = AnimElem = 28
value = S4,2
channel = 2

[State 3109, HitAdd]
type = HitAdd
triggerall = Anim = 3113
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
trigger3 = AnimElem = 21
trigger4 = AnimElem = 28
value = 1

[State 3105, TargetState]
type = TargetState
triggerall = Anim != 3110
trigger1 = AnimTime = 0
value = 3161
persistent = 0

[State 3109, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 3110
persistent = 0

[State 3106, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3109, VelSet2]
type = VelSet
trigger1 = Anim = 3110
x = 3
y = -2.5
persistent = 0

[State 3109, Gravity]
type = Gravity
trigger1 = Anim = 3110

[State 3109, PosSet2]
type = PosSet
trigger1 = Vel Y + Pos Y >= 0
y = 0

[State 3109, WTF]
type = VelSet
trigger1 = Vel Y + Pos Y >= 0
y = 0

[State 3109, Turn]
type = Turn
trigger1 = Vel Y + Pos Y >= 0
persistent = 0

[State 3109, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y + Pos Y >= 0
value = 3115
persistent = 0

[State 3109, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 3115
movetype = I

[State 3109, VelSet4]
type = VelSet
trigger1 = Anim = 3115
x = 4

[State 3109, DestroySelf]
type = DestroySelf
triggerall = Anim = 3115
trigger1 = FrontEdgeBodyDist < -112

;-------
[Statedef 3114]
type    = U
physics = N
movetype= I
ctrl = 0
sprpriority = 0
velset = 0,0

[State 3114, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 3114, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y >= 0
value = 3117
persistent = 0

[State 3114, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 3117
statetype = S

[State 3114, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 3117 && AnimTime = 0
value = 3115

[State 3109, Turn]
type = Turn
trigger1 = Anim = 3115
persistent = 0

[State 3109, VelSet4]
type = VelSet
trigger1 = Anim = 3115
x = 4

[State 3109, DestroySelf]
type = DestroySelf
triggerall = Anim = 3115
trigger1 = FrontEdgeBodyDist < -112

;-----------------
; Nana, Mimi (hurt)
[Statedef 3151]
type    = U;S
physics = N;S
movetype= I;H
anim = 3116
velset = 0,0
ctrl = 0

[State 3151, PosFreeze]
type = ChangeAnim
trigger1 = Time = [0,10]
value = anim
[State 3151, PosFreeze]
type = PosFreeze
trigger1 = Time = [0,10]
value = 1

[State 3150, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3150, VelSet]
type = VelSet
trigger1 = Time > 10
x = 3

[State 3150, VelSet]
type = VelSet
trigger1 = Anim = 3116 && Time = [11,23]
y = -4

[State 3150, Gravity]
type = Gravity
trigger1 = Time > 10

[State 3151, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 3116 && AnimTime = 0
value = 3110

[State 3150, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S10,0

[State 3150, DestroySelf]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = 3114

;-----------------
; Nonno/Tama
; 3004
[Statedef 3110]
type    = A
physics = N
movetype= I
anim = 1205
ctrl = 0

[State 0, Loop]
type = VarAdd
trigger1 = !Time
var(0) = 1

[State 3110, Gravity]
type = Gravity
trigger1 = Var(0) = 1

[State 3110, VelAdd]
type = VelAdd
trigger1 = Var(0) > 1
y = .5

[State 3110, VelSet]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 3115

[Statedef 3115]
type = S
physics = N
movetype = I
anim = 1207
ctrl = 0
velset = 0,0
[State 3110, PosSet]
type = PosSet
trigger1 = !Time
y = 0
[State 3111, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = ifElse(Var(0)=4,3140,1207)

[State 3110, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S200,1

[State 3110, VelSet]
type = VelSet
trigger1 = Anim = 1207 && AnimElemTime(2) = 4
y = -9/Var(0)

[State 3110, ChangeAnim]
type = ChangeState
trigger1 = Anim = 1207 && AnimElemTime(2) = 4
value = 3110

[State 3110, DestroySelf]
type = DestroySelf
trigger1 = roundstate < 4

;-----------------
; Lucy
; 3002
[Statedef 3120]
type    = S
physics = N
movetype= I
anim = 3120
ctrl = 0
sprpriority = 2

[State 3120, PosSet]
type = null;PosSet
trigger1 = Time <= 3
y = -25

[State 3120, VelSet]
type = VelSet
trigger1 = 1
x = ParentDist X/16;7

[State 3120, VelSet]
type = VelSet
trigger1 = !Time
y = -1.5

[State 3120, Gravity]
type = Gravity
trigger1 = Time > 7

[State 3120, PosSet]
type = PosSet
triggerall = Time > 1
trigger1 = Pos Y >= 0
y = 0

[State 3120, VelSet]
type = VelSet
triggerall = Time > 1
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 3120, BindToTarget]
type = BindToParent
triggerall = Time > 1
trigger1 = Pos Y = 0
pos = (ifElse((Parent, Var(6) = 2),(floor(Const(size.xscale)*88)),(floor(Const(size.xscale)*42)))),(ifElse((Parent, Var(6) = 2),0,-(Parent, Pos Y)))

[State 3120, ChangeState]
type = ChangeState
triggerall = Time > 1
trigger1 = Pos Y = 0
value = 3121

;-------
[Statedef 3121]
type    = S
physics = N
movetype= I
anim = 3121
ctrl = 0
sprpriority = 2
velset = 0,0

[State 3121, BindToTarget]
type = BindToParent
trigger1 = !Time
pos = (ifElse((Parent, Var(6) = 2),(floor(Const(size.xscale)*88)),(floor(Const(size.xscale)*42)))),(ifElse((Parent, Var(6) = 2),0,-(Parent, Pos Y)))

[State 3121, ParentVarSet]
type = ParentVarAdd
trigger1 = !Time
var(0) = 1
persistent = 0

[State 3121, ChangeAnim]
type = ChangeAnim
trigger1 = Parent, Var(0) = 3
value = 3122
persistent = 0

[State 3121, HitAdd]
type = HitAdd
triggerall = Anim = 3122
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
trigger7 = AnimElem = 25
trigger8 = AnimElem = 29
trigger9 = AnimElem = 33
trigger10 = AnimElem = 37
value = 1

[State 3121, Explod]
type = Explod
triggerall = Anim = 3122
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
trigger7 = AnimElem = 25
trigger8 = AnimElem = 29
trigger9 = AnimElem = 33
trigger10 = AnimElem = 37
anim = 8220
pos = 53,-41
postype = p1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 3121, PlaySnd]
type = PlaySnd
triggerall = Anim = 3122
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
trigger7 = AnimElem = 25
trigger8 = AnimElem = 29
trigger9 = AnimElem = 33
trigger10 = AnimElem = 37
value = S3,2
channel = 3

[State 3121, Turn]
type = Turn
triggerall = Anim != 3121
trigger1 = AnimTime = 0
persistent = 0

[State 3105, TargetState]
type = TargetState
triggerall = Anim != 3121
trigger1 = AnimTime = 0
value = 3161
persistent = 0

[State 3121, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3121
trigger1 = AnimTime = 0
value = 3120
persistent = 0

[State 3121, VelSet]
type = VelSet
trigger1 = Anim = 3120
x = 7

[State 3121, DestroySelf]
type = DestroySelf
triggerall = Anim = 3120
trigger1 = FrontEdgeBodyDist < -112

;-----------------
; Grace
; 3005
[Statedef 3130]
type    = S
physics = N
movetype= I
anim = 3130
ctrl = 0
sprpriority = 1

[State 3130, PosSet]
type = PosSet
trigger1 = Time <= 3
y = -25

[State 3130, VarSet]
type = VarSet
trigger1 = !Time
fvar(0) = abs(ParentDist X)

[State 3130, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = abs(ParentDist X)

[State 3130, VelSet]
type = VelSet
trigger1 = 1
x = ParentDist X/16;7

[State 3130, VelSet]
type = VelSet
trigger1 = !Time
y = -1.5

[State 3130, Gravity]
type = Gravity
trigger1 = Time >= 8;Time > 10

[State 3130, PosSet]
type = PosSet
trigger1 = Pos Y + Vel Y >= 0
y = 0

[State 3130, VelSet]
type = VelSet
trigger1 = Pos Y + Vel Y >= 0
x = 0
y = 0

[State 3130, BindToTarget]
type = BindToParent
trigger1 = Pos Y = 0
pos = (ifElse((Parent, Var(6) = 2),(floor(Const(size.xscale)*-24)),(floor(Const(size.xscale)*-66)))),(ifElse((Parent, Var(6) = 2),0,-(Parent, Pos Y)))

[State 3130, ChangeState]
type = ChangeState
trigger1 = Pos Y = 0
value = 3131

;-------
[Statedef 3131]
type    = S
physics = N
movetype= I
anim = 3131
ctrl = 0

[State 3131, BindToTarget]
type = BindToParent;Target
trigger1 = !Time
pos = (ifElse((Parent, Var(6) = 2),(floor(Const(size.xscale)*-24)),(floor(Const(size.xscale)*-66)))),(ifElse((Parent, Var(6) = 2),0,-(Parent, Pos Y)))

[State 3131, ParentVarSet]
type = ParentVarAdd
trigger1 = !Time
var(0) = 1
persistent = 0

[State 3131, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 3131
trigger1 = Parent, Var(0) = 3;AnimTime = 0
value = 3132
;persistent = 0

[State 3131, HitAdd]
type = HitAdd
triggerall = Anim = 3132
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
value = 1

[State 3131, Explod]
type = Explod
triggerall = Anim = 3132
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
anim = 8220
pos = 63,-40
postype = p1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
bindtime = 1
removeongethit = 1
ontop = 1

[State 52, Explod]
type = Explod
triggerall = Anim = 3132
trigger1 = AnimElemTime(14) = 0
trigger2 = AnimElemTime(30) = 6
anim = 7020
pos = 36,-80
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)

[State 3131, PlaySnd]
type = PlaySnd
triggerall = Anim = 3132
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
value = S3,2
channel = 4

[State 3131, Turn]
type = Turn
triggerall = Anim != 3131
trigger1 = AnimTime = 0
persistent = 0

[State 3105, TargetState]
type = TargetState
triggerall = Anim != 3131
trigger1 = AnimTime = 0
value = 3161
persistent = 0

[State 3131, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3131
trigger1 = AnimTime = 0
value = 3130
persistent = 0

[State 3131, VelSet]
type = VelSet
trigger1 = Anim = 3130
x = 7

[State 3131, DestroySelf]
type = DestroySelf
triggerall = Anim = 3130
trigger1 = FrontEdgeBodyDist < -112

;---------------------------------------------------------------------------
; Hit by Please Help Me!
[Statedef 3160]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3160, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5000, 0]
type = PosSet
trigger1 = !Time
y = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = !Time
value = 5000+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

;-------
[Statedef 3161]
type    = A
movetype= I
physics = N

[State 3161, VelSet]
type = ChangeAnim
trigger1 = !Time && SelfAnimExist(7697)
value = 7697

[State 3161, VelSet]
type = ChangeAnim2
trigger1 = !Time && !SelfAnimExist(7697)
value = 3160

[State 0, VelSet]
type = VelSet
trigger1 = Time > 34
x = -2.625
y = 4.0625

[State 3161, ChangeState]
type = SelfState
trigger1 = Time > 34
value = 5100

;----------------------------------------------------------------------------------
; Kitty the Helper (DARK FORCE)
[Statedef 3500]
type    = S
physics = S
movetype= A
anim = 3500
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1
poweradd = -1000

[State 3500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3500, VarSet]
type = VarSet
trigger1 = AnimElemTime(7) < 0
v = ifElse(Var(10)=2,13,28)
value = ifElse(Var(10)=2,360,420)
[State 3500, VarSet]
type = VarSet
trigger1 = !Time
v = ifElse(Var(10)=2,14,29)
value = 1

[State 3500, EX]
type = VarSet
trigger1 = !Time && Var(10) > 2
var(0) = 1

[State 3100, PlaySnd]
type = PlaySnd
triggerall = Var(10) = 2
trigger1 = Time = 0
value = S6000,10
channel = 13
[State 3100, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S8,17
channel = 0

[State 40, Helper]
type = Helper
triggerall = Var(10) = 2
trigger1 = Time = 0
id = 8000
name = "Dark Force"
pos = ceil(-8*Const(Size.Xscale)),ceil(-65*Const(Size.Yscale))
postype = p1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 960, Super]
type = Helper
triggerall = Var(10) = 2
trigger1 = Time = 0
ID = 6170
name = "Time"
pos =0,0
postype = P1
stateno = 6170
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
facing = 1

[State 3100, Helper]
type = Helper
trigger1 = !NumHelper(3107)
helpertype = Normal
name = "Alto"
ID = 3107
stateno = 3600
pos = -32,0
postype = Back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = Const(size.xscale)
size.yscale = Const(size.yscale)
ignorehitpause = 1

[State 3100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Kitty the Helper (END)
[Statedef 3505]
type    = S
physics = S
movetype= I
anim = 3500
ctrl = 0
velset = 0,0
sprpriority = 2

[State 3500, VarSet]
type = VarSet
trigger1 = !Time
v = ifElse(Var(10)=2,13,28)
value = 0
[State 3500, VarSet]
type = VarSet
trigger1 = !Time
v = ifElse(Var(10)=2,14,29)
value = 0

[State 3100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
; Alto
[Statedef 3600]
type    = S
physics = N
movetype= I
ctrl = 0
sprpriority = 3
velset = 0,0
anim = 3115

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root, FVar(1)
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(18) = root, FVar(18)
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(19) = root, FVar(19)

[State 3600, Attack]
type = ChangeState
triggerall = (root, Var(13) && root,Var(10)=2) || (root,Var(28) && root,Var(10)>2)
triggerall = root, StateNo != 3500
trigger1 = root, command = "x" || root, command = "y" || root, command = "z"
trigger2 = root, command = "a" || root, command = "b" || root, command = "c"
trigger3 = root, StateNo = 3001
value = 3610

[State 3600, VelSet]
type = VelSet
trigger1 = 1
x = 3

[State 3600, Turn]
type = ChangeState
triggerall = rootDist X < -64
trigger1 = root, Var(10)=2 && root,Var(13)
trigger2 = root, Var(10)>2 && root,Var(28)
value = stateNo+1

[State 3600, DTC]
type = DisplayToClipboard
trigger1 = 1
text = "rootDist X = %f"
params = rootDist X

[State 3109, DestroySelf]
type = DestroySelf
triggerall = FrontEdgeBodyDist < -40
trigger1 = root,Var(10)=2 && !root,Var(13)
trigger2 = root,Var(10)>2 && !root,Var(28)

;-----------------
; TURN
[Statedef 3601]
type    = S
physics = N
movetype= I
ctrl = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root, FVar(1)
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(18) = root, FVar(18)
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(19) = root, FVar(19)

[State 3601, Attack]
type = ChangeState
triggerall = (root, Var(13) && root,Var(10)=2) || (root,Var(28) && root,Var(10)>2)
triggerall = root, StateNo != 3500
trigger1 = root, command = "x" || root, command = "y" || root, command = "z"
trigger2 = root, command = "a" || root, command = "b" || root, command = "c"
trigger3 = root, StateNo = 3001
value = 3610

[State 3601, Turn]
type = Turn
trigger1 = !Time && prevStateNo = 3600

[State 3600, DTC]
type = DisplayToClipboard
trigger1 = 1
text = "rootDist X = %f"
params = rootDist X

[State 3601, ChangeState]
type = ChangeState
triggerall = rootDist X > 64
trigger1 = root, Var(10)=2 && root,Var(13)
trigger2 = root, Var(10)>2 && root,Var(28)
value = stateNo-1

[State 3109, DestroySelf]
type = DestroySelf
triggerall = FrontEdgeBodyDist < -40
trigger1 = root,Var(10)=2 && !root,Var(13)
trigger2 = root,Var(10)>2 && !root,Var(28)

;-----------------
; ATTACK
[Statedef 3610]
type    = S
physics = N
movetype= A
ctrl = 0
sprpriority = 3
anim = 3118
velset = 0,0
facep2 = 1

;---------------------------------------------
; Basic, Command, and Special Juggling
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root, FVar(1)
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(18) = root, FVar(18)
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(19) = root, FVar(19)
ignorehitpause = 1

[State 3610, VelSet]
type = VelSet
trigger1 = AnimElemTime(3) = 0
x = abs((root,Pos X+(64.0*root,Facing))-Pos X)/32.0
y = -15.0
[State 3610, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(3) > 0
y = 0.95833;.75

[State 200, STATETYPESET]
type = StateTypeSet
trigger1 = FVar(18) || FVar(19) > 0
movetype = I
[State 200, STATETYPESET]
type = StateTypeSet
trigger1 = !FVar(18) && FVar(19) = 0
movetype = A

[State 200, 1]
type = HitDef
;triggerall = P2MoveType != H && P2StateType != A
trigger1 = Vel Y >= 0
attr = ,SA
damage = floor(ifElse(((49*fvar(1))-var(32))<7,7,((49*fvar(1))-var(32)))),0
animtype = Light
air.animtype = Back
fall.animtype = Back
guardflag = H
hitflag = MAF
priority = 6, Hit
pausetime = 9,9
sparkno = S8210
guard.sparkno = S8100
sparkxy = -10,-43
hitsound = S3,1
guardsound = S5,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.406
guard.velocity = -5.406
guard.ctrltime = 10
air.type = High
air.velocity = -2.96875,-9.53125
airguard.velocity = -6,-3
air.hittime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 56,0
yaccel = 0.625
air.fall = 0
fall.recover = 0
air.recover = 0
p2facep1 = 1
persistent = 0

[State 3600, DTC]
type = DisplayToClipboard
trigger1 = 1
text = "juggle = %f, limit = %f"
params = fvar(19), fvar(18)

[State 3610, ChangeState]
type = ChangeState
trigger1 = AnimElemTime(3) > 1
trigger1 = Vel Y + Pos Y >= 0
value = stateNo+5

;-----------------
; LAND
[Statedef 3615]
type    = S
physics = N
movetype= A
ctrl = 0
sprpriority = 3
anim = 3119
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0 

[State 3600, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3600

;----------------------------------------------------------------------------------
; EXPLOSIONS
[Statedef 4000]
type    = A
movetype= I
physics = N
anim = 1

[State 4000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 52, Explod]
type = Explod
trigger1 = !Time
anim = 7020
pos = 16,-16
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 4
anim = 7020
pos = -16,-68
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 6
anim = 7020
pos = 20,-46
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 8
anim = 7020
pos = 0,-12
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 6
anim = 7020
pos = 20,-46
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 12
anim = 7020
pos = 16,-54
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 14
anim = 7020
pos = -30,-54
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)
[State 52, Explod]
type = Explod
trigger1 = Time = 16
anim = 7020
pos = 16,-98
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -2
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = const(Size.Xscale),const(Size.Yscale)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time = 17

;===============================================================================
;                                HIT STATE RIPOFFS
;===============================================================================
;---------------------------------------------------------------------------
; HITG_SHAKE_High
[Statedef 3800]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
value = 5000+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 3801 ;HITG_SLIDE

;---------------------------------------------------------------------------
; HITG_SHAKE_Low
[Statedef 3805]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
value = 5010+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 3806 ;HITG_SLIDE

;---------------------------------------------------------------------------
; HITG_SLIDE_High
[Statedef 3801]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITG_SLIDE_Low
[Statedef 3806]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5015+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 3820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype) + 100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && ((SelfAnimExist(5047 + GetHitVar(animtype))) || (SelfAnimExist(105047 + GetHitVar(animtype)) && Name = "Gill" && AuthorName = "GM" && Facing = -1))
value = 5047 + GetHitVar(animtype) + 100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 3830

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 3830]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = time > 0
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Vel Y > 0 ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 3850 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3835 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 3835]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 1]
type = ChangeAnim
trigger1 = Name = "Gill" && AuthorName = "GM" && Facing = -1
trigger1 = Time = 0
trigger1 = SelfAnimExist(105035)
trigger1 = Anim != [105051, 105059] ;Not if in hit up anim
trigger1 = Anim != 105090 ;Not if hit off ground anim
trigger1 = Anim != [10501, 105059)
value = 105035

[State 5035, 2]
type = VelAdd
trigger1 = time > 0
y = GetHitVar(yaccel)

[State 5035, 4]
type = ChangeState
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0 ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0  ;No transition anim
trigger4 = Anim != 5035 ;.
value = 3850 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3850]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0  ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
trigger1 = AnimTime = 0
trigger1 = Anim = 105035
trigger2 = Time = 0  ;If no transition anim
trigger2 = Anim != 105035
trigger2 = (Anim != [105051, 105059]) && (Anim != [105061, 105069])
trigger2 = Anim != 105090 ;Not if hit off ground anim
value = 105050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = (anim = [5050,5059]) || (Name = "Gill" && AuthorName = "GM" && Facing = -1 && anim = [105050, 105059])
trigger1 = Vel Y >= ifelse(anim = 5050+(Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = time > 0
y = ifElse(prevStateNo=3161,0.875,GetHitVar(yaccel))

[State 5050, 6]
type = SelfState
triggerall = prevStateNo = 3161
trigger1 = Vel Y + Pos Y >= 0
value = 5100

[State 5050, 6]
type = ChangeState
triggerall = !prevStateNo = 3161
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 3900 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 3880]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse(GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 2]
type = VarAdd
trigger1 = Name = "Gill" && AuthorName = "GM" && Facing = -1
trigger1 = time = 0
trigger1 = (anim = [105081,105089]) || (anim = [105111,105119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1)
trigger1 = !SelfAnimExist(5090+100000*(Name = "Gill" && AuthorName = "GM" && Facing = -1))
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 3881 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 3830 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 3881]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 3910 ;HIT_LIEDOWN

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 3900]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = ((anim != [5051,5059]) && (anim != [5061,5069]))
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = time = 0
trigger1 = ((anim != [105051,105059]) && (anim != [105061,105069]))
trigger2 = !SelfAnimExist(105100 + (anim % 10))
value = 105100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = ((anim != [5051,5059]) && (anim != [5061,5069]))
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
trigger1 = time = 0
trigger1 = ((anim != [105051,105059]) && (anim != [105061,105069]))
trigger1 = SelfAnimExist(105100 + (anim % 10))
value = 105100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 3910 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 3901

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 3901]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = time = 0
trigger1 = anim != [105101,105109]
trigger2 = !SelfAnimExist(105160 + (anim % 10))
value = 105160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = time = 0
trigger1 = anim = [105101,105109]
trigger1 = SelfAnimExist(105160 + (anim % 10))
value = 105160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = time > 0
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 3910

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 3910]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
persistent = 0
trigger1 = SelfAnimExist(105110 + (anim % 10))
trigger1 = anim = [105081,105089]
value = 105110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = time = 0
triggerall = anim != [105110,105119] ;Not already changed anim
trigger1 = anim != [105161,105169]
trigger2 = !SelfAnimExist(105170 + (anim % 10))
value = 105170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = time = 0
triggerall = anim != [105110,105119] ;Not already changed anim
trigger1 = anim = [105161,105169]
trigger1 = SelfAnimExist(105170 + (anim % 10))
value = 105170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9]
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 5110 + (anim % 10)

[State 5110, 10]
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 5110

[State 5110, 9]
type = ChangeAnim
persistent = 0
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = anim = [105171,105179]
triggerall = SelfAnimExist(105110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 105110 + (anim % 10)

[State 5110, 10]
type = ChangeAnim
persistent = 0
triggerall = Name = "Gill" && AuthorName = "GM" && Facing = -1
triggerall = Anim != [105111,105119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 105110

[State 5110, 11]
type = SelfState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
trigger3 = (Anim = [5110,5119]) || (Name = "Gill" && AuthorName = "GM" && Facing = -1 && Anim = [105111,105119])
value = 5150

[State 5110, 11]
type = SelfState
trigger1 = time = 70
value = 5120

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

;===============================================================================
;                                    ABILITIES
;===============================================================================

;----------------------------------------------------------------------------------
; Wall Cling (back)
[Statedef 88]
type    = A
physics = N
movetype= I
velset = 0,0
ctrl = 0

[State 88, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 851

[State 88, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 88, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S180,0

[State 88, PlaySnd]
type = PlaySnd
trigger1 = Anim = 861
value = S200,3
channel=1
persistent = 0

[State 88, ChangeState]
type = ChangeState
triggerall = Time > 0
trigger1 = command != "holdback"
trigger2 = Pos Y >= -37
trigger3 = backedgebodydist > 4
value = 850

[State 88, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 851
trigger1 = AnimTime = 0
trigger2 = command = "holddown"
value = 861
persistent = 0

[State 88, PosAdd]
type = PosAdd
trigger1 = 1;Anim = [860,866]
x = -(ScreenPos X + 7)

[State 88, PosAdd]
type = PosAdd
triggerall = Pos Y < -37
trigger1 = Anim = [860,866]
y = 1.5

[State 88, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 75
value = 866
persistent = 0

;----------------------------------------------------------------------------------
; Wall Cling (forward)
[Statedef 89]
type    = A
physics = N
movetype= I
velset = 0,0
ctrl = 0

[State 88, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 850

[State 89, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn
flag2 = NoAirGuard

[State 89, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S180,0

[State 89, PlaySnd]
type = PlaySnd
trigger1 = Anim = 860
value = S200,3
channel=1
persistent = 0

[State 89, ChangeState]
type = ChangeState
triggerall = Time > 0
trigger1 = command != "holdfwd"
trigger2 = Pos Y >= -37
trigger3 = frontedgebodydist > 4
value = 850

[State 89, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 850
trigger1 = AnimTime = 0
trigger2 = command = "holddown"
value = 860

[State 89, PosAdd]
type = PosAdd
trigger1 = 1;Anim = [860,866]
x = (ScreenPos X + 7)

[State 89, PosAdd]
type = PosAdd
triggerall = Pos Y < -37
trigger1 = Anim = [860,866]
y = 1

[State 89, PosAdd]
type = PosAdd
triggerall = Anim = 860
trigger1 = !Time
x = 3

[State 89, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 75
value = 865
persistent = 0

;----------------------------------------------------------------------------------
; Roll
[Statedef 300]
type    = S
physics = N
movetype= I
anim = 300
ctrl = 0
velset = 0,0

[State 300, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = IfElse(Random<500,180,181),0
channel = 0

[State 300, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S40,0
channel=1

[State 300, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 300, VelSet]
type = VelSet
trigger1 = AnimElem = 11
x = 0

[State 300, HitBy]
type = HitBy
trigger1 = Time <= 20
value = SCA,NT,ST,HT

[State 300, PlayerPush]
type = PlayerPush
trigger1 = AnimElemTime(2) > 0
value = 0

[State 300, AfterImage]
type = AfterImage
triggerall = !Var(30)
trigger1 = AnimElem = 3
time = 15
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 300, StateChange]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Dodge
[Statedef 310]
type = S
physics = S
movetype =  I
anim = 310
ctrl = 0
velset = 0,0

[State 310, SprPriority]
type = SprPriority
trigger1 = 1
value = -1

[State 310, PosSet]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 310, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,0
channel = 0

[State 310, PlaySnd2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S181,0
channel = 1

[State 310, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 310, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NT,ST,HT

[State 310, AfterImage]
type = AfterImage
triggerall = !Var(30)
trigger1 = AnimElem = 1
time = 26
length = 10
FrameGap = 6
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 310, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Aerial Just Defense Fall
[Statedef 530]
type = A
physics = N
velset = -1.5,-5.3
ctrl = 1
anim = 142;890

[State 530, Gravity]
type = Gravity
trigger1 = 1

[State 530, ChangeState]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52

;----------------------------------------------------------------------------------
; Standing Parry
[Statedef 700]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 700

[State 700, VarAdd]
type = VarAdd
trigger1 = Time = 0
var(47)=2000
ignorehitpause = 1

[State 700, PowerAdd]
type = PowerAdd
triggerall = Var(10) != 6
trigger1 = Time = 0
value = IfElse(Var(10)=3,78,89)*(1000+Var(40))/1000*IfElse((Var(29)||Var(30)),0,1)*(10+Var(41))/10;*IfElse((Var(29)||Var(30)),0,1)

[State 700, VarAdd]
type = VarAdd
triggerall = Var(10) = 6
trigger1 = Time = 0
fvar(14) = 500*IfElse((Var(19)||Var(29)||Var(30)),0,1)*(10+Var(41))/10

[State 700, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 700, PalFX]
type = PalFX
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3)<0
time = 1
add = 80,80,255

[State 700, PlaySnd];Parry Sound
type = PlaySnd
trigger1 = Time = 0
value = S7000,0
channel=1

[State 700, PlaySnd];Voice
type = PlaySnd
trigger1 = Time = 0
value = S8,14
channel = 0

[State 700, Explod];Parry Spark
type = Explod
trigger1 = Time = 0
anim = 7500
pos = 49,-77
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = 15
supermovetime = 99999999999999
ignorehitpause = 1

[State 700, Pause]
type = Pause
trigger1 = Time = 1
time = 14
movetime = 14

[State 700, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Crouching Parry
[Statedef 710]
type = C
movetype = I
physics = C
ctrl = 0
velset = 0,0
anim = 710

[State 710, VarAdd]
type = VarAdd
trigger1 = Time = 0
var(47)=2000
ignorehitpause = 1

[State 710, PowerAdd]
type = PowerAdd
triggerall = Var(10) != 6
trigger1 = Time = 0
value = IfElse(Var(10)=3,78,89)*(1000+Var(40))/1000*IfElse((Var(29)||Var(30)),0,1)*(10+Var(41))/10;*IfElse((Var(29)||Var(30)),0,1)

[State 710, VarAdd]
type = VarAdd
triggerall = Var(10) = 6
trigger1 = Time = 0
fvar(14) = 500*IfElse((Var(19)||Var(29)||Var(30)),0,1)*(10+Var(41))/10

[State 710, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 4010, PalFX]
type = PalFX
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3)<0
time = 1
add = 80,80,255

[State 700, PlaySnd];Parry Sound
type = PlaySnd
trigger1 = Time = 0
value = S7000,0
channel=1

[State 700, PlaySnd];Voice
type = PlaySnd
trigger1 = Time = 0
value = S8,14
channel = 0

[State 710, Explod];Parry Spark
type = Explod
trigger1 = Time = 0
anim = 7500
pos = 56,-49
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = 15
supermovetime = 99999999999999
ignorehitpause = 1

[State 710, Pause]
type = Pause
trigger1 = Time = 1
time = 14
movetime = 14

[State 710, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------------------------------------------------------------------
; Aerial Parry
[Statedef 720]
type = A
movetype = I
physics = N
ctrl = 0
anim = 720
velset = 0,0

[State 720, VarAdd]
type = VarAdd
trigger1 = Time = 0
var(47)=2000
ignorehitpause = 1

[State 720, PowerAdd]
type = PowerAdd
triggerall = Var(10) != 6
trigger1 = Time = 0
value = IfElse(Var(10)=3,78,89)*(1000+Var(40))/1000*IfElse((Var(29)||Var(30)),0,1)*(10+Var(41))/10;*IfElse((Var(29)||Var(30)),0,1)

[State 720, VarAdd]
type = VarAdd
triggerall = Var(10) = 6
trigger1 = Time = 0
fvar(14) = 500*IfElse((Var(19)||Var(29)||Var(30)),0,1)*(10+Var(41))/10

[State 720, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 720, PalFX]
type = PalFX
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3)<0
time = 1
add = 80,80,255

[State 700, PlaySnd];Parry Sound
type = PlaySnd
trigger1 = Time = 0
value = S7000,0
channel=1

[State 700, PlaySnd];Voice
type = PlaySnd
trigger1 = Time = 0
value = S8,14
channel = 0

[State 720, Explod];Parry Spark
type = Explod
trigger1 = Time = 0
anim = 7500
pos = 49,-21
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = 15
supermovetime = 99999999999999
ignorehitpause = 1

[State 720, Pause]
type = Pause
trigger1 = Time = 1
time = 14
movetime = 14

[State 720, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 530

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 840]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = SelfState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 840, NotHitBy]
type = NotHitBy
trigger1 = MoveType = I
value = SCA

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = SelfState
trigger1 = Vel Y + Pos Y >= 0
value = 52

;----------------------------------------------------------------------------------
; Power Charge
[Statedef 900]
type = S
physics = S
movetype= I
anim = 900
ctrl = 0
velset = 0,0

[State 900, Type]
type = VarSet
trigger1 = !Time
var(22) = ifElse(command = "dd_LK+MK",0,ifElse(command = "dd_MK+HK",1,2))

[State 900, PlaySnd]
type = PlaySnd
triggerall = Anim = 900
trigger1 = AnimElem = 2
value = S9,0
channel = 0

[State 900, PowerAdd]
type = PowerAdd
trigger1 = Time%3 = 0
trigger1 = Anim = 900
value = 7

[State 900, ChangeAnim]
type = ChangeAnim
trigger1 = power >= Const(data.power)
trigger2 = ifElse(!Var(22),(command != "hold_a" || command != "hold_b"),ifElse(Var(22)=1,(command != "hold_b" || command != "hold_c"),(command != "hold_a" || command != "hold_c")))
value = 901
persistent = 0

[State 900, CtrlSet]
type = CtrlSet
triggerall = Ctrl = 0
trigger1 = Anim = 901
value = 1

[State 900, ChangeState]
type = ChangeState
trigger1 = Anim = 901 && AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; ?????byH"???
;------------------------ ???
[Statedef 950]
type = S
movetype = A
physics = N
anim = 5945
ctrl = 0
velset = -3, 0

[State 810,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 955

[State 812, 1];?????
type = Explod
trigger1 = Time = 0
ignorehitpause = 1
persistent = 0
anim = 8600
pos = 0, -60
sprpriority = 2
ownpal = 1
pausemovetime = -1
scale = .5,.5

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=3
value = S4000,0

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=3
value = S181,0;S5200,0

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .95

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = ChangeState
trigger1 = Time >= 32
value = 0
ctrl = 1

;------------------------ ???
[Statedef 955]
type = S
movetype = H
physics = N
ctrl = 0
velset = -3, 0
facing = enemy,facing

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = authorname = "H?" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan?Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSS?CAT" || AuthorName = "CrossCat"
trigger8 = AuthorName = "Jesuszilla" || AuthorName = "Vans" || AuthorName = ".\/."
value = 5940

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = authorname = "H?" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan?Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSS?CAT" || AuthorName = "CrossCat"
trigger8 = AuthorName = "Jesuszilla" || AuthorName = "Vans" || AuthorName = ".\/."
value = 5910

[State 820,ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910
value = 5007

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .95

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = SelfState
trigger1 = Time >= 29
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Pursuit Attack
[Statedef 960]
type    = A
movetype = A
physics = N
anim = 960
ctrl = 0
sprpriority = 1
facep2 = 1
velset = 0,0

[State 1200, VarSet]
type = VarSet
trigger1 = !Time
var(22) = ifElse(command="ES pursuit",1,0)

[State 0, PowerAdd]
type = PowerAdd
trigger1 = !Time && Var(22)
value = -1000

[State 2000, VarSet]
type = VarSet
trigger1 = !Time && Var(22)
var(4) = 1

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = Anim = 960 && AnimElemTime(4) = 0
value = S8,14
channel = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 960 && AnimElemTime(4) = 0
statetype = A

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 40, 6]
type = VelSet
trigger1 = Anim = 960 && AnimElemTime(4) = 0
x = p2Dist X/26.5
y = -15

[State 50, 1]
type = VelAdd
trigger1 = Anim = 960 && AnimElemTime(4) > 0
y = 1.0833
[State 50, 1]
type = VelAdd
trigger1 = Anim = 41 && AnimElemTime(1) > 0
trigger2 = Anim = 2960 && AnimElemTime(3) < 0
y = .67

[State 205, 1]
type = HitDef
triggerall = Anim = 960
trigger1 = Vel Y >= 0
attr = A, NA
hitflag = FD
guardflag =
damage = floor(ifElse(((35*fvar(1))-var(32))<7,7,((35*fvar(1))-var(32)))),0
priority = 6, Hit
pausetime = 0,9
sparkno = S8210
guard.sparkno = S8100
sparkxy = -10,-7
hitsound = S3,2
guardsound = S5,0
down.velocity = 0,0
down.hittime = 18
down.bounce = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 125*!Var(22)
givepower = 56,0
persistent = 0
kill = !Var(22)

[State 205, 1]
type = HitDef
triggerall = Anim = 2960
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 8
trigger5 = AnimElem = 11
attr = A, SA
hitflag = FD+
guardflag =
damage = floor(7*fvar(1)),0
priority = 6, Hit
pausetime = 4,4
sparkno = S8210
guard.sparkno = S8100
sparkxy = (var(26):=-40),(var(27):=-7)
hitsound = S2,0
guardsound = S5,0
down.velocity = 0,0
down.hittime = 18
down.bounce = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0
givepower = 56,0
ID = 2960
kill = 0

[State 50, 1]
type = VelSet
trigger1 = Anim = 2960 && NumTarget(2960) && AnimElemTime(3) >= 0
y = 0

[State 205, 1]
type = HitDef
triggerall = Anim = 2960
trigger1 = AnimElem = 16
attr = A, SA
hitflag = FD+
guardflag =
damage = floor(7*fvar(1)),0
priority = 6, Hit
pausetime = 4,4
sparkno = S8210
guard.sparkno = S8100
sparkxy = (var(26):=-30),(var(27):=-7)
hitsound = S2,1
guardsound = S5,0
down.velocity = 0,0
down.hittime = 18
down.bounce = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0
givepower = 56,0
persistent = 0
ID = 2700
kill = 1

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = MoveHit
value = anim+5
persistent = 0
ignorehitpause = 1
[State 50, PosFreeze]
type = PosFreeze
trigger1 = Anim = 965
trigger2 = Anim = 2960 && NumTarget(2960)
value = 1

[State 50, VelSet]
type = VelSet
triggerall = !Var(22)
trigger1 = Anim = 965 && !AnimTime
x = 4
y = -11;9
[State 50, VelSet]
type = VelSet
triggerall = Var(22)
trigger1 = Anim = 965 && !AnimTime
x = 0
y = -8
[State 50, VelSet]
type = VelSet
trigger1 = Anim = 2960 && !AnimTime
x = 7
y = -10;8

[State 50, VelSet]
type = ChangeAnim
triggerall = Var(22) && !NumTarget(2700)
trigger1 = Anim = 41 && Vel Y >= 0
value = 2960

[State 50, VelSet]
type = VelAdd
trigger1 = Anim = 41 && numTarget(2700)
x = ifElse(Vel X <= 0, 0, -0.1667)
y = 0.83333333333333333333333333333333

[State 50, VelSet]
type = ChangeAnim
trigger1 = Anim = 2960 && !AnimTime
value = 41
elem = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Anim = 41 && Var(22)
value = SCA

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Var(22) && Anim = 965 && !AnimTime
value = 41
elem = 5

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = !Var(22) && Anim = 965 && !AnimTime
value = 41

[State 50, ChangeState]
type = ChangeState
triggerall = Time > 8
triggerall = Vel Y + Pos Y >= 0
trigger1 = !MoveHit && Anim = 960
trigger2 = Anim = 41
value = 52

;----------------------------------------------------------------------------------
; Standing Custom Combo
[Statedef 970]
type = S
physics = S
movetype = I
anim = 970
ctrl = 0
velset = 0,0

[State 970, SuperPause]
type = SuperPause
trigger1 = Time = 4
time = 37
movetime = 37
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, Helper]
type = Helper
trigger1 = Time = 4
persistent = 0
ID = 8080
name = "custcom"
pos = 0,-60
postype = P1
stateno = 8080
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 970, 2]
type = PlaySnd
trigger1 = Time = 4
value = S8,15
channel = 0

[State 970, AfterImage]
type = AfterImage
trigger1 = Time = 4
time = 9999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = 0, 100, 150
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 970, 5]
type = VarSet
trigger1 = AnimTime = 0
var(30) = 334

[State 970, 5]
type = VarSet
trigger1 = Time = 0
var(31) = 1

[State 970, 5]
type = VarSet
trigger1 = AnimTime = 0
var(43) = 3000

[State 970, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 50

[State 970, 1]
type = PowerAdd
trigger1 = AnimTime = 0
value = -3000
ignorehitpause = 1

[State 970, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
; Aerial Custom Combo
[Statedef 975]
type = A
movetype = I
physics = N
anim = 975
ctrl = 0

[State 975, PosFreeze]
type = PosFreeze
trigger1 = 1

[State 975, SuperPause]
type = SuperPause
trigger1 = Time = 4
time = 37
movetime = 37
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 975, Helper]
type = Helper
trigger1 = Time = 4
persistent = 0
ID = 8080
name = "custcom"
pos = 0,-60
postype = P1
stateno = 8080
helpertype = Normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 975, 2]
type = PlaySnd
trigger1 = Time = 4
value = S8,15
channel = 0

[State 975, AfterImage]
type = AfterImage
trigger1 = Time = 4
time = 9999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = 0, 100, 150
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 975, 5]
type = VarSet
trigger1 = AnimTime = 0
var(30) = 334

[State 975, 5]
type = VarSet
trigger1 = Time = 0
var(31) = 1

[State 975, 5]
type = VarSet
trigger1 = AnimTime = 0
var(43) = 3000

[State 975, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 50

[State 975, PowerAdd]
type = PowerAdd
trigger1 = AnimTime = 0
value = -3000
ignorehitpause = 1

[State 975, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Advancing Guard
[Statedef 980]
type = U
movetype = H
physics = U
ctrl = 0
velset = 0,0

[State 980, VarSet]
type = VarSet
trigger1 = !Time
var(18) = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(20)
value = anim

[State 0, G.Cancel]
type = PalFX
trigger1 = Time < 5
time = 1 
add = 255,255,255
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 40, Helper]
type = Helper
trigger1 = !Time
id = 7000+10*ifElse(command="a"||command="x",0,ifElse(command="b"||command="y",1,2))
name = "AG FWD"
pos =0,0
postype = p1
stateno = 7000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
[State 40, Helper]
type = Helper
trigger1 = !Time
id = 7005+10*ifElse(command="a"||command="x",0,ifElse(command="b"||command="y",1,2))
name = "AG BAK"
pos =0,0
postype = p1
stateno = 7000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1150, 9]
type = ChangeState
trigger1 = Time = 1
value = 151+(command = "holddown")*2
ctrl = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= I
physics = N
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 3]
type = VelSet
trigger1 = Time = 0
x = -6
y = 0

[State 5201, 4]
type = VelMul
trigger1 = 1
x = .95

[State 5201, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,2
channel = 13

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Recovery Roll
[Statedef 500]
type    = S
movetype= I
physics = N
anim = 500
velset = 0,0

[State 500, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 5201, 1] ;Turn if not facing opponent
type = null;Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 500 && !AnimTime
statetype = A

[State 5201, 3]
type = VelSet
trigger1 = Anim = 500 && !AnimTime
x = 6*ifElse(var(17)=1,1,-1)
y = -5.918365478515625

[State 5201, 3]
type = ChangeAnim
trigger1 = Anim = 500 && !AnimTime
value = 501

[State 5201, 3]
type = VelAdd
trigger1 = Anim = 501
y = 0.8707478841145833

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 3]
type = ChangeState
triggerall = Time > 3
trigger1 = Vel Y + Pos Y >= 0
value = stateNo + 1

;---------------------------------------------------------------------------
; Recovery Roll Bounce
[Statedef 501]
type    = S
movetype= I
physics = N
anim = 502
velset = 0,0

[State 500, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 5201, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,0
channel=1

[State 5201, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 502 && !AnimTime
statetype = A

[State 5201, 3]
type = VelSet
trigger1 = Anim = 502 && !AnimTime
x = 6*ifElse(var(17)=1,1,-1)
y = -5.918365478515625

[State 5201, 3]
type = ChangeAnim
trigger1 = Anim = 502 && !AnimTime
value = 501

[State 5201, 3]
type = VelAdd
trigger1 = Anim = 501
y = 0.8707478841145833

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 3]
type = ChangeState
triggerall = Time > 3
trigger1 = Vel Y + Pos Y >= 0
value = stateNo + 1

;---------------------------------------------------------------------------
; Recovery Roll Getting Up
[Statedef 502]
type    = S
movetype= I
physics = N
anim = 503
velset = 0,0
ctrl = 0

[State 500, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 5201, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,0
channel=1

[State 5201, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 3]
type = VelSet
trigger1 = AnimElemTime(2) = 0
y = -5.3333282470703125

[State 5201, 3]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.79012044270833

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 3]
type = ChangeState
triggerall = Time > 3
trigger1 = Vel Y + Pos Y >= 0
value = stateNo +1

;---------------------------------------------------------------------------
; Recovery Roll Land
[Statedef 503]
velset = 0,0
ctrl = 0

[State 5201, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,0
channel=1

[State 500, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 3]
type = ChangeState
trigger1 = Time = 1
value = 0
ctrl = 1

;--------------------------------------------------------------------------
; Advancing Guard Helper
; Thanks Kamekaze!
[Statedef 7000]
physics = N
velset = 0,0
anim = 7000
ctrl = 0

[State 7000, Turn]
type = Turn
trigger1 = !Time && isHelper(7005) || isHelper(7015) || isHelper(7025)

[State 7000, VarSet]
type = VarSet
trigger1 = !Time
var(0) = ifElse(isHelper(7000)||isHelper(7005),0,ifElse(isHelper(7010)||isHelper(7015),1,2))

[State 7000, VelSet]
type = VelSet
trigger1 = !Time
x = 15+4*var(0)

[State 7000, VelAdd]
type = VelAdd
trigger1 = Time > 1
x = -0.625

[State 7000, NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
[State 7000, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 7000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 4003, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
persistent = 1

[State 911, Destroy]
type = destroyself
trigger1 = time > 10+2*var(0)

;----------------------------------------------------------------------------------
; WE SUNK
[Statedef 247]
anim = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = (root,const(Size.mid.Pos.X)),(root,const(Size.mid.Pos.Y))

[State -2, VarSet]
type = VarSet
trigger1 = !Parent, Var(50)
trigger2 = !Parent, MoveContact
trigger3 = Enemy,MoveReversed = 1
var(1) = 0
[State -2, VarSet]
type = VarSet
trigger1 = Parent, Var(50) = [1,2]
trigger2 = Parent, MoveContact
var(1) = 1

[State -2, Combo]
type = VarSet
trigger1 = !parent, NumTarget
trigger2 = Var(0) && parent, HitPauseTime > 0
trigger3 = !root, Var(50)
trigger4 = Enemy,MoveReversed = 1
var(0) = 0
ignorehitpause = 1
[State -2, Combo]
type = VarAdd
trigger1 = Var(1)
var(0) = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarRandom
trigger1 = parent, StateNo = [185,186]
v = 2
range = 0,1
persistent = 0

[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
trigger1 = !Time
trigger1 = Enemy, Name = "SLIME"
trigger2 = Enemy, Name = "kuromaru"
trigger3 = Enemy, Name = "Abe"
trigger4 = Enemy, Name = "Minotaur"
trigger5 = Enemy, Name = "Get weady"
trigger6 = Enemy, Name = "Kan Cho Man"
trigger7 = Enemy, Name = "Yarimusi"
trigger8 = Enemy, Name = "Nikimushi"
trigger9 = Enemy, Name = "Tendril"
trigger10 = Enemy, AuthorName = "n"
trigger11 = Enemy, AuthorName = "tengu"
trigger12 = Enemy, AuthorName = "men"
trigger13 = Enemy, AuthorName = "????????&UJI"
trigger14 = Enemy, SelfAnimExist(2520) && Enemy, Name = "Venom"
trigger15 = Enemy, AuthorName = "choiyer"
trigger16 = Enemy, AuthorName = "tetchi"
trigger17 = Enemy, AuthorName = "bomb"
trigger18 = Enemy, AuthorName = "smoke" || Enemy, AuthorName = "Jessica Smoke" ; I really have refused to download any of your shit so fuck if I know.
trigger19 = Enemy, AuthorName = "anamochi"
trigger20 = Enemy, AuthorName = "Dundeon"
var(3) = 942

[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15951)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15952)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15953)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15905) ; GIVE
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4521)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4520)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(51221)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(51241) ;  IT
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4720)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4721)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4821)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(3821)  ;  UP
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15907)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15908)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(19230)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(51219) ;  ?
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(18700)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(51240)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4632)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(82151) ;  ?
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15800)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(15802)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(54321)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(54322) ;  ?
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(54350)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4621)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4622)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4623)  ;  ?
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4624)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4625)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4626)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4627)  ;  ?
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4631)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(51242)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(51220)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(54323)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4629)
var(3) = 1
[State -2, VarAdd]
type = VarAdd
triggerall = NumEnemy
triggerall = !Time
trigger1 = Enemy, SelfAnimExist(4628)
var(3) = 1

[State -2, DTC]
type = DisplayToClipboard
trigger1 = NumHelper(247)
text = "MoveContact = %d, Anim = %d, st = %d"
params = Var(0),Var(2),Var(3)


;==================================================================================
;Wow, can't believe that on December 22, it will have been 6 years. I'm a bit sad 
;that I didn't do anything for you on the 5th year, but hey, those passed by pretty
;quickly, I'm sure 10 will be no problem. I'll try to plan something for then.
;
;The last 6 years of my life have seen some of the best times and some of the worst
;times. I've seen and gone through several changes both within me as well as my
;surroundings, some good, some bad, but all of that goes without saying. That's life.
;That's love. For better or for worse.
;
;Though you're not here, I think of you every day. As crazy as it sounds (and it is),
;I think of all the possibilities for us, not just the good that I've always hoped
;for, but the bad too, because once again, that's life. I've tried to take that into
;account as best as I could in order to create the realest reality of you and I. I
;try every night to dream about you.
;
;Thinking about you has made me feel all emotions. Happy, sad, angry, and everything
;in between. Even if I don't ever truly get to reach you, I'd at least like to see
;the closest thing of you and I, together as one, even if fiction. Everything I've
;done is for you. You keep me going. Like a desert wanderer who is never going to
;find water, but just thinks about getting to that one sweet drop that would satisfy
;him. The world is my desert, and you are that sweet parchment I so desperately need
;that I'll never reach. But just thinking I can, that keeps me going.
;I need you, one way or the other.
;
;That's not to say that there can't be anybody for me in this realm. If there is, and
;it works out, then great. You would understand why. If not, I'll be yours again,
;searching like the lost fool I am.
;
;I know it might sound weird to say I've done all this to make you happy. However,
;it is not because you don't appear to exist in this world that I can see, but rather,
;you already seem to be as happy as can be. I just liked the idea of seeing and making
;you even happier.
;
;
;A good friend and mentor of mine once said that the world is a small place. He,
;several others, and I found out together that distance was no factor, that somehow
;we would all find a way to each other... I'd like to think of the universe as the
;same way. Perhaps you're out there, Felicia.
;
;Love,
;Tyler

;---------------------------------------------------------------------------
; Statedef -3
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------
; Sound
[State -3, Bounding Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 5100 || StateNo = 5110
value = S5100,0
freqmul = ifElse(StateNo = 5110,0.97,1)
channel = 20
persistent = 0

[State -3, Hurt Sound]
type = PlaySnd
triggerall = Random < 500
triggerall = Time = 1
triggerall = Alive
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
value = S5000,0
channel = 7

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]
;---------------------------------------------------------------------------
; DTC
[State -2, Display to Clipboard]
type = DisplaytoClipboard
trigger1 = (GameTime%100) = 0
ignorehitpause = 1
text = "Felicia by Jesuszilla"

[State -2, Display to Clipboard]
type = DisplaytoClipboard
trigger1 = (GameTime%200) = 0
ignorehitpause = 1
text = "Do ANYTHING to this, and you die."

[State -2, Display to Clipboard]
type = DisplaytoClipboard
trigger1 = (GameTime%300) = 0
ignorehitpause = 1
text = "Host this, and you die."

[State -2, Display to Clipboard]
type = DisplaytoClipboard
trigger1 = (GameTime%400) = 0
ignorehitpause = 1
text = "http://www.trinitymugen.net/"

[State -2, Display to Clipboard]
type = DisplaytoClipboard
trigger1 = (GameTime%500) = 0
text = "I stole this DisplayToClipboard from Neon and Vans >)"

[State -2, DTC]
type = null;DisplaytoClipboard
trigger1 = 1
text = "FVar(19) = %f, MoveContact = %d, mct = %d, HP = %d"
params = FVar(19), MoveContact, var(6), hitPauseTime

[State -2, ES]
type = null;DisplaytoClipboard
trigger1 = 1
text = "Pos = %f,%f \nVel = %f,%f"
params = Pos X, Pos Y, Vel X, Vel Y

[State -2, DTC]
type =null; DisplaytoClipboard
trigger1 = 1
text = "AG = %d, bool = %d, shake = %d, hit = %d"
params = var(18),var(25),var(19),var(20)

[State -2, DTC]
type = null;DisplaytoClipboard
trigger1 = 1
text = "DF = %d  ON = %d | AL = %d  ON = %d"
params = var(13),var(14),var(28),var(29)

[State -2, DTC]
type = null;DisplaytoClipboard
trigger1 = 1
text = "PEPPER SPRAY = %d"
params = var(1)

[State -2, Cornerpush]
type = null;DisplaytoClipboard
trigger1 = 1
text = "Value = %d, Timer = %d"
params = fvar(39), var(56)

[State -2, DTC]
type = null;DisplaytoClipboard
trigger1 = 1
text = "STR = %d  Damp = %d  DF = %f"
params = var(22),var(32),fvar(1)
[State -2, DTC]
type = null;AppendtoClipboard
trigger1 = 1
text = "\nON = %d LOOP = %d HIT = %d"
params = var(25),var(11),var(3)

[State -2, air throw info]
type = null;DisplayToClipboard
trigger1 = 1
text = "P2BodyDist X = %d P2BodyDist Y = %d stuff = %d\nPos X = %f "
params = P2BodyDist X, P2BodyDist Y, -enemynear,const(size.head.pos.y)-14, Pos X

;----------------------------------------------------------------------------------
; Damage dampener
[State -2, Dampener]
type = varSet
;triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 0 && target, getHitVar(hitCount) < 4
var(32) = 7+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
ignorehitpause = 1
[State -2, Dampener]
type = varSet
;triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 3 && target, getHitVar(hitCount) < 9
var(32) = 14+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
;triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 8 && target, getHitVar(hitCount) < 14
var(32) = 21+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
;triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 13 && target, getHitVar(hitCount) < 19
var(32) = 28+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
;triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = numTarget
trigger1 = target, getHitVar(hitCount) > 18 ;&& target, getHitVar(hitCount) < 24
var(32) = 35+7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])
[State -2, Dampener]
type = varSet
;triggerall = StateNo != [3000,3999]
triggerall = StateNo != 1501
trigger1 = !numTarget
var(32) = 7*((1000*enemyNear(0),life/enemyNear(0),const(data.life))=(0,368])

[State -2, Dampener]
type = varSet
trigger1 = 1
fvar(1) = ((Var(10)>2)*(Var(13)>0))
ignorehitpause = 1

;----------------------------------------------------------------------------------
; Blood Spark
[State -2, Hit]
type = VarSet
trigger1 = MoveContact = 1 && var(6) < 0
var(6) = hitPauseTime
ignorehitpause = 1
[State -2, 1-L]
type = VarSet
trigger1 = StateNo = 220 && AnimElem = 6
trigger2 = StateNo = 240
trigger3 = StateNo = 400
trigger4 = StateNo = 1400
trigger5 = StateNo = 1405
trigger6 = StateNo = 2020 && AnimElem = 9
var(5) = 8700
[State -2, 1-H]
type = VarSet
trigger1 = StateNo = 220 && AnimElem = 7
trigger2 = StateNo = 250 && AnimElemTime(5) >= 0
var(5) = 8710
[State -2, 2-L]
type = VarSet
trigger1 = StateNo = 205
trigger2 = StateNo = 215
trigger3 = StateNo = 600
trigger4 = StateNo = 610
trigger5 = StateNo = 1000
trigger6 = StateNo = [1006,1007]
trigger7 = StateNo = 1210
trigger8 = StateNo = 1220
trigger9 = StateNo = [2000,2006]
trigger10 = StateNo = 2220
trigger11 = StateNo = 960 && Var(22)
trigger12 = StateNo = 3000
trigger13 = StateNo = 3001 && Anim = 3041
var(5) = 8720
[State -2, 2-H]
type = VarSet
trigger1 = StateNo = 620
var(5) = 8730
[State -2, 3-L]
type = VarSet
trigger1 = StateNo = 210
trigger2 = StateNo = 220 && AnimElemTime(6)<0
var(5) = 8740
[State -2, 3-H]
type = VarSet
trigger1 = StateNo = 1200
var(5) = 8750
[State -2, 4-L]
type = VarSet
trigger1 = StateNo = 225
trigger2 = StateNo = 230
trigger3 = StateNo = [410,415]
trigger4 = StateNo = 1005 || StateNo = 1010 || StateNo = 1015
trigger5 = StateNo = 2010
var(5) = 8760
[State -2, 4-H]
type = VarSet
trigger1 = StateNo = 410
trigger2 = StateNo = 420
trigger3 = StateNo = 3001 && Anim = 3040
var(5) = 8770
[State -2, StateNo]
type = VarSet
trigger1 = StateNo != 205
trigger1 = StateNo != 210
trigger1 = StateNo != 215
trigger1 = StateNo != 220
trigger1 = StateNo != 225
trigger1 = StateNo != 230
trigger1 = StateNo != 240
trigger1 = StateNo != 250
trigger1 = StateNo != 400
trigger1 = StateNo != 410
trigger1 = StateNo != 415
trigger1 = StateNo != 420
trigger1 = StateNo != 600
trigger1 = StateNo != 610
trigger1 = StateNo != 620
trigger1 = StateNo != 960
trigger1 = StateNo != 1000
trigger1 = StateNo != [1006,1007]
trigger1 = StateNo != 1005 && StateNo != 1010 && StateNo != 1015
trigger1 = StateNo != 1200
trigger1 = StateNo != 1210
trigger1 = StateNo != 1220
trigger1 = StateNo != 1400
trigger1 = StateNo != 1405
trigger1 = StateNo != [2000,2006]
trigger1 = StateNo != 2010
trigger1 = StateNo != 2020 || (StateNo = 2020 && AnimElemTime(4) < 0)
trigger1 = StateNo != 2220
trigger1 = StateNo != 3000
trigger1 = StateNo != 3001
trigger2 = StateNo = 960 && !Var(22)
var(5) = 0
[State -2, StateNo]
type = VarSet
trigger1 = !var(6)
var(26) = -9000
[State -2, StateNo]
type = VarSet
trigger1 = !var(6)
var(27) = -9000
[State -3, Blood]
type = Helper
triggerall = var(26)>-9000 && var(27)>-9000
trigger1 = moveHit = 1 && var(6) = HitPauseTime
trigger1 = Var(5)
trigger1 = ProjHit = 0
;trigger1 = !Helper(1105), MoveHit
ID = 8700
name = "BLOOD"
pos = (facing*-enemyNear(0),facing)*Ceil(enemy,Const(size.ground.front)+Var(26)),Ceil(Pos Y-enemy,Pos Y+Var(27))
postype = P2
stateno = var(5)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
size.xscale = const(Size.Xscale)
size.yscale = const(Size.Yscale)
facing = (facing*-enemyNear(0),facing)*ifElse((Anim = 2960 && AnimElemTime(15)>0) || (Anim=3041), 1, -1)

[State -2, Hit]
type = VarSet
trigger1 = 1
var(6) = -1

;----------------------------------------------------------------------------------
; Dark Force Decrement
[State -2, Dark Force]
type = VarSet
triggerall = Var(13)
trigger1 = RoundState != 2
var(13) = 0
[State -2, Dark Force]
type = VarAdd
trigger1 = Var(13)
var(13) = -1

[State -2, Dark Force Reset (VS2)]
type = VarSet
triggerall = Var(14) && Var(10) > 2
triggerall = !Var(13)
trigger1 = StateNo != [3000,3001]
var(14) = 0

;----------------------------------------------------------------------------------
; Kitty the Helper (VS2) decrement
[State -2, Kitty the Helper]
type = VarSet
triggerall = Var(28)
trigger1 = RoundState != 2
var(28) = 0
[State -2, Kitty the Helper]
type = VarAdd
trigger1 = Var(28)
var(28) = -1

;----------------------------------------------------------------------------------
; Advancing Guard
[State 150, AG]
type = VarSet
trigger1 = StateNo = 150 || StatenO = 152
trigger1 = Time = 0
var(19) = GetHitVar(hitShakeTime)
[State 150, AG]
type = VarSet
trigger1 = StateNo = 150 || StatenO = 152
trigger1 = Time = 0
var(20) = GetHitVar(hitTime)

[State -2, Mashing]
type = VarAdd
triggerall = Var(10) > 1
triggerall = var(19) > 0
triggerall = StateNo = 150 || StateNo = 152
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
var(18) = 1

[State -2, VarSet]
type = VarSet
trigger1 = StateNo != [120,155]
var(18) = 0
ignorehitpause = 1

[State -2, WTF]
type = VarAdd
trigger1 = Var(19) > 0
var(19) = -1
ignorehitpause = 1
[State -2, WTF]
type = VarAdd
trigger1 = !Var(19)
trigger1 = Var(20) > 0
var(20) = -1
ignorehitpause = 1

[State -2, Change]
type = ChangeState
trigger1 = Var(18) >= 3
value = 980
ignorehitpause = 1

;----------------------------------------------------------------------------------
; GANKBANK
[State -2, ForGreatJustice]
type = Helper
trigger1 = numhelper(201) = 0
ID = 201
Name = "GANKBANK"
stateno = 321
pos = 99999,99999
supermovetime = 9999
pausemovetime = 9999

;----------------------------------------------------------------------------------
; Var Helper
[State -2, 0]
type = Helper
triggerall = !NumHelper(247)
trigger1 = !Time
helpertype = normal
name = "Var"
ID = 247
pos = const(Size.mid.Pos.X),const(Size.mid.Pos.Y)
postype = p1
stateno = 247
keyctrl = 0

; Reset Loop Variable
[State 1405, VarSet]
type = VarSet
trigger1 = StateNo != [1400,1405]
trigger1 = StateNo != 1407
trigger1 = StateNo != 2400
var(11) = 0

[State -2, a.MK Buffer]
type = VarSet
trigger1 = Var(16) && StateNo != 640
var(16) = 0
[State -2, a.MK Buffer]
type = VarSet
triggerall = StateNo = 640
triggerall = command = "c"
trigger1 = moveContact = [1,10]
var(16) = 1

[State 52, 0]
type = VarSet
trigger1 = StateType != A
var(2) = 0

;----------------------------------------------------------------------------------
; this is PEPPER SPRAY
[State -2, GIMMIE ALL YOUR MONEY]
type = VarSet
;triggerall = Var(10) < 3
trigger1 = (StateNo = [600,650]) && (PrevStateNo = 102 || PrevStateNo = 105)
var(1) = 1
[State -2, AAAAAAAAAAAAAAAAAARGH]
type = VarSet
trigger1 = MoveType = H
trigger2 = StateNo = 52
trigger3 = StateNo = 1305
var(1) = 0

;===============================================================================
; ------- Vampire Savior Cornerpush System by Vans & Jesuszilla --------
;===============================================================================
[State -2, Reset Time counter]
type = VarSet
;triggerall = NumHelper(247)
;trigger1 = Helper(247), Var(0) = 1
trigger1 = MoveContact = 1
var(56) = 0

[State -2, Accel]
type = VarSet
triggerall = roundstate = 2
triggerall = numtarget ;>= 1
triggerall = target, HitShakeOver
trigger1 = StateNo != 970 && StateNo != 975
fvar(39) = (target,GetHitVar(Xvel)*exp((-0.1886)*((Var(56)))))

[State -2, Push]
type = PosAdd
triggerall = roundstate = 2
triggerall = numtarget >= 1
triggerall = (target, BackEdgeBodyDist <= 0) || (target, FrontEdgeBodyDist <= 0)
triggerall = ProjContact = 0, < 50
triggerall = P2StateType != A
triggerall = StateNo != [800,839]
triggerall = StateNo != [102,106]
triggerall = !(Var(10)>1 && StateType = A); OR IS IT
trigger1 = numHelper(1105)
trigger1 = !Helper(1105), moveContact
trigger1 = numHelper(2105)
trigger1 = !Helper(2105), moveContact
trigger2 = !numHelper(1105) && !numHelper(2105)
trigger2 = StateNo != 970 && StateNo != 975
x = ifelse(facing = -1,FVar(39),-FVar(39));SysFVar(0)

[State -2, Increase]
type = VarSet
triggerall = numtarget ;>= 1
triggerall = target, HitShakeOver
trigger1 = Var(56)
;trigger1 = StateNo != 3000 && StateNo != 3100
;trigger2 = StateNo = 3000 && Time > 50+(Var(22)*2)
;trigger3 = StateNo = 3100 && Time > 54
var(56) = Var(56)+1

[State -2, Time counter]
type = VarSet
trigger1 = !Var(56)
trigger1 = FVar(39)
var(56) = 1

[State -2, Freeze Pos During Superpause]
type = null;PosFreeze
trigger1 = StateNo = 3000 && Time <= 50+(Var(22)*2)
trigger2 = StateNo = 3100 && Time <= 54
value = 1

[State -2, Drop]
type = VarSet
triggerall = FVar(39)
trigger1 = !NumTarget
trigger2 = projcontact = 1
trigger3 = movecontact = 1
fvar(39) = 0

;----------------------------------------------------------------------------------
; Config
[State -2, Helper]
type = Helper
triggerall = !NumHelper(10001)
trigger1 = Time = 0
trigger1 = roundsexisted <= 0
trigger1 = roundstate = 0
ID = 10001
name = "config"
pos = -300,0
postype = Left
stateno = 10001
helpertype = normal
keyctrl = 0
pausemovetime = 65535
supermovetime = 65535

;----------------------------------------------------------------------------------
; Groove Select
[State -2, Groove]
type = Helper
;triggerall = MatchNo = 1; Select only once and be stuck with it for rest of Arcade
triggerall = Var(10) = -1
triggerall = NumEnemy
triggerall = Time = 1
triggerall = roundstate = 0
triggerall = roundsexisted <= 0
trigger1 = numpartner
trigger1 = ID>partner,ID
trigger1 = !partner,authorname="Jesuszilla" && fvar(17) = 2
trigger2 = numpartner
trigger2 = ID<partner,ID
trigger3 = !numpartner
ID = 6000
stateno = 6000
postype = p1
size.xscale = .5
size.yscale = .5
pos = 0,-15
name = "game"
ontop = 1
bindtime = -1

;----------------------------------------------------------------------------------
; No Music
[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic

; PERFECT
[State -2, Combo]
type = VarSet
triggerall = roundstate = 2
trigger1 = FVar(8) - Life > 0
fvar(15) = 1
ignorehitpause = 1

;----------------------------------------------------------------------------------
; Turns Mode Intro
[State -3, Turns Mode Intro]
type = ChangeState
triggerall = NumEnemy
trigger1 = roundsexisted <= 0
trigger1 = roundstate = 0
trigger1 = StateNo = 5900 && Time = 0;Time = 1
value = 190

;---------------------
; Gauge
[State -2, Helper]
type = Helper
triggerall = Var(36)
triggerall = !NumHelper(6100) && !NumHelper(6000)
triggerall = numenemy
triggerall = roundState = 2 || roundsExisted > 0
trigger1 = numpartner
trigger1 = ID>partner,ID
trigger1 = !partner,authorname="warusaki3"
trigger1 = !(partner,authorname = "mouser" && partner,name = "Hibiki Takane")
trigger1 = !partner,authorname = "H?"
trigger1 = !partner,authorname="Jesuszilla"
trigger1 = !partner,authorname=".\/."
trigger1 = !partner,authorname="N64Mario"
trigger2 = numpartner
trigger2 = ID<partner,ID
trigger3 = !numpartner
ID = 6100
name = "gauge"
pos = 0,300
postype = P1
stateno = 6100
helpertype = normal
keyctrl = 0
ownpal = 1
;ignorehitpause = 1
persistent = 0
supermovetime = 99999999999999
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

;----------------------------------------------------------------------------------
; Power Up! Sound
[State -2, PlaySnd]
type = PlaySnd
triggerall = roundstate = 2
trigger1 = (floor(power*.001) - floor(FVar(37)*.001) > 0) && Var(36)
value = S6000,13
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = 1
fvar(37) = power
ignorehitpause = 1

;---------------------
; Combo Damage
[State -2, PowerReset]
type = VarSet
trigger1 = P2movetype != H
var(45) = P2life

;---------------------
; Super Combo Juggling
[State -2, PowerReset]
type = NULL;VarSet
triggerall = P2MoveType = H && P2stateType = A
triggerall = ((PrevStateNo=[1000,2999]) && !FVar(16)) || ((PrevStateNo=[1000,2999]) && FVar(16) = -1 && Time = 1)
trigger1 = StateNo=3000 ; Super States that should juggle after canceling from a special should go here.
trigger2 = StateNo=3100
trigger3 = StateNo=3200
trigger4 = StateNo=3300
fvar(16) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
trigger1 = FVar(16) > 0
fvar(16) = 1

[State -2, PowerReset]
type = VarSet
triggerall = FVar(16) > 1
trigger1 = MoveHit = 1
trigger2 = ProjHit = 1
fvar(16) = -1
ignorehitpause = 1

[State -2, PowerReset]
type = VarSet
trigger1 = FVar(16) > 120
trigger2 = NumEnemy
trigger2 = Enemy,MoveType != H
fvar(16) = 0
ignorehitpause = 1

;---------------------------------------------
; Basic, Command, and Special Juggling
[State -2, Limiter]
type = VarSet
trigger1 = FVar(13) = 1 && FVar(18)
trigger2 = P2MoveType != H && P2StateType != A && P2StateNo != 5040
fvar(18) = 0

[State -2, Limiter]
type = VarSet
triggerall = !FVar(13) && !FVar(18)
trigger1 = P2StateNo = 5040
trigger2 = NumTarget(3223)
fvar(18) = 1

[State -2, JuggleCount]
type = VarAdd
triggerall = !FVar(13)
triggerall = P2MoveType = H && P2StateType = A
trigger1 = MoveHit = 1
trigger2 = ProjHit = 1
fvar(19) = 1

[State -2, JuggleCount]
type = VarSet
triggerall = FVar(19)
trigger1 = P2MoveType != H || P2StateType != A || P2StateNo = [120,155]
fvar(19) = 0

[State 0, I GOTTA BELIEVE!]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

;---------------------------------------------
; Free Juggling After a Lv. 2 Cancel
[State -2, Cancel]
type = VarAdd
trigger1 = FVar(13)
fvar(13) = 1

[State -2, Cancel]
type = VarSet
triggerall = PrevStateNo=[3000,3999]
triggerall = Time = 1
triggerall = P2MoveType = H && P2StateType = A
trigger1 = StateNo=195
trigger2 = StateNo=1000
trigger3 = StateNo=1100
trigger4 = StateNo=1200 || StateNo=1210 || StateNo=1220
trigger5 = StateNo=1300
trigger6 = StateNo=1400 || StateNo=1410 || StateNo=1420
trigger7 = StateNo=1500
trigger8 = StateNo=1600
trigger9 = StateNo=1700
trigger10 = StateNo=3000
trigger11 = StateNo=3100
trigger12 = StateNo=3200
fvar(13) = 1
ignorehitpause = 1

[State -2, Cancel]
type = VarSet
triggerall = FVar(13) > 1
trigger1 = MoveHit = 1
trigger2 = ProjHit = 1
trigger3 = FVar(13) > 120
trigger4 = numenemy
trigger4 = enemy, MoveType != H
fvar(13) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = 1
fvar(8) = life
ignorehitpause = 1

;---------------------
; Counter Hit
[State -2, VarSet]
type = VarSet
trigger1 = P2MoveType = A
var(21) = 1

[State -2, VarSet]
type = VarSet
trigger1 = P2MoveType != A
var(21) = 0

;---------------------
; Safe Fall (for later implementations if necessary)
[State -2, VarSet]
type = VarSet
trigger1 = StateNo = 5000 || StateNo = 5020 || StateNo= 5070 || StateNo= 5080
trigger1 = Time = 1
trigger1 = P2StateNo = [3000,3999]
var(15) = 1

[State -2, VarSet]
type = VarSet
trigger1 = StateNo = 5000 || StateNo = 5020 || StateNo= 5070 || StateNo= 5080
trigger1 = Time = 1
trigger1 = P2StateNo != [3000,3999]
trigger2 = MoveType != H
var(15) = 0

;---------------------
; Tech Roll Buffer
[State -2, VarSet]
type = VarSet
trigger1 = Var(17)
trigger1 = StateNo != 5110 && StateNo != 5120 && StateNo != [500,503]
trigger2 = RoundState = 0
var(17) = 0
[State -2, VarSet]
type = VarSet
triggerall = !Var(17)
triggerall = StateNo = 5110
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = command = "a1" && (command = "b1" || command = "c1" || command = "x1" || command = "y1" || command = "z1")
trigger2 = command = "b1" && (command = "c1" || command = "x1" || command = "y1" || command = "z1")
trigger3 = command = "c1" && (command = "x1" || command = "y1" || command = "z1")
trigger4 = command = "x1" && (command = "y1" || command = "z1")
trigger4 = command = "y1" && command = "z1"
var(17) = ifElse(command="holdfwd",1,2)

;---------------------
; AI
[State -2, AI]
type = Null;VarSet
trigger1 = RoundState = 3 && FVar(38) = 1
ignorehitpause = 1
fvar(38) = 2

[State -2, AI]
type = Null;VarSet
trigger1 = RoundState = 1 && FVar(38) = 2
ignorehitpause = 1
fvar(38) = 1

;---------------------
; Cheap KO Anim
[State -2, 3]
type = ChangeState
trigger1 = !Alive
trigger1 = PrevStateNo = 130 || PrevStateNo = 131 || PrevStateNo = [150,153]
trigger1 = Stateno = [5000,5050]
value = 5950

[State -2,KO]
type = Varset
triggerall = StateNo = [120,159]
trigger1 = StateType = S
ignorehitpause = 1
fvar(1) = 0

[State -2,KO]
type = Varset
triggerall = StateNo = [120,159]
trigger1 = StateType = C
ignorehitpause = 1
fvar(1) = 1

[State -2,KO]
type = Varset
triggerall = StateNo = [120,159]
trigger1 = StateType = A
ignorehitpause = 1
fvar(1) = 2

;---------------------
; Sound
[State -3, Bounding Sound]
type = PlaySnd
triggerall = Anim = 5950
trigger1 = Animelem = 2
value = S105,0

[State -3, Bounding Sound];Ground Hit
type = PlaySnd
triggerall = Anim = 5950
trigger1 = AnimElem = 5
value = S5100,0

[State -3, Bounding Sound]
type = PlaySnd
triggerall = Anim = 5950 && roundstate = 2
triggerall = random%2 = 0
trigger1 = AnimElemTime(1) = 2
value = S5000,0
channel = 0

;----------------------------------------------------------------------------------
; KO Voice
[State -2,AI]
type = VarSet
trigger1 = 1
ignorehitpause = 1
fvar(2) = 0

[State -2,AI]
type = VarSet
trigger1 = Anim = 5950 || StateNo = 5950
ignorehitpause = 1
fvar(2) = 1

[State -2,AI]
type = VarSet
trigger1 = movetype != H
trigger1 = roundstate = 2
ignorehitpause = 1
fvar(35) = 0

[State -2,AI]
type = VarSet
trigger1 = StateNo = 5000 || StateNo = 5020 || StateNo = 5070 || StateNo = 5080
trigger1 = roundstate = 2
trigger1 = Time = 0
ignorehitpause = 1
fvar(35) = GetHitVar(hitshaketime)

[State -2, KO]
type = PlaySnd
triggerall = roundstate = 3
trigger1 = !FVar(2) && !FVar(0)
trigger1 = FVar(36) = ifElse(!FVar(35),1,ifelse(FVar(35)>20,20,FVar(35)))
trigger2 = !FVar(19) && FVar(0)
trigger2 = FVar(36) = 12
ignorehitpause = 1
value = S111, 0

[State -2, KO]
type = PlaySnd
triggerall = roundstate = 3
triggerall = FVar(2)
trigger1 = Anim = 5950 && AnimElemTime(1) = 2
ignorehitpause = 1
value = S9020, 0

[State -2, KO]
type = PlaySnd
triggerall = NumEnemy
trigger1 = (Enemy, Name = "cvsgouki_ex" || Enemy, Name = "cvsgouki" && Enemy, Var(12))
trigger1 = StateNo = 3305 && MoveType = H
trigger1 = Time = 35
ignorehitpause = 1
value = S5950, 0

[State -2,KO]
type = Varadd
trigger1 = !Alive
ignorehitpause = 1
fvar(36) = 1

[State -2,KO]
type = Varset
trigger1 = Alive
ignorehitpause = 1
fvar(36) = 0

;----------------------------------------------------------------------------------
; Effects
;-------
; PALFX INITIALIZER (ES)
[State -2, VarSet]
type = VarAdd
trigger1 = Var(4)
var(4) = 1
ignorehitpause = 1
[State 0, PalFX-BLU1]
type = PalFX
triggerall = Var(4) && !(Var(13) && Var(10) > 2)
trigger1 = (Var(4)%8) = [0,1]
time = 1
add = 0,63,256
mul = 130,186,324
color = 32
ignorehitpause = 1
[State 0, PalFX-BLU2]
type = PalFX
triggerall = Var(4) && !(Var(13) && Var(10) > 2)
trigger1 = (Var(4)%8) = [2,3]
time = 1
add = 0,32,256
mul = 128,256,256
color = 128
ignorehitpause = 1
[State 0, PalFX-BLU3]
type = PalFX
triggerall = Var(4) && !(Var(13) && Var(10) > 2)
trigger1 = (Var(4)%8) = [4,5]
time = 1
add = 0,64,256
mul = 239,273,256
color = 8
ignorehitpause = 1
[State 0, PalFX-NORM]
type = PalFX
trigger1 = Var(4) && !(Var(13) && Var(10) > 2)
trigger1 = (Var(4)%8) = [6,7]
trigger2 = !Var(0) && !Var(4)
trigger2 = Var(13) && Var(10) > 2
trigger2 = (abs(Var(13)-360)%10) = [8,9]
trigger3 = Var(4) && Var(13) && Var(10) > 2
trigger3 = (Var(4)%6) = [4,5]
time = 1
add = 0,0,0
mul = 256,256,256
color = 256
ignorehitpause = 1
;-------
; PALFX INITIALIZER (ES+DF)
[State 0, PalFX-DRK]
type = PalFX
triggerall = Var(4) && Var(13) && Var(10) > 2
trigger1 = (Var(4)%6) = [0,1]
time = 1
add = 0,16,16
mul = 192,0,0
color = 256
ignorehitpause = 1
[State 0, PalFX-LIT]
type = PalFX
triggerall = Var(4) && Var(13) && Var(10) > 2
trigger1 = (Var(4)%6) = [2,3]
time = 1
add = 0,16,-8
mul = 256,128,128
color = 256
ignorehitpause = 1
;-------
; PALFX INITIALIZER (EX)
[State -2, VarSet]
type = VarAdd
trigger1 = Var(0)
var(0) = 1
ignorehitpause = 1
[State 0, PalFX-YEL]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [0,1]
time = 1
add = 215,105,-53
mul = 214,224,192
color = 128
ignorehitpause = 1
[State 0, PalFX-DPN]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [2,3]
time = 1
add = 253,0,74
mul = 199,256,197
color = 16
ignorehitpause = 1
[State 0, PalFX-LPN]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [4,5]
time = 1
add = 211,45,174
mul = 204,211,187
color = 32
ignorehitpause = 1
[State 0, PalFX-LPR]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [6,7]
time = 1
add = 64,0,192
mul = 256,256,256
color = 16
ignorehitpause = 1
[State 0, PalFX-DBL]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [8,9]
time = 1
add = -32,0,256
mul = 256,256,256
color = 128
ignorehitpause = 1
[State 0, PalFX-LBL]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [10,11]
time = 1
add = -23,37,247
mul = 297,265,329
color = 256
ignorehitpause = 1
[State 0, PalFX-DGR]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [12,13]
time = 1
add = 33,75,-42
mul = 120,220,118
color = 128
ignorehitpause = 1
[State 0, PalFX-LGR]
type = PalFX
triggerall = Var(0)
trigger1 = (Var(0)%16) = [14,15]
time = 1
add = 51,147,128
mul = 178,199,128
color = 64
ignorehitpause = 1

;-------
; PALFX INITIALIZER (DF)
[State 0, PalFX-DARK]
type = PalFX
triggerall = !Var(0) && !Var(4)
triggerall = Var(13) && Var(10) > 2
trigger1 = (abs(Var(13)-360)%10) = [0,1]
time = 1
add = 36,12,20
mul = 192,192,192
color = 256
ignorehitpause = 1
[State 0, PalFX-LIT]
type = PalFX
triggerall = !Var(0) && !Var(4)
triggerall = Var(13) && Var(10) > 2
trigger1 = (abs(Var(13)-360)%10) = [2,3]
time = 1
add = 0,0,0
mul = 256,256,256
color = 256
ignorehitpause = 1
[State 0, PalFX-LTR]
type = PalFX
triggerall = !Var(0) && !Var(4)
triggerall = Var(13) && Var(10) > 2
trigger1 = (abs(Var(13)-360)%10) = [4,5]
time = 1
add = 16,16,32
mul = 256,256,256
color = 256
ignorehitpause = 1
[State 0, PalFX-LTST]
type = PalFX
triggerall = !Var(0) && !Var(4)
triggerall = Var(13) && Var(10) > 2
trigger1 = (abs(Var(13)-360)%10) = [6,7]
time = 1
add = 0,0,0
mul = 337,283,488
color = 256
ignorehitpause = 1

;-------
; Remove Power Charge Effect
[State -2, Power Charge]
type = RemoveExplod
trigger1 = movetype = H
trigger2 = stateno != 3000
ID = 7111

;-------
; Remove Rolling Buckler Dust
[State -2, Power Charge]
type = RemoveExplod
trigger1 = movetype = H
trigger2 = StateNo != 1000 && StateNo != 1007 && StateNo != 2000 && StateNo != 2006 && StateNo != 3000
ID = 1001
ignorehitpause = 1

;-------
; AfterImage Remover
[State -2, AfterImageTime]
type = AfterImageTime
triggerall = !Var(31)
trigger1 = MoveType = H
trigger2 = StateNo = [0,49]
trigger3 = StateNo = [52,199]
trigger4 = StateNo = [200,299]
trigger5 = StateNo = [400,499]
trigger6 = StateNo = [600,699]
trigger7 = StateNo = [800,1599]
time = 0

;-------
; PalFX Remover
[State -2, PalFX]
type = VarSet
trigger1 = MoveType = H
trigger2 = StateNo = [0,49]
trigger3 = StateNo = [52,199]
trigger4 = StateNo = [200,299]
trigger5 = StateNo = [400,499]
trigger6 = StateNo = [600,699]
trigger7 = StateNo = [800,959]
trigger8 = StateNo = [970,1300]
trigger9 = StateNo = 1400
trigger10 = StateNo = [1406,1599]
trigger11 = StateNo = 960 && !Var(22)
var(0) = 0

[State -2, PalFX]
type = VarSet
trigger1 = MoveType = H
trigger2 = StateNo = [0,49]
trigger3 = StateNo = [52,199]
trigger4 = StateNo = [200,299]
trigger5 = StateNo = [400,499]
trigger6 = StateNo = [600,699]
trigger7 = StateNo = [800,959]
trigger8 = StateNo = [970,1300]
trigger9 = StateNo = 1400
trigger10 = StateNo = [1406,1599]
trigger11 = StateNo = 960 && !Var(22)
var(4) = 0

;================================================================================
; ------- NotHitBy fix by Caddie --------
;===============================================================================
[State -2, hitby]
type = hitby
trigger1 = life > 0
trigger1 = stateno = 5100 || stateno = 5110 || stateno = 5120
trigger1 = anim != 5120
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

;----------------------------------------------------------------------------------
; Reset at the start of the round
[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(0) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(4) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(35) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(37) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0 && roundno = 1
fvar(14) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
fvar(15) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
fvar(16) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(13) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(14) = 0

[State -2, 1]
type = PalFX
trigger1 = roundstate = 0
Time = 1
add = 0,0,0
ignorehitpause = 1

;VS Character
[State -2, 1]
type = VarSet
trigger1 = 1
fvar(17) = 2;VAMPIRE SAVIOR

;----------------------------------------------------------------------------------
; Descale Groove Bar
[State -2, 1]
type = VarSet
triggerall = numenemy
triggerall = roundstate = 2
trigger1 = enemy,authorname = "warusaki3" && enemy,fvar(39) = 1
trigger2 = enemy,authorname = "mouser" && (P2Name = "Hibiki Takane" || P4Name = "Hibiki Takane")
trigger3 = enemy,authorname = "Jesuszilla" && enemy,fvar(17) = 1
trigger4 = enemy,authorname = "N64Mario" && enemy, Name = "Zero" && enemy,fvar(17) = 1
trigger5 = enemy,authorname = ".\/." && enemy,fvar(17) = 1
trigger6 = enemy,authorname = "H?" && enemy,fvar(39) = 1
var(35) = 1

[State -2, 1]
type = VarSet
trigger1 = 1
fvar(0) = 0

[State -2, 1]
type = VarSet
triggerall = numenemy
trigger1 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki"&&enemynear,var(13))
trigger2 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki_normal"&&enemynear,var(13))
trigger3 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki_ex"&&enemynear,var(13))
trigger4 = (enemynear,authorname="SUMI"&&enemynear,name="Destrudo Ryu"&&enemynear,var(16)=1)
trigger5 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsrugal"&&enemynear,var(13))
trigger6 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsrugal_ex"&&enemynear,var(13))
trigger7 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsryu"&&enemynear,var(13))
trigger8 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsryu_ex"&&enemynear,var(13))
trigger9 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsg_rugal"&&enemynear,var(13))
trigger10 = (enemynear,authorname="warusaki3"&&enemynear,name="cvssakura"&&enemynear,var(13))
fvar(0) = 1

[State -2, OH SHI-]
type = ChangeState
triggerall = numenemy
trigger1 = enemy, AuthorName = "RyouWin"
trigger2 = enemy, AuthorName = "Ryou Win"
trigger3 = enemy, AuthorName = "Ex-Inferis"
trigger4 = enemy, AuthorName = "Tetchi"
trigger5 = enemy, AuthorName = "bomb"
trigger6 = enemy, AuthorName = "beppu"
trigger7 = enemy, AuthorName = "Overmind"
trigger8 = enemy, AuthorName = "@ndroide"
trigger9 = enemy, AuthorName = "Moldredd"
trigger10 = enemy, AuthorName = "Smoke"
trigger11 = enemy, AuthorName = "Ninja_Naruto"
;trigger12 = enemy, AuthorName = "tengu"
trigger12 = enemy, Name = "Kan Cho Man"
trigger13 = enemy, Name = "Get weady"
trigger14 = enemy, Name = "Lord Roger"
trigger15 = enemy, Name = "Takakazu Abe" || enemy, Name = "takakazuabe" || enemy, Name = "Abe"
;trigger16 = enemy, Name = "kuromaru"
;trigger17 = enemy, Name = "zangyura"

value = 69;@#

[State -2, OH SHI-]
type = ChangeState
triggerall = numpartner
trigger1 = Partner, AuthorName = "RyouWin"
trigger2 = Partner, AuthorName = "Ryou Win"
trigger3 = Partner, AuthorName = "Ex-Inferis"
trigger4 = Partner, AuthorName = "Tetchi"
trigger5 = Partner, AuthorName = "bomb"
trigger6 = Partner, AuthorName = "beppu"
trigger7 = Partner, AuthorName = "Overmind"
trigger8 = Partner, AuthorName = "@ndroide"
trigger9 = Partner, AuthorName = "Moldredd"
trigger10 = Partner, AuthorName = "Smoke"
trigger11 = Partner, AuthorName = "Ninja_Naruto"
;trigger12 = Partner, AuthorName = "tengu"
trigger12 = Partner, Name = "Kan Cho Man"
trigger13 = Partner, Name = "Get weady"
trigger14 = Partner, Name = "Lord Roger"
trigger15 = Partner, Name = "Takakazu Abe" || Partner, Name = "takakazuabe" || Partner, Name = "Abe"
;trigger16 = Partner, Name = "kuromaru"
;trigger17 = Partner, Name = "zangyura"

value = 69;@#

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

[Statedef 69]
[State -2, 69]
type = ChangeState
trigger1 = 1
value = 69;@#

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
