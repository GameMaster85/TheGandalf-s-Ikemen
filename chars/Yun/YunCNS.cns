;==============================================
;"Yun Lee", from Street Fighter 3: 3rd Strike
;==============================================

;----------------------------------------
;Author:	FlowaGirl
;		flowergirl@cutey.com
;		http://blargh.i-xcell.com
;----------------------------------------

;===========================================================================
;-| Notes |-----------------------------------------------------------------

;--------------
;Integer Variables:
;--------------

;0: Long Jump
;	0: OFF
;	1: ON
;1: Intro/Win/Lose
;2: AI Activation
;3: Combo Detection
;	0: None
;	1: Special
;	2: Hyper
;4: Command
;	0: None
;	1: Level 1
;	2: Level 2
;	3: Level 3
;	X: Velocity
;5: HitSpark X
;6: HitSpark Y
;7: AfterImage
;8: NoJuggleCheck
;10: Randomizer
;11: Combo Count
;12: Parry
;13: Parry Window
;14: Red Parry Check
;15: Hiza Geri HitCount
;16: Hiza Geri Escape
;17: HitShakeTime
;18: Quick Recovery
;19: Air CornerVel Width
;20: Voices
;	0: 3rd Strike
;	1: Un-used (Reserved for sound effects)
;	2: Un-used (Reserved for hitsounds)
;	3: XCOPY
;	4: 2nd Impact
;	5: New Generation
;21: Genei Jin
;22: Genei Jin Power
;23: KO
;24: Throw
;25: Stun
;26: Stun Escape

;--------------
;Float Variables:
;--------------

;0: Velocity X
;	Value: Velocity X
;1: Velocity Y
;	Value: Velocity Y

;--------------
;Sound Data:
;--------------

;0: 3rd Strike
;1: Effects
;2: Attack

;3: XCOPY Voices
;4: 2nd Impact
;5: New Generation

;--------------
;SFF/AIR/State Data:
;--------------

;200-399: Basic (Stand)
;400-599: Basic (Crouch)
;600-699: Basic (Air)
;700-799: Basic (Misc.)
;800-999: Basic (Throws)

;--------------
;1000-2999: Special
;--------------

;1000: Zesshou Hohou
;1010: Kobokushi
;1020: Tetsuzan Kou
;1030: Nishou Kyaku
;1050: Raigeki Shuu

;--------------
;3000-4999: Super
;--------------

;--------------
;5000-6999: Required
;--------------

;--------------
;7000-8999: Misc
;--------------

;7000: Parry

;--------------
;9000-10999: Effects
;--------------

;	9000: Portrait

;--------------
;11000-99999: Helper
;--------------

;	11000: Artificial Intelligence

;===========================================================================
;-| Data |------------------------------------------------------------------

;---------------------------------------------------------------------------
[Data]
life 			= 1000
attack 		= 100
defence 		= 87
power			= 2000
fall.defence_up 	= 50
liedown.time 	= 30
airjuggle 		= 10
sparkno 		= 9010
guard.sparkno 	= 9050
KO.echo 		= 0
volume 		= 255
IntPersistIndex 	= 60
FloatPersistIndex = 40

[Size]
xscale 		= 1
yscale 		= 1
ground.back 	= 25
ground.front 	= 18
air.back 		= 20
air.front 		= 20
height 		= 75
attack.dist 	= 160
proj.attack.dist 	= 90
proj.doscale 	= 0
head.pos 		= 4,-95
mid.pos 		= 4,-60
shadowoffset 	= 0
draw.offset 	= 0,-2

[Velocity]
walk.fwd  		= 3.75
walk.back 		= -2.66
run.fwd  		= 7.5,-1.75
run.back 		= -6.66,0
jump.neu 		= 0,-9.1
jump.back 		= -4
jump.fwd 		= 4.25
;runjump.back 	= 
;runjump.fwd 	= 
;airjump.neu 	= 
;airjump.back 	= 
;airjump.fwd 	= 

[Movement]
airjump.num 	= 0
airjump.height 	= 35
yaccel 		= 0.53
stand.friction 	= .85
crouch.friction 	= .85

;===========================================================================
;-| Intro/Win/Lose |--------------------------------------------------------

;---------------------------------------------------------------------------
;Lose
[Statedef 170]
type 			= S
movetype		= I
physics		= S
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 170: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 120)
flag 			= RoundNotOver
flag2			= NoBarDisplay

;---------------------------------------------------------------------------
;Draw
[Statedef 175]
type 			= S
movetype		= I
physics		= S
anim			= 175
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 175: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 120)
flag 			= RoundNotOver
flag2			= NoBarDisplay

;---------------------------------------------------------------------------
;Win State Decider
[Statedef 180]
type 			= S
movetype		= I
physics		= S
;anim			= 180
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 180: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag 			= RoundNotOver

[State 180: 	VarRandom]
type 			= VarRandom
trigger1		= (!Time)
v 			= 1
range 		= 0,5

[State 180:		ChangeState]
type			= ChangeState
trigger1		= (Time)
value			= (181+(Var(1)))

;---------------------------------------------------------------------------
;Win1
[Statedef 181]
type 			= S
movetype		= I
physics		= S
anim			= 181
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 181: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver
flag2			= NoBarDisplay

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S(Var(20)),(IfElse((Var(4) = 4),9,13))
channel		= 0

;---------------------------------------------------------------------------
;Win2
[Statedef 182]
type 			= S
movetype		= I
physics		= S
anim			= 182
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 182: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 125)
flag 			= RoundNotOver
flag2			= NoBarDisplay

[State 182:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 7)
value			= S(Var(20)),(IfElse(Random <= 499,3,6))
channel		= 0

;---------------------------------------------------------------------------
;Win3
[Statedef 183]
type 			= S
movetype		= I
physics		= S
anim			= 183
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 183: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 125)
flag 			= RoundNotOver
flag2			= NoBarDisplay

[State 183:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4) && (Var(20) != [4,5])
value			= S(Var(20)),(IfElse((Random <= 399),7,IfElse((Random = [400,799]),9,11)))
channel		= 0

[State 183:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4) && (Var(20) = [4,5])
value			= S(Var(20)),(IfElse((Random <= 499),9,11))
channel		= 0

;---------------------------------------------------------------------------
;Win4
[Statedef 184]
type 			= S
movetype		= I
physics		= S
anim			= 184
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 184: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 125)
flag 			= RoundNotOver
flag2			= NoBarDisplay

[State 184:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S(Var(20)),3
channel		= 0

;---------------------------------------------------------------------------
;Win5
[Statedef 185]
type 			= S
movetype		= I
physics		= S
anim			= 185
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 185: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 125)
flag 			= RoundNotOver
flag2			= NoBarDisplay

[State 185:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8) && (Var(20) != [4,5])
value			= S(Var(20)),6
channel		= 0

[State 185:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8) && (Var(20) = [4,5])
value			= S(Var(20)),(IfElse(Random <= 499,6,27))
channel		= 0

;---------------------------------------------------------------------------
;Win6
[Statedef 186]
type 			= S
movetype		= I
physics		= S
anim			= 186
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 186: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 125)
flag 			= RoundNotOver
flag2			= NoBarDisplay

[State 186:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) && (Random <= 499) && (Var(20) != [4,5])
value			= S(Var(20)),6
channel		= 0

[State 186:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) && (Random <= 499) && (Var(20) = [4,5])
value			= S(Var(20)),(IfElse((Random <= 399),6,IfElse((Random = [400,799]),28,29)))
channel		= 0

;---------------------------------------------------------------------------
;PreIntro
[Statedef 190]
type 			= S
movetype		= I
physics		= N
;anim			= 190
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 190:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow
flag3			= NoBarDisplay

[State 190: 	VarRandom]
type 			= VarRandom
trigger1		= (!Time)
v 			= 1
range 		= 0,3

[State 190:		Helper]
type			= Helper
trigger1 		= (!Time)
helpertype		= Normal
name			= "Camera"
id			= 11010
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11010
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (Time) && ((P2Name = "[FlowaGirl's] Makoto") || (P2Name = "Makoto"))
value 		= 192

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (Time) && ((P2Name = "[FlowaGirl's] Yun") || (P2Name = "Yun") || (P2Name = "Yun Lee"))
value 		= 193

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (Time) && ((P2Name = "[FlowaGirl's] Yang") || (P2Name = "Yang") || (P2Name = "Yang Lee"))
value 		= 194

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (Time)
value 		= (191+Var(1))

;---------------------------------------------------------------------------
;Intro1
[Statedef 191]
type 			= S
movetype		= I
physics		= N
anim			= 191
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 17) && (Var(20) != [4,5])
value			= S(Var(20)),(IfElse((Random <= 399),1,IfElse((Random = [400,799]),21,22)))
channel		= 0

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 17) && (Var(20) = [4,5])
value			= S(Var(20)),(IfElse((Random <= 499),21,22))
channel		= 0

[State 191:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Intro2
[Statedef 192]
type 			= S
movetype		= I
physics		= N
anim			= 192
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 192:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay

[State 192:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 17) && (Random <= 499) && (Var(20) != [4,5])
value			= S(Var(20)),21
channel		= 0

[State 192:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 17) && (Random <= 499) && (Var(20) = [4,5])
value			= S(Var(20)-1),(IfElse((Random <= 399),21,IfElse((Random = [400,799]),27,28)))
channel		= 0

[State 192:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Intro3
[Statedef 193]
type 			= S
movetype		= I
physics		= N
anim			= 193
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 193:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay

[State 193:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Intro4
[Statedef 194]
type 			= S
movetype		= I
physics		= N
anim			= 105
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 194:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay

[State 194:		ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,1

[State 194:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 194: 	VelSet]
type 			= VelSet
trigger1 		= (Anim = 105) && ((AnimElem = 4) || (AnimElem = 10))
x			= Const(Velocity.Run.Back.X)

[State 194: 	VelSet]
type 			= VelSet
trigger1 		= (Anim = 105) && (AnimElem = 9)
x			= -1

[State 194: 	VelSet]
type 			= VelSet
trigger1 		= (Anim = 105) && (AnimElem = 17)
x			= 0

[State 194:		PosSet]
type			= PosSet
trigger1 		= (Anim = 105) && (!AnimTime)
x			= Floor(Pos X)+(Facing = 1)

[State 194:		PosAdd]
type			= PosAdd
trigger1		= (!Time)
x			= 323

[State 194:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 105) && (AnimElem = 4)
value			= S1,2

[State 194:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 105) && ((AnimElem = 9) || (AnimElem = 16))
value			= S1,0

[State 194:		ChangeAnim]
type			= ChangeAnim
trigger1 		= (Anim = 105) && (AnimElem = 17)
value			= 105
persistent		= 0

[State 194:		ChangeAnim]
type			= ChangeAnim
trigger1 		= (Anim = 105) && (!AnimTime)
value			= (IfElse((Var(20) = [4,5]),2,0))
elem			= (IfElse((Var(20) = [4,5]),0,9))

[State 194: 	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 0) && (!AnimTime) && ((P2Name != "[FlowaGirl's] Yang") || (P2Name != "Yang") || (P2Name != "Yang Lee"))
value			= 1
persistent		= 0

[State 194: 	ChangeState]
type			= ChangeState
trigger1		= ((Anim = [0,1]) && (!AnimTime)) || (Anim = 2) && (AnimElem = 6)
value			= 0

;---------------------------------------------------------------------------
;Personal Action
[Statedef 198]
type 			= S
movetype		= A
physics		= S
anim			= 198
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 198:		PowerAdd]
type			= PowerAdd
trigger1		= (AnimElem = 8)
value			= 33
persistent		= 0

[State 198:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Random < 749)
value			= S(Var(20)),(IfElse(Random <= 499,23,24))
channel		= 0

[State 198:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 198) && (AnimElem = 8)
value			= S2,2

[State 198:		PlaySnd]
type			= PlaySnd
trigger1		= ((Anim = 198) && (AnimElem = 11)) || (Anim = 199) && (AnimElem = 4)
value			= S2,0

[State 198:		ChangeAnim]
type			= ChangeAnim
triggerall		= (Command = "holdc") && (Command = "holdz")
trigger1		= ((Anim = 198) && (AnimElem = 8, = 3)) || (Anim = 199) && (AnimElem = 8, = 2)
value			= 199

[State 198:		ChangeAnim]
type			= ChangeAnim
triggerall		= (Command != "holdc") || (Command != "holdz")
trigger1		= (Anim = 199) && (AnimElem = 8, = 2)
value			= 198
elem			= 9

[State 198:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(198)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 198:		HitDef]
type			= HitDef
trigger1		= ((Anim = 198) && (AnimElem = 9, = 0)) || ((Anim = 199) && (AnimElem = 1, = 0))
attr			= S, NA
hitflag		= -MA
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 4, Hit
damage		= 5
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S9010
guard.sparkno	= S9050
sparkxy		= -10,-103
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
guard.dist		= 10
yaccel		= 0.49
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4
air.cornerpush.veloff = -7
id			= 198
getpower		= 58,58
givepower		= 16

[State 198:		CtrlSet]
type			= CtrlSet
trigger1		= (Anim = 198) && (AnimElem = 22)
value			= 1

[State 198:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;===========================================================================
;-| Basic |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Standing Weak Punch
[Statedef 200]
type 			= S
movetype		= A
physics		= S
anim			= 200
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 200:		VarSet]
type			= VarSet
triggerall		= (NumTarget(200))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 200:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(200)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 200:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(200)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,0

[State 200:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Light
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-68
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 200
getpower		= 16,16
givepower		= 0

[State 200:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-68
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 200
getpower		= 16,16
givepower		= 0

[State 200:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 9)
value			= 1

[State 200:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Weak Punch (2nd Impact)
[Statedef 201]
type 			= S
movetype		= A
physics		= S
anim			= 201
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 201:		VarSet]
type			= VarSet
triggerall		= (NumTarget(201))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 201:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(201)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 201:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(201)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 201:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S2,0

[State 201:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Light
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-68
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 201
getpower		= 16,16
givepower		= 0

[State 201:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-68
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 201
getpower		= 16,16
givepower		= 0

[State 201:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 10)
value			= 1

[State 201:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Weak Punch (Close)
[Statedef 205]
type 			= S
movetype		= A
physics		= S
anim			= 205
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 205:		VarSet]
type			= VarSet
triggerall		= (NumTarget(205))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 205:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(205)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 205:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(205)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 205:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,0

[State 205:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Light
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-76
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 205
getpower		= 16,16
givepower		= 0

[State 205:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-76
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 205
getpower		= 16,16
givepower		= 0

[State 205:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 7)
value			= 1

[State 205:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Medium Punch
[Statedef 210]
type 			= S
movetype		= A
physics		= S
anim			= (IfElse(PrevStateNo = 230,211,210))
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 210:		VarSet]
type			= VarSet
triggerall		= (NumTarget(210))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 210:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(210)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 210:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(210)) && (MoveHit)
var(25)		= 5
persistent		= 0
ignorehitpause	= 1

[State 210:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3)
x			= (IfElse(PrevStateNo = 210,3,6))

[State 210:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 2)
x			= (IfElse(PrevStateNo = 210,4,8))

[State 210:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 4)
x			= (IfElse(PrevStateNo = 210,9,18))

[State 210:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,1

[State 210:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= (IfElse((Anim = 211),10,8)),(IfElse((Anim = 211),10,8))
guard.pausetime	= (IfElse((Anim = 211),10,8)),(IfElse((Anim = 211),10,8))
sparkno		= S(IfElse(Var(21) > 0,9041,9022))
guard.sparkno	= S9050
sparkxy		= -10,-76
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= (IfElse((Anim = 211),10,13))
ground.hittime	= (IfElse((Anim = 211),20,15))
air.hittime		= 15
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= (IfElse((Anim = 211),-8.8,-12.1))
guard.velocity	= (IfElse((Anim = 211),-8.8,-12.1))
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = (IfElse((Anim = 211),-16.17,-22.4))
air.cornerpush.veloff = -11.9 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 210
getpower		= 66,66
givepower		= 16

[State 210:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= (IfElse((Anim = 211),10,8)),(IfElse((Anim = 211),10,8))
guard.pausetime	= (IfElse((Anim = 211),10,8)),(IfElse((Anim = 211),10,8))
sparkno		= S(IfElse(Var(21) > 0,9041,9022))
guard.sparkno	= S9050
sparkxy		= -10,-76
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= (IfElse((Anim = 211),10,13))
ground.hittime	= (IfElse((Anim = 211),20,15))
air.hittime		= 15
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= (IfElse((Anim = 211),-8.8,-12.1))
guard.velocity	= (IfElse((Anim = 211),-8.8,-12.1))
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = (IfElse((Anim = 211),-16.17,-22.4))
air.cornerpush.veloff = -11.9 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 210
getpower		= 66,66
givepower		= 16

[State 210:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 8)
value			= 1

[State 210:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Medium Punch (Close)
[Statedef 215]
type 			= S
movetype		= A
physics		= S
anim			= 215
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 215:		VarSet]
type			= VarSet
triggerall		= (NumTarget(215))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 215:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(215)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 215:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(215)) && (MoveHit)
var(25)		= 5
persistent		= 0
ignorehitpause	= 1

[State 215:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,1

[State 215:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S(IfElse(Var(21) > 0,9042,9024))
guard.sparkno	= S9050
sparkxy		= -10,-70
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 12
air.hittime		= 12
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -8.8
guard.velocity	= -8.8
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -20 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -16.6 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 215
getpower		= 66,66
givepower		= 16

[State 215:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S(IfElse(Var(21) > 0,9042,9024))
guard.sparkno	= S9050
sparkxy		= -10,-70
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 12
air.hittime		= 12
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -8.8
guard.velocity	= -8.8
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -20 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -16.6 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 215
getpower		= 66,66
givepower		= 16

[State 215:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 8)
value			= 1

[State 215:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Strong Punch
[Statedef 220]
type 			= S
movetype		= A
physics		= S
anim			= 220
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 220:		VarSet]
type			= VarSet
triggerall		= (NumTarget(220))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 220:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(220)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 220:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(220)) && (MoveHit)
var(25)		= 15
persistent		= 0
ignorehitpause	= 1

[State 220:		PosAdd]
type			= PosAdd
trigger1		= (!Time) && (PrevStateNo = 210) && (Var(21) > 0)
x			= 14

[State 220:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S(Var(20)),4
channel		= 0

[State 220:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S2,2

[State 220:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 6, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((111*(16-Var(11)+2)/16) > 5, 111*(16-Var(11)+2)/16,5),111))
pausetime		= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
guard.pausetime	= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
sparkno		= S(IfElse(Var(21) > 0,9041,9033))
guard.sparkno	= S9050
sparkxy		= -10,-66
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 12
ground.hittime	= 18
air.hittime		= 18
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -14.4
guard.velocity	= -14.4
air.velocity	= -5,-4.75 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-4.75
ground.cornerpush.veloff = -24.8 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -22.3 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 220
getpower		= 125,125
givepower		= 33

[State 220:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 6, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((111*(16-Var(11)+2)/16) > 5, 111*(16-Var(11)+2)/16,5),111))
pausetime		= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
guard.pausetime	= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
sparkno		= S(IfElse(Var(21) > 0,9041,9033))
guard.sparkno	= S9050
sparkxy		= -10,-66
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 12
ground.hittime	= 18
air.hittime		= 18
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -14.4
guard.velocity	= -14.4
air.velocity	= -5,-4.75 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-4.75
ground.cornerpush.veloff = -24.8 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -22.3 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 220
getpower		= 125,125
givepower		= 33

[State 220:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 12)
value			= 1

[State 220:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Strong Punch (Target 1)
[Statedef 221]
type 			= S
movetype		= A
physics		= S
anim			= 221
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 221:		VarSet]
type			= VarSet
trigger1		= (EnemyNear, BackEdgeBodyDist < 10) && (P2StateNo = [5020,5050])
trigger2		= (NumTarget(221))
trigger2		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 221:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(221)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 221:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(221)) && (MoveHit)
var(25)		= 4
persistent		= 0
ignorehitpause	= 1

[State 221:		Width]
type			= Width
trigger1		= (AnimElem = 4, > 0) && (AnimElem = 10, < 0)
edge			= 40,0
player		= 40,0

[State 221:		PosAdd]
type			= PosAdd
triggerall		= (Var(19) = 0)
trigger1		= (AnimElem = 1) || (AnimElem = 4)
x			= 8

[State 221:		PosAdd]
type			= PosAdd
triggerall		= (Var(19) = 0)
trigger1		= (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 5)
x			= 5

[State 221:		PosAdd]
type			= PosAdd
triggerall		= (Var(19) = 0)
trigger1		= (AnimElem = 6)
x			= 12

[State 221:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S(Var(20)),4
channel		= 0

[State 221:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S2,2

[State 221:		HitDef]
type			= HitDef
triggerall 		= (AnimElem = 6, = 0)
trigger1		= (P2StateType != A) || ((P2StateType = A) && (P2MoveType != H))
attr			= S, NA
hitflag		= MA
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
guard.pausetime	= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
sparkno		= S9034
guard.sparkno	= S9050
sparkxy		= -10,-74
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 16
air.hittime		= 16
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -4.1
guard.velocity	= -4.1
air.velocity	= -7.33,-5.5 - ((Var(21) > 0)*3)
airguard.velocity	= -7.33,-5.5
ground.cornerpush.veloff = -16.28 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -16.28 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 221
getpower		= 8,8
givepower		= 0

[State 221:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 12)
value			= 1

[State 221:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Strong Punch (Target 2)
[Statedef 222]
type 			= S
movetype		= A
physics		= S
anim			= 222
velset		= 0,0
ctrl			= 0
poweradd		= 8
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 222:		VarSet]
type			= VarSet
triggerall		= (NumTarget(222))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 222:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(222)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 222:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(222)) && (MoveHit)
var(25)		= 6
persistent		= 0
ignorehitpause	= 1

[State 222:		VelSet]
type			= VelSet
trigger1		= (EnemyNear, BackEdgeBodyDist < 5) && (Time < 10)
x			= 2
ignorehitpause	= 1

[State 222:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8)
value			= S(Var(20)),4
channel		= 0

[State 222:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 10)
value			= S1,6

[State 222:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 9)
value			= S2,2

[State 222:		EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 10)
time			= 12
freq			= 120
ampl			= -6
phase			= 90

[State 222:		Explod]
type			= Explod
trigger1		= (AnimElem = 10)
anim			= 9070
id			= 9070
pos			= 35,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 222:		Explod]
type			= Explod
trigger1		= (AnimElem = 10)
anim			= 9110
id			= 9110
pos			= 35,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 222:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 10) && (P2StateNo != [5020,5040])
attr			= S, NA
hitflag		= MAFP
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((47*(16-Var(11)+2)/16) > 5, 47*(16-Var(11)+2)/16,5),47))
pausetime		= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
guard.pausetime	= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
sparkno		= S9120
guard.sparkno	= S9050
sparkxy		= -30,-65
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 12
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -9.5,-3.5
guard.velocity	= -16
air.velocity	= -9.5,-3.5 - ((Var(21) > 0)*3)
airguard.velocity	= -9.5,-3.5
ground.cornerpush.veloff = -23 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -23 * (IfElse(Var(21) > 0,0.5,1))
fall			= 1
fall.recover	= 0
id			= 222
getpower		= 0
givepower		= 0

[State 222:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 16)
value			= 1

[State 222:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Strong Punch (Close)
[Statedef 225]
type 			= S
movetype		= A
physics		= S
anim			= 225
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 225:		VarSet]
type			= VarSet
triggerall		= (NumTarget(225))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 225:		VarAdd]
type			= VarAdd
trigger1 		= (NumTarget(225)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 225:		VarAdd]
type			= VarAdd
trigger1 		= (NumTarget(225)) && (HitPauseTime = 1) && (!MoveGuarded)
var(25)		= 7
persistent		= 0
ignorehitpause	= 1

[State 225:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S(Var(20)),3
channel		= 0

[State 225:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 7)
value			= S2,2

[State 225:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= (IfElse(Var(21) > 0,5,9)),(IfElse(Var(21) > 0,5,9))
guard.pausetime	= (IfElse(Var(21) > 0,5,9)),(IfElse(Var(21) > 0,5,9))
sparkno		= S(IfElse(Var(21) > 0,9041,9032))
guard.sparkno	= S9050
sparkxy		= -10,-57
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 13
ground.hittime	= 13
air.hittime		= 13
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -12
guard.velocity	= -12
air.velocity	= -5,-4.75 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-4.75
ground.cornerpush.veloff = -24.8 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -15.8 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 225
getpower		= 108,108
givepower		= 25

[State 225:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= (IfElse(Var(21) > 0,5,9)),(IfElse(Var(21) > 0,5,9))
guard.pausetime	= (IfElse(Var(21) > 0,5,9)),(IfElse(Var(21) > 0,5,9))
sparkno		= S(IfElse(Var(21) > 0,9041,9032))
guard.sparkno	= S9050
sparkxy		= -10,-57
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 13
ground.hittime	= 13
air.hittime		= 13
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -12
guard.velocity	= -12
air.velocity	= -5,-4.75 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-4.75
ground.cornerpush.veloff = -24.8 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -15.8 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 225
getpower		= 108,108
givepower		= 25

[State 225:		HitDef]
type			= HitDef
triggerall 		= (AnimElem = 8)
trigger1		= (P2StateType != A) || ((P2StateType = A) && (P2MoveType != H))
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((47*(16-Var(11)+2)/16) > 5, 47*(16-Var(11)+2)/16,5),47))
pausetime		= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
guard.pausetime	= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
sparkno		= S(IfElse(Var(21) > 0,9041,9030))
guard.sparkno	= S9050
sparkxy		= -10,-99
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 11
ground.hittime	= 13
air.hittime		= 13
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -12.6
guard.velocity	= -12.6
air.velocity	= -5,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -25.9 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -17.5 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 225
getpower		= 8,8
givepower		= 0

[State 225:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 14)
value			= 1

[State 225:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Dakai
[Statedef 226]
type 			= S
movetype		= A
physics		= S
anim			= 226
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 226:		Width]
type			= Width
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 16, < 0)
edge			= 50,0
player		= 50,0

[State 226:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(226)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 226:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(226)) && (MoveHit)
var(25)		= 17
persistent		= 0
ignorehitpause	= 1

[State 226:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2) || (AnimElem = 3)
x			= 12

[State 226:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 4) || (AnimElem = 5)
x			= 10

[State 226:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 6)
x			= 5

[State 226:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8)
value			= S(Var(20)),2
channel		= 0

[State 226:		Explod]
type			= Explod
trigger1		= (AnimElem = 9)
anim			= 9070
id			= 9070
pos			= 15,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 226:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 9)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((111*(16-Var(11)+2)/16) > 5, 111*(16-Var(11)+2)/16,5),111))
pausetime		= (IfElse(Var(21) > 0,3,7)),(IfElse(Var(21) > 0,3,7))
guard.pausetime	= (IfElse(Var(21) > 0,3,7)),(IfElse(Var(21) > 0,3,7))
sparkno		= S(IfElse(Var(21) > 0,9046,9036))
guard.sparkno	= S9050
sparkxy		= -10,-66
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= (IfElse(P2Dist X > 0,-11,11)),-7.25
guard.velocity	= (IfElse(P2Dist X > 0,-13.4,13.4))
air.velocity	= (IfElse(P2Dist X > 0,-11,11)),-7.25 - ((Var(21) > 0)*1.5)
airguard.velocity	= (IfElse(P2Dist X > 0,-11,11)),-7.25
ground.cornerpush.veloff = (IfElse((((FrontEdgeBodyDist-188)/2.16)*0.397)-(IfElse(FrontEdgeBodyDist > 180,0,1)) < 0,(((FrontEdgeBodyDist-188)/2.16)*0.397)-(IfElse(FrontEdgeBodyDist > 180,0,1)),0)) * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = (IfElse((((FrontEdgeBodyDist-188)/2.16)*0.397)-(IfElse(FrontEdgeBodyDist > 180,0,1)) < 0,(((FrontEdgeBodyDist-188)/2.16)*0.397)-(IfElse(FrontEdgeBodyDist > 180,0,1)),0)) * (IfElse(Var(21) > 0,0.5,1))
fall			= 1
fall.recover	= 0
id			= 226
getpower		= 125,125
givepower		= 33

[State 226:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 21)
value			= 1

[State 226:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Weak Kick
[Statedef 230]
type 			= S
movetype		= A
physics		= S
anim			= (IfElse(PrevStateNo = 205,231,230))
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 230:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(230)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 230:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(230)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 230:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,0

[State 230:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0)
attr			= S, NA
hitflag		= M
guardflag		= M
animtype		= Light
air.animtype	= Light
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-28
hitsound		= S2,(IfElse(Var(21) > 0,10,7))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
fall.recover	= 0
id			= 230
getpower		= 16,16
givepower		= 0

[State 230:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 9)
value			= 1

[State 230:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Medium Kick
[Statedef 240]
type 			= S
movetype		= A
physics		= S
anim			= 240
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 240:		VarSet]
type			= VarSet
triggerall		= (NumTarget(240))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 240:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(240)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 240:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(240)) && (MoveHit)
var(25)		= 9
persistent		= 0
ignorehitpause	= 1

[State 240:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6)
value			= S2,1

[State 240:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S9021
guard.sparkno	= S9050
sparkxy		= -10,-88
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 12
air.hittime		= 12
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -10.9
guard.velocity	= -10.9
air.velocity	= -3,-6.3 - ((Var(21) > 0)*1.5)
airguard.velocity	= -3,-6.3
ground.cornerpush.veloff = -19 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = (IfElse((((FrontEdgeBodyDist-156)/2.565)*0.3266)-(IfElse(FrontEdgeBodyDist > 150,-0.509314,1)) < 0,(((FrontEdgeBodyDist-156)/2.565)*0.3266)-(IfElse(FrontEdgeBodyDist > 150,-0.509314,1)),0)) * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 240
getpower		= 66,66
givepower		= 16

[State 240:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S9021
guard.sparkno	= S9050
sparkxy		= -10,-88
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 12
air.hittime		= 12
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -10.9
guard.velocity	= -10.9
air.velocity	= -3,-6.3 - ((Var(21) > 0)*1.5)
airguard.velocity	= -3,-6.3
ground.cornerpush.veloff = -19 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = (IfElse((((FrontEdgeBodyDist-156)/2.565)*0.3266)-(IfElse(FrontEdgeBodyDist > 150,-0.509314,1)) < 0,(((FrontEdgeBodyDist-156)/2.565)*0.3266)-(IfElse(FrontEdgeBodyDist > 150,-0.509314,1)),0)) * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 240
getpower		= 66,66
givepower		= 16

[State 240:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 17)
value			= 1

[State 240:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Medium Kick (Close)
[Statedef 245]
type 			= S
movetype		= A
physics		= S
anim			= 245
velset		= 0,0
ctrl			= 0
poweradd		= 41
juggle		= (IfElse(Var(21) > 0,0,4))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 245:		VarSet]
type			= VarSet
triggerall		= (NumTarget(245))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 245:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(245)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 245:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(245)) && (MoveHit)
var(25)		= 9
persistent		= 0
ignorehitpause	= 1

[State 245:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,1

[State 245:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((47*(16-Var(11)+2)/16) > 5, 47*(16-Var(11)+2)/16,5),47))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9021))
guard.sparkno	= S9050
sparkxy		= -10,-115
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 12
air.hittime		= 12
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -2.75,-10
guard.velocity	= -14.4
air.velocity	= -3.75,-10
airguard.velocity	= -3.75,-10
ground.cornerpush.veloff = -18.7 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -15.2 * (IfElse(Var(21) > 0,0.5,1))
fall			= 1
fall.recover	= 0
id			= 245
getpower		= 41,41
givepower		= 16

[State 245:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 12)
value			= 1

[State 245:		ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 6, < 0) && (MoveContact) && (Command = "Long Jump")
value			= 40

[State 245:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Senpuu Kyaku
[Statedef 246]
type 			= S
movetype		= A
physics		= S
anim			= 246
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 246:		Width]
type			= Width
trigger1		= 1
edge			= 25,0
player		= 25,0

[State 246:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,1

[State 246:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 247

;---------------------------------------------------------------------------
;Senpuu Kyaku (Ascend)
[Statedef 247]
type 			= A
movetype		= A
physics		= N
anim			= 247
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,7))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 247:		Width]
type			= Width
trigger1		= (AnimElem = 5, < 0)
edge			= 25,0
player		= 25,0

[State 247:		StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 10)
statetype		= S

[State 247:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(247)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 247:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(247)) && (MoveHit)
var(25)		= 11
persistent		= 0
ignorehitpause	= 1

[State 247:		PosAdd]
type			= PosAdd
trigger1		= (!Time)
x			= 48

[State 247:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 1)
x			= 1.5

[State 247:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 8)
x			= 1

[State 247:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 10)
x			= 0

[State 247:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S(Var(20)),2
channel		= 0

[State 247:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6)
value			= S2,2

[State 247:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 10)
value			= S1,0

[State 247:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7) && (P2StateNo != [5030,5050])
attr			= S, NA
hitflag		= MAF
guardflag		= H
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9045,9035))
guard.sparkno	= S9050
sparkxy		= -10,-65
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 12
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -12.5
guard.velocity	= -12.5
air.velocity	= -4,-4 - ((Var(21) > 0)*4)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -21.6 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -10.3 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 247
getpower		= 66,66
givepower		= 16

[State 247:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7) && (P2StateNo = 5050)
attr			= S, NA
hitflag		= MAF
guardflag		= H
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9045,9035))
guard.sparkno	= S9050
sparkxy		= -10,-65
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 12
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -12.5
guard.velocity	= -12.5
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -21.6 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -10.3 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 247
getpower		= 66,66
givepower		= 16

[State 247:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 11, = 2)
value			= 1

[State 247:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Strong Kick
[Statedef 250]
type 			= S
movetype		= A
physics		= S
anim			= (IfElse(PrevStateNo = 450,251,250))
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(PrevStateNo = 450,1,6))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 250:		VarSet]
type			= VarSet
triggerall		= (NumTarget(240))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 250:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(250)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 250:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(250)) && (MoveHit)
var(25)		= 11
persistent		= 0
ignorehitpause	= 1

[State 250:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 4, = 0) || (AnimElem = 4, = 3)
x			= 7

[State 250:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 5, = 0) || (AnimElem = 5, = 1) || (AnimElem = 5, = 2)
x			= (IfElse((AnimElem = 5, = 2),12,8))

[State 250:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S(Var(20)),2
channel		= 0

[State 250:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S2,2

[State 250:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 5, = 0) && (P2StateNo != 5040)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((82*(16-Var(11)+2)/16) > 5, 82*(16-Var(11)+2)/16,5),82))
pausetime		= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
guard.pausetime	= (IfElse(Var(21) > 0,5,10)),(IfElse(Var(21) > 0,5,10))
sparkno		= S(IfElse(Var(21) > 0,9045,9036))
guard.sparkno	= S9050
sparkxy		= -10,-71
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.60))
ground.velocity	= (IfElse(Var(21) > 0,-4,-11)),-5.25
guard.velocity	= -13.3
air.velocity	= (IfElse(Var(21) > 0,-4,-11)),(IfElse(Var(21) > 0,-4,-5.25))
airguard.velocity	= -11,-5.25
ground.cornerpush.veloff = -26.5 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = (IfElse((((FrontEdgeBodyDist-136)/1.788)*0.397)-(IfElse(FrontEdgeBodyDist > 130,0,1)) < 0,(((FrontEdgeBodyDist-136)/1.788)*0.397)-(IfElse(FrontEdgeBodyDist > 130,0,1)),-3)) * (IfElse(Var(21) > 0,0.5,1))
id			= 250
fall			= 1
fall.recover	= 0
getpower		= 125,125
givepower		= 33

[State 250:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 15)
value			= 1

[State 250:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Weak Punch
[Statedef 400]
type 			= C
movetype		= A
physics		= C
anim			= 400
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 400:		VarSet]
type			= VarSet
triggerall		= (NumTarget(400))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 400:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(400)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 400:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(400)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 400:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,0

[State 400:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0) && (P2StateNo != [5030,5050])
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Light
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 400
getpower		= 16,16
givepower		= 0

[State 400:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0) && (P2StateNo = 5050)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9042,9010))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25 - ((Var(21) > 0)*3)
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 400
getpower		= 16,16
givepower		= 0

[State 400:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Medium Punch
[Statedef 410]
type 			= C
movetype		= A
physics		= C
anim			= 410
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 410:		VarSet]
type			= VarSet
triggerall		= (NumTarget(410))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 410:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(410)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 410:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(410)) && (MoveHit)
var(25)		= 5
persistent		= 0
ignorehitpause	= 1

[State 410:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,1

[State 410:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo != [5030,5050])
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((58*(16-Var(11)+2)/16) > 5, 58*(16-Var(11)+2)/16,5),58))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S(IfElse(Var(21) > 0,9044,9024))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 12
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -5.7
guard.velocity	= -5.7
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 410
getpower		= 66,66
givepower		= 16

[State 410:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo = 5050)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((58*(16-Var(11)+2)/16) > 5, 58*(16-Var(11)+2)/16,5),58))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S(IfElse(Var(21) > 0,9044,9024))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 12
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -5.7
guard.velocity	= -5.7
air.velocity	= -4,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 410
getpower		= 66,66
givepower		= 16

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Strong Punch
[Statedef 420]
type 			= C
movetype		= A
physics		= C
anim			= (IfElse(PrevStateNo = 410,421,420))
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 420:		VarSet]
type			= VarSet
triggerall		= (NumTarget(420))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A) && (AnimElem = 11, > 0)
var(19)		= 1

[State 420:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(420)) && (AnimElem = 1, > 0)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 420:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(420)) && (AnimElem = 1, > 0)
var(25)		= 5
persistent		= 0
ignorehitpause	= 1

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) || (AnimElem = 10)
value			= S(Var(20)),2
channel		= 0

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) || (AnimElem = 10)
value			= S2,2

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 6, = 0) && (P2StateNo != [5030,5050])
attr			= C, NA
hitflag		= MA
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(12-Var(11)+2)/12) > 5, 29*(12-Var(11)+2)/12,5),29))
pausetime		= 0,(IfElse(((Var(21) > 0) && (FrontEdgeBodyDist > 50)),6,4))
guard.pausetime	= 0,4
sparkno		= S(IfElse(Var(21) > 0,9044,9023))
guard.sparkno	= S9050
sparkxy		= -10,-60
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -5,-5 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-5
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 420
getpower		= 108,108
givepower		= 25

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 6, = 0) && (P2StateNo = 5050)
attr			= C, NA
hitflag		= MA
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= 0,4
guard.pausetime	= 0,4
sparkno		= S(IfElse(Var(21) > 0,9044,9023))
guard.sparkno	= S9050
sparkxy		= -10,-60
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -5,-5 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-5
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 420
getpower		= 108,108
givepower		= 25

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 11, = 0) && (MoveContact)
attr			= C, NA
hitflag		= M
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= (IfElse(Var(21) > 0,6,12)),(IfElse(Var(21) > 0,6,12))
guard.pausetime	= (IfElse(Var(21) > 0,6,12)),(IfElse(Var(21) > 0,6,12))
sparkno		= S(IfElse(Var(21) > 0,9044,9033))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -5,-5 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-5
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 420
getpower		= 8,8
givepower		= 0

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 11, = 0) && (!MoveContact) && (P2StateNo != [5030,5050])
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= (IfElse(Var(21) > 0,6,12)),(IfElse(Var(21) > 0,6,12))
guard.pausetime	= (IfElse(Var(21) > 0,6,12)),(IfElse(Var(21) > 0,6,12))
sparkno		= S(IfElse(Var(21) > 0,9044,9033))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -5,-5 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-5
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.fall		= (IfElse(Var(21) > 0,1,0))
fall.recover	= 0
id			= 420
getpower		= 8,8
givepower		= 0

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 11, = 0) && (!MoveContact) && (P2StateNo = 5050)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= (IfElse(Var(21) > 0,6,12)),(IfElse(Var(21) > 0,6,12))
guard.pausetime	= (IfElse(Var(21) > 0,6,12)),(IfElse(Var(21) > 0,6,12))
sparkno		= S(IfElse(Var(21) > 0,9044,9033))
guard.sparkno	= S9050
sparkxy		= -10,-63
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -5,-5 - ((Var(21) > 0)*3)
airguard.velocity	= -5,-5
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
p2stateno		= 5021
fall.recover	= 0
id			= 420
getpower		= 8,8
givepower		= 0

[State 420:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Weak Kick
[Statedef 430]
type 			= C
movetype		= A
physics		= C
anim			= 430
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 430:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(430)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 430:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(430)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 430:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,0

[State 430:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= M
guardflag		= L
animtype		= Light
air.animtype	= Light
priority		= 5, Hit
damage		= 23
pausetime		= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
guard.pausetime	= (IfElse(Var(21) > 0,3,6)),(IfElse(Var(21) > 0,3,6))
sparkno		= S(IfElse(Var(21) > 0,9044,9010))
guard.sparkno	= S9050
sparkxy		= -10,-2
hitsound		= S2,(IfElse(Var(21) > 0,10,7))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-3.25
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
id			= 430
getpower		= 16,16
givepower		= 0

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Medium Kick
[Statedef 440]
type 			= C
movetype		= A
physics		= C
anim			= 440
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 440:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(440)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 440:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(440)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 440:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,1

[State 440:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0)
attr			= C, NA
hitflag		= M
guardflag		= L
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
guard.pausetime	= (IfElse(Var(21) > 0,4,8)),(IfElse(Var(21) > 0,4,8))
sparkno		= S(IfElse(Var(21) > 0,9044,9024))
guard.sparkno	= S9050
sparkxy		= -10,-5
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 12
ground.hittime	= 14
air.hittime		= 14
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -5.7
guard.velocity	= -5.7
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -10.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -7 * (IfElse(Var(21) > 0,0.5,1))
id			= 440
getpower		= 66,66
givepower		= 16

[State 440:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Strong Kick
[Statedef 450]
type 			= C
movetype		= A
physics		= C
anim			= 450
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 450:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(450)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 450:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(450)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 450:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S(Var(20)),5
channel		= 0

[State 450:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S2,2

[State 450:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7) || ((AnimElem = 8) && (!MoveContact))
attr			= C, NA
hitflag		= M
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= 76
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S(IfElse(Var(21) > 0,9043,9033))
guard.sparkno	= S9050
sparkxy		= -10,-41
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.60
ground.velocity	= -5,-4.75
guard.velocity	= -11.3
air.velocity	= -5,-4.75
airguard.velocity	= -5,-4.75
ground.cornerpush.veloff = -21.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -22.6 * (IfElse(Var(21) > 0,0.5,1))
fall			= 1
fall.recover	= 0
id			= 450
getpower		= 125,125
givepower		= 33

[State 450:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Crouching Strong Kick (2nd Impact)
[Statedef 451]
type 			= C
movetype		= A
physics		= C
anim			= 451
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 451:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(451)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 451:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(451)) && (MoveHit)
var(25)		= 3
persistent		= 0
ignorehitpause	= 1

[State 451:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 5) || (AnimElem = 6) || (AnimElem = 7)
x			= 6

[State 451:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S(Var(20)),3
channel		= 0

[State 451:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 7)
value			= S2,2

[State 451:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 8)
attr			= C, NA
hitflag		= M
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= 76
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S(IfElse(Var(21) > 0,9043,9033))
guard.sparkno	= S9050
sparkxy		= -10,-41
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.60
ground.velocity	= -5,-4.75
guard.velocity	= -11.3
air.velocity	= -5,-4.75
airguard.velocity	= -5,-4.75
ground.cornerpush.veloff = -21.4 * (IfElse(Var(21) > 0,0.5,1))
air.cornerpush.veloff = -22.6 * (IfElse(Var(21) > 0,0.5,1))
fall			= 1
fall.recover	= 0
id			= 451
getpower		= 125,125
givepower		= 33

[State 451:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Jumping Weak Punch
[Statedef 600]
type 			= A
movetype		= A
physics		= N
anim			= 600
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 600:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(600)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 600:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(600)) && (MoveHit)
var(25)		= 7
persistent		= 0
ignorehitpause	= 1

[State 600:		VelAdd]
type			= VelAdd
trigger1		= 1
y			= 0.46

[State 600:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,0

[State 600:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S(IfElse(Var(21) > 0,9045,9010))
guard.sparkno	= S9050
sparkxy		= -10,-84
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -3,-3.25
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -12.4
fall.recover	= 0
id			= 600
getpower		= 16,16
givepower		= 0

[State 600:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S(IfElse(Var(21) > 0,9045,9010))
guard.sparkno	= S9050
sparkxy		= -10,-84
hitsound		= S2,(IfElse(Var(21) > 0,6,3))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -3,-3.25
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -12.4
p2stateno		= 5021
fall.recover	= 0
id			= 600
getpower		= 16,16
givepower		= 0

[State 600:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 30) && (Vel Y > 0)
value			= 601

;---------------------------------------------------------------------------
;Jumping Weak Punch (Land)
[Statedef 601]
type 			= S
movetype		= I
physics		= S
anim			= 601
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 601: 	CtrlSet]
type			= CtrlSet
trigger1		= (Time > 10)
value			= 1

[State 601: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 601:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,0

[State 601: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) || ((AnimElem = 3) && (P2Dist X < 0))
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Jumping Medium Punch
[Statedef 610]
type 			= A
movetype		= A
physics		= A
anim			= 610
;velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 610:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Anim != 610) && (MoveType != I)
movetype		= I

[State 610:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 610) && (!AnimTime)
value			= 41
elem			= 7

[State 610:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(610)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 610:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(610)) && (MoveHit)
var(25)		= 11
persistent		= 0
ignorehitpause	= 1

[State 610:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 610) && (AnimElem = 2)
value			= S2,1

[State 610:		HitDef]
type			= HitDef
trigger1		= (Anim = 610) && (AnimElem = 4) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S(IfElse(Var(21) > 0,9045,9025))
guard.sparkno	= S9050
sparkxy		= -10,-61
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 12
air.hittime		= 12
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
fall.recover	= 0
id			= 610
getpower		= 100,100
givepower		= 16

[State 610:		HitDef]
type			= HitDef
trigger1		= (Anim = 610) && (AnimElem = 4) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S(IfElse(Var(21) > 0,9045,9025))
guard.sparkno	= S9050
sparkxy		= -10,-61
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 12
air.hittime		= 12
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
p2stateno		= 5021
fall.recover	= 0
id			= 610
getpower		= 100,100
givepower		= 16

;---------------------------------------------------------------------------
;Jumping Strong Punch
[Statedef 620]
type 			= A
movetype		= A
physics		= N
anim			= (IfElse(PrevStateNo = 600,621,620))
;velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(PrevStateNo = 600,1,6))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 620:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Anim != [620,621]) && (MoveType != I)
movetype		= I

[State 620:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = [620,621]) && (!AnimTime)
value			= 41
elem			= 7

[State 620:		PosFreeze]
type			= PosFreeze
trigger1		= (AnimElem = 7, < 0) && (Vel Y > 0) && (PrevStateNo = 600)
value			= 1

[State 620:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(620)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 620:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(620)) && (MoveHit)
var(25)		= 15
persistent		= 0
ignorehitpause	= 1

[State 620:		VelAdd]
type			= VelAdd
trigger1		= 1
y			= 0.46

[State 620:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6)
value			= S2,2

[State 620:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((100*(16-Var(11)+2)/16) > 5, 100*(16-Var(11)+2)/16,5),100))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9045,9035))
guard.sparkno	= S9050
sparkxy		= -10,-94
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= (IfElse(PrevStateNo = 600,-2.5,-5)),(IfElse(PrevStateNo = 600,-5.25,-4))
airguard.velocity	= (IfElse(PrevStateNo = 600,-2.5,-5)),(IfElse(PrevStateNo = 600,-5.25,-4))
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -14.2
fall.recover	= 0
id			= 620
getpower		= 125,125
givepower		= 33

[State 620:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 7) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040) && (Var(25) <= ((EnemyNear, LifeMax)*0.064))
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((100*(16-Var(11)+2)/16) > 5, 100*(16-Var(11)+2)/16,5),100))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9045,9035))
guard.sparkno	= S9050
sparkxy		= -10,-94
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= (IfElse(PrevStateNo = 600,-2.5,-5)),(IfElse(PrevStateNo = 600,-5.25,-4))
airguard.velocity	= (IfElse(PrevStateNo = 600,-2.5,-5)),(IfElse(PrevStateNo = 600,-5.25,-4))
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -14.2
p2stateno		= 5021
fall.recover	= 0
id			= 620
getpower		= 125,125
givepower		= 33

[State 620:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= (IfElse((Anim = [620,621]),622,52))

;---------------------------------------------------------------------------
;Jumping Strong Punch (Land)
[Statedef 622]
type 			= S
movetype		= I
physics		= S
anim			= 622
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 622: 	CtrlSet]
type			= CtrlSet
trigger1		= (Time > 7)
value			= 1

[State 622: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 622:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,0

[State 622: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) || ((AnimElem = 4) && (P2Dist X < 0))
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Jumping Strong Punch (Moving)
[Statedef 625]
type 			= A
movetype		= A
physics		= A
anim			= 625
;velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 625:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Anim != 625) && (MoveType != I)
movetype		= I

[State 625:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 625) && (!AnimTime)
value			= 41
elem			= 7

[State 625:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(625)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 625:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(625)) && (MoveHit)
var(25)		= 13
persistent		= 0
ignorehitpause	= 1

[State 625:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 625) && (AnimElem = 2)
value			= S2,2

[State 625:		HitDef]
type			= HitDef
trigger1		= (Anim = 625) && (AnimElem = 4) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((82*(16-Var(11)+2)/16) > 5, 82*(16-Var(11)+2)/16,5),82))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9045,9035))
guard.sparkno	= S9050
sparkxy		= -10,-61
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
fall.recover	= 0
id			= 625
getpower		= 125,125
givepower		= 33

[State 625:		HitDef]
type			= HitDef
trigger1		= (Anim = 625) && (AnimElem = 4) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((82*(16-Var(11)+2)/16) > 5, 82*(16-Var(11)+2)/16,5),82))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S(IfElse(Var(21) > 0,9045,9035))
guard.sparkno	= S9050
sparkxy		= -10,-61
hitsound		= S2,(IfElse(Var(21) > 0,6,5))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
p2stateno		= 5021
fall.recover	= 0
id			= 625
getpower		= 125,125
givepower		= 33

;---------------------------------------------------------------------------
;Jumping Weak Kick
[Statedef 630]
type 			= A
movetype		= A
physics		= A
anim			= 630
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 630:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Anim != 630) && (MoveType != I)
movetype		= I

[State 630:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 630) && (!AnimTime)
value			= 41
elem			= 7

[State 630:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(630)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 630:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(630)) && (MoveHit)
var(25)		= 5
persistent		= 0
ignorehitpause	= 1

[State 630:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 630) && (AnimElem = 2)
value			= S2,1

[State 630:		HitDef]
type			= HitDef
trigger1		= (Anim = 630) && (AnimElem = 3) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S(IfElse(Var(21) > 0,9043,9010))
guard.sparkno	= S9050
sparkxy		= -10,-100
hitsound		= S2,(IfElse(Var(21) > 0,10,7))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -3,-3.25
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -12.4
fall.recover	= 0
id			= 630
getpower		= 16,16
givepower		= 0

[State 630:		HitDef]
type			= HitDef
trigger1		= (Anim = 630) && (AnimElem = 3) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((29*(16-Var(11)+2)/16) > 5, 29*(16-Var(11)+2)/16,5),29))
pausetime		= 8,8
guard.pausetime	= 8,8
sparkno		= S(IfElse(Var(21) > 0,9043,9010))
guard.sparkno	= S9050
sparkxy		= -10,-100
hitsound		= S2,(IfElse(Var(21) > 0,10,7))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -3,-3.25
airguard.velocity	= -3,-3.25
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -12.4
p2stateno		= 5021
fall.recover	= 0
id			= 630
getpower		= 16,16
givepower		= 0

;---------------------------------------------------------------------------
;Jumping Medium Kick
[Statedef 640]
type 			= A
movetype		= A
physics		= A
anim			= 640
;velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 640:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Anim != 640) && (MoveType != I)
movetype		= I

[State 640:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 640) && (!AnimTime)
value			= 41
elem			= 7

[State 640:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(640)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 640:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(640)) && (MoveHit)
var(25)		= 9
persistent		= 0
ignorehitpause	= 1

[State 640:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 640) && (AnimElem = 5)
value			= S2,1

[State 640:		HitDef]
type			= HitDef
trigger1		= (Anim = 640) && (AnimElem = 6) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((58*(16-Var(11)+2)/16) > 5, 58*(16-Var(11)+2)/16,5),58))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9043,9023))
guard.sparkno	= S9050
sparkxy		= -10,-45
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 12
air.hittime		= 12
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
fall.recover	= 0
id			= 610
getpower		= 100,100
givepower		= 16

[State 640:		HitDef]
type			= HitDef
trigger1		= (Anim = 640) && (AnimElem = 6) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((58*(16-Var(11)+2)/16) > 5, 58*(16-Var(11)+2)/16,5),58))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9043,9023))
guard.sparkno	= S9050
sparkxy		= -10,-45
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 12
air.hittime		= 12
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
p2stateno		= 5021
fall.recover	= 0
id			= 640
getpower		= 100,100
givepower		= 16

;---------------------------------------------------------------------------
;Jumping Strong Kick
[Statedef 650]
type 			= A
movetype		= A
physics		= A
anim			= 650
;velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 650:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Anim != 650) && (MoveType != I)
movetype		= I

[State 650:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 650) && (!AnimTime)
value			= 41
elem			= 7

[State 650:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(650)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 650:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(650)) && (MoveHit)
var(25)		= 13
persistent		= 0
ignorehitpause	= 1

[State 650:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,2

[State 650:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((100*(16-Var(11)+2)/16) > 5, 100*(16-Var(11)+2)/16,5),100))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S(IfElse(Var(21) > 0,9043,9033))
guard.sparkno	= S9050
sparkxy		= -10,-105
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
fall.recover	= 0
id			= 650
getpower		= 125,125
givepower		= 33

[State 650:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((100*(16-Var(11)+2)/16) > 5, 100*(16-Var(11)+2)/16,5),100))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S(IfElse(Var(21) > 0,9043,9033))
guard.sparkno	= S9050
sparkxy		= -10,-105
hitsound		= S2,(IfElse(Var(21) > 0,10,9))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 8
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -4.8
guard.velocity	= -4.8
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -8.6
air.cornerpush.veloff = -11.7
p2stateno		= 5021
fall.recover	= 0
id			= 650
getpower		= 125,125
givepower		= 33

;---------------------------------------------------------------------------
;Gekihou Sui
[Statedef 700]
type 			= S
movetype		= A
physics		= N
anim			= 700
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 700:		StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 2)
statetype		= A

[State 700:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(700)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 700:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(700)) && (MoveHit)
var(25)		= 13
persistent		= 0
ignorehitpause	= 1

[State 700:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 2
y			= -4

[State 700:		VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0)
y			= 0.54

[State 700:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S2,2

[State 700:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 5) && (P2StateNo != [5030,5050])
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((82*(16-Var(11)+2)/16) > 5, 82*(16-Var(11)+2)/16,5),82))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S(IfElse(Var(21) > 0,9045,9025))
guard.sparkno	= S9050
sparkxy		= -10,-61
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 16
air.hittime		= 16
yaccel		= 0.49
ground.velocity	= -7
guard.velocity	= -7
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -7
fall.recover	= 0
id			= 700
getpower		= 16,16
givepower		= 0

[State 700:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 5) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((82*(16-Var(11)+2)/16) > 5, 82*(16-Var(11)+2)/16,5),82))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S(IfElse(Var(21) > 0,9045,9025))
guard.sparkno	= S9050
sparkxy		= -10,-61
hitsound		= S2,(IfElse(Var(21) > 0,6,4))
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 10
ground.hittime	= 16
air.hittime		= 16
yaccel		= 0.49
ground.velocity	= -7
guard.velocity	= -7
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -7
p2stateno		= 5021
fall.recover	= 0
id			= 700
getpower		= 16,16
givepower		= 0

[State 700:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

;---------------------------------------------------------------------------
;Nage
[Statedef 800]
type 			= S
movetype		= A
physics		= S
anim			= 800
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 800:		VarSet]
type			= VarSet
trigger1		= (Command = "holdy") || (Command = "holdz")
var(24)		= (IfElse((Command = "holdback"),-1,1))

[State 800:		VarSet]
type			= VarSet
trigger1		= (Command = "holdb") || (Command = "holdc")
var(24)		= 2

[State 800:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,0

[State 800: 	HitDef]
type			= HitDef
triggerall		= (((Command = "holdfwd") && (Var(20) != [4,5])) || ((Var(24) = 1) && (Var(20) = [4,5])))
trigger1		= (NumTarget = 0) && (AnimElem = 3, = 0) && (P2MoveType != H)
trigger2		= (NumTarget > 0)
trigger2		= (AnimElem = 3, = 0) && (Target, StateNo = 6300)
attr			= S, NT
hitflag		= M
priority		= 1, Miss
sparkno		= -1
hitsound		= S1,7
guard.dist		= 0
snap			= 67,0
p2facing		= 1
p1stateno		= 810
p2stateno		= 815
forcestand		= 1
fall			= 1
id			= 810
getpower		= 0
givepower		= 0

[State 800: 	HitDef]
type			= HitDef
triggerall		= (((Command = "holdback") && (Var(20) != [4,5])) || ((Var(24) = -1) && (Var(20) = [4,5])))
trigger1		= (NumTarget = 0) && (AnimElem = 3, = 0) && (P2MoveType != H)
trigger2		= (NumTarget > 0)
trigger2		= (AnimElem = 3, = 0) && (Target, StateNo = 6300)
attr			= S, NT
hitflag		= M
priority		= 1, Miss
sparkno		= -1
hitsound		= S1,7
guard.dist		= 0
snap			= 62,0
p2facing		= 1
p1stateno		= 811
p2stateno		= 816
forcestand		= 1
fall			= 1
id			= 811
getpower		= 0
givepower		= 0

[State 800: 	HitDef]
type			= HitDef
triggerall		= (Command != "holdback") && (Command != "holdfwd") || ((Var(24) = 2) && (Var(20) = [4,5]))
trigger1		= (NumTarget = 0) && (AnimElem = 3, = 0) && (P2MoveType != H)
trigger2		= (NumTarget > 0)
trigger2		= (AnimElem = 3, = 0) && (Target, StateNo = 6300)
attr			= S, NT
hitflag		= M
priority		= 1, Miss
sparkno		= -1
hitsound		= S1,7
guard.dist		= 0
snap			= 67,0
p2facing		= 1
p1stateno		= 820
p2stateno		= 825
forcestand		= 1
fall			= 1
id			= 820
getpower		= 0
givepower		= 0

[State 800: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Monkey Flip (Forward)
[Statedef 810]
type 			= S
movetype		= A
physics		= N
anim			= 810
velset		= 0,0
ctrl			= 0
poweradd		= 8
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 810:		Turn]
type			= Turn
trigger1		= (AnimElem = 6)

[State 810:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3) || (AnimElem = 4) || (AnimElem = 5)
x			= -10

[State 810:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 6)
x			= -20

[State 810:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8)
value			= S(Var(20)),5
channel		= 0

[State 810:		BindToTarget]
type			= BindToTarget
trigger1		= (AnimElem = 1, >= 0) && (AnimElem = 6, < 0)
time			= 1
id			= 810
pos			= 25,0,foot

[State 810:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 6, >= 0) && (AnimElem = 7, < 0)
time			= 1
id			= 810
pos			= 0,0

[State 810:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 7, >= 0) && (AnimElem = 8, < 0)
time			= 2
id			= 810
pos			= -15,-40

[State 810:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 8, >= 0) && (AnimElem = 9, < 0)
time			= 2
id			= 810
pos			= -47,-51

[State 810:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 9)
time			= 1
id			= 810
pos			= -81,-70

[State 810:		TargetVelSet]
type			= TargetVelSet
trigger1		= (AnimElem = 9, = 1)
x			= 5
y			= -6

[State 810:		ChangeState]
type			= ChangeState
trigger1		= (Time < 5) && (Target, Command = "x") && (Target, Command = "a")
value			= 801

[State 810:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Monkey Flip (Backward)
[Statedef 811]
type 			= S
movetype		= A
physics		= N
anim			= 811
velset		= 0,0
ctrl			= 0
poweradd		= 8
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 811:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8)
value			= S(Var(20)),5
channel		= 0

[State 811:		BindToTarget]
type			= BindToTarget
trigger1		= (AnimElem = 1, >= 0) && (AnimElem = 6, < 0)
time			= 1
id			= 811
pos			= 55,0,foot

[State 811:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 6, >= 0) && (AnimElem = 7, < 0)
time			= 1
id			= 811
pos			= 39,-68

[State 811:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 7, >= 0) && (AnimElem = 8, < 0)
time			= 2
id			= 811
pos			= 21,-66

[State 811:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 8, >= 0) && (AnimElem = 9, < 0)
time			= 2
id			= 811
pos			= -16,-53

[State 811:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 9)
time			= 1
id			= 811
pos			= -57,-70

[State 811:		TargetVelSet]
type			= TargetVelSet
trigger1		= (AnimElem = 9, = 1)
x			= 5
y			= -6

[State 811:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11
ctrl			= 1

;---------------------------------------------------------------------------
;Monkey Flip (Forward, Opponent)
[Statedef 815]
type 			= S
movetype		= H
physics		= N
;anim			= 815
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 815:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 815

[State 815:		StateTypeSet]
type			= StateTypeSet
trigger1		= (EnemyNear, AnimElem = 9)
statetype		= A

[State 815:		Turn]
type			= Turn
trigger1		= (AnimElem = 3)

[State 815:		VelAdd]
type			= VelAdd
trigger1		= (StateType = A)
y			= 0.45

[State 815:		LifeAdd]
type			= LifeAdd
trigger1		= (Pos Y >= -20) && (Vel Y > 0)
value			= -100
persistent		= 0

[State 815:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= -20) && (Vel Y > 0)
value			= 817

;---------------------------------------------------------------------------
;Monkey Flip (Backward, Opponent)
[Statedef 816]
type 			= S
movetype		= H
physics		= N
;anim			= 816
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 816:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 816

[State 816:		StateTypeSet]
type			= StateTypeSet
trigger1		= (EnemyNear, AnimElem = 9)
statetype		= A

[State 816:		VelAdd]
type			= VelAdd
trigger1		= (StateType = A)
y			= 0.45

[State 816:		LifeAdd]
type			= LifeAdd
trigger1		= (Pos Y >= -20) && (Vel Y > 0)
value			= -100
persistent		= 0

[State 816:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= -20) && (Vel Y > 0)
value			= 817

;---------------------------------------------------------------------------
;Monkey Flip (Opponent, hit ground)
[Statedef 817]
type			= L
movetype		= H
physics		= N

[State 817:		VelSet]
type			= VelSet
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0) && (Vel X > 1)
x			= 1

[State 817:		EnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 817:		VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(1)		= Floor(Vel Y)

[State 817:		ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= ((Anim != [5051,5059]) && (Anim != [5061,5069])) || (!SelfAnimExist(5100 + (Anim % 10)))
value			= 5100

[State 817:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5051,5059]) || (Anim = [5061,5069])) && (SelfAnimExist(5100 + (Anim % 10)))
value			= 5100 + (Anim % 10)

[State 817:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 817:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 817:		VelMul]
type			= VelMul
trigger1		= (!Time)
x			= 0.75

[State 817:		ChangeState]
type			= ChangeState
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0)
value			= 5110

[State 817:		GameMakeAnim]
type			= GameMakeAnim
trigger1		= (Time = 1)
pos			= 0,0
under			= SysVar(1) <= 10
value			= (60 + (SysVar(1) > 5) + (SysVar(1) > 14))

[State 817:		HitFallDamage]
type			= HitFallDamage
trigger1		= (Time = 3)

[State 817:		PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 817:		SelfState]
type			= SelfState
trigger1		= (!AnimTime)
value			= 5101

[State 817:		ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
waveform		= SineSquare
ampl			= 128,-3,-.2,.005
time			= 20

;---------------------------------------------------------------------------
;Hiza Geri
[Statedef 820]
type 			= S
movetype		= A
physics		= N
anim			= 820
velset		= 0,0
ctrl			= 0
poweradd		= 8
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 820:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(15) < 6) && (Var(16) < 50) && (AnimElem = 10)
value			= 820

[State 820:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 820) && (!AnimTime)
value			= 821

[State 820:		ChangeAnim]
type 			= ChangeAnim
triggerall		= (Anim = 820) && (((AnimElem = 1, > 0) && (AnimElem = 5, < 0)) || ((AnimElem = 5, > 1) && (AnimElem = 8, < 0) && (Var(15) < 6)))
triggerall		= (Command = "x") || (Command = "y") || (Command = "z") || (Command = "a") || (Command = "b") || (Command = "c")
trigger1 		= (AnimElemTime(AnimElemNo(0) + 1) < 0)
trigger1 		= (AnimElemTime(AnimElemNo(0)) > Floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/4))
value 		= (Anim)
elem 			= (AnimElemNo(0) + 1)

[State 820:		Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(15) := 0) && (Var(16) := 0)

[State 820:		VarAdd]
type			= VarAdd
trigger1		= (Anim = 820) && (AnimElem = 5, = 0)
var(11)		= 1

[State 820:		VarAdd]
type			= VarAdd
trigger1		= (Anim = 820) && (AnimElem = 5, = 0)
var(25)		= 4

[State 820:		VarAdd]
type			= VarAdd
trigger1		= (Anim = 820) && (AnimElem = 5, = 0)
var(15)		= 1

[State 820:		VarAdd]
type			= VarAdd
triggerall		= (Anim = 820) && (NumTarget(820))
trigger1		= (Target, Command = "x") || (Target, Command = "y") || (Target, Command = "z")
trigger2		= (Target, Command = "a") || (Target, Command = "b") || (Target, Command = "c")
var(16)		= 1

[State 820:		PowerAdd]
type			= PowerAdd
trigger1		= (AnimElem = 5)
value			= 8

[State 820:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S(Var(20)),3
channel		= 0

[State 820:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S2,9

[State 820:		HitAdd]
type			= HitAdd
trigger1		= (AnimElem = 5) && (Var(15) > 1)
value			= 1

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
time			= 1
id			= 820
pos			= 63,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
time			= 1
id			= 820
pos			= 63,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 3, > 0) && (AnimElem = 4, < 0)
time			= 1
id			= 820
pos			= 62,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 4, > 0) && (AnimElem = 5, < 0)
time			= 1
id			= 820
pos			= 61,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 5, > 0) && (AnimElem = 6, < 0)
time			= 1
id			= 820
pos			= 57,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 6, > 0) && (AnimElem = 7, < 0)
time			= 1
id			= 820
pos			= 60,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 7, > 0) && (AnimElem = 8, < 0)
time			= 1
id			= 820
pos			= 61,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 8, > 0) && (AnimElem = 9, < 0)
time			= 1
id			= 820
pos			= 62,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 9, > 0) && (AnimElem = 10, < 0)
time			= 2
id			= 820
pos			= 63,0

[State 820:		TargetBind]
type			= TargetBind
trigger1		= (Anim = 820) && (AnimElem = 10, >= 0)
time			= 2
id			= 820
pos			= 63,0

[State 820:		TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (AnimElem = 5)
value			= -(IfElse((Var(15) = 1),29,IfElse((Var(15) = 2),23,IfElse(((Var(15) = 3) || (Var(15) = 4)),17,IfElse((Var(15) = 5),11,5)))))

[State 820: 	Explod]
type			= Explod
trigger1		= (AnimElem = 5)
anim			= 9033
id			= 9033
pos			= 75,-57
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 820:		ChangeState]
type			= ChangeState
trigger1		= (Anim = 821) && (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Hiza Geri (Opponent)
[Statedef 825]
type 			= A
movetype		= H
physics		= N
;anim			= 825
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 825: 	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 1,0

[State 825:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time) || ((EnemyNear, Var(15) < 6) && (EnemyNear, Var(16) < 50) && (EnemyNear, AnimElem = 9))
value			= 825

[State 820:		ChangeAnim2]
type 			= ChangeAnim2
triggerall		= (EnemyNear, Anim = 820) && (((AnimElem = 1, > 0) && (AnimElem = 5, < 0)) || ((AnimElem = 5, > 1) && (AnimElem = 8, < 0) && (EnemyNear, Var(15) < 6)))
triggerall		= (EnemyNear, Command = "x") || (EnemyNear, Command = "y") || (EnemyNear, Command = "z") || (EnemyNear, Command = "a") || (EnemyNear, Command = "b") || (EnemyNear, Command = "c")
trigger1 		= (AnimElemTime(AnimElemNo(0) + 1) < 0)
trigger1 		= (AnimElemTime(AnimElemNo(0)) > Floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/4))
value 		= (Anim)
elem 			= (AnimElemNo(0) + 1)

[State 825:		PosSet]
type			= PosSet
trigger1		= (Pos Y > 0) || (EnemyNear, Anim = 821)
y			= -5

[State 825:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 5, = 0) || (AnimElem = 5, = 4) || (AnimElem = 5, = 6) || (AnimElem = 5, = 8)
x			= 1

[State 825:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 5, = 1) || (AnimElem = 5, = 5) || (AnimElem = 5, = 7)
x			= -1

[State 825:		VelSet]
type			= VelSet
trigger1		= (EnemyNear, Anim = 821)
x			= -0.75
y			= -3

[State 825:		NotHitBy]
type			= NotHitBy
trigger1		= (EnemyNear, Anim = 821)
value			= SCA,NA,SA
time			= 30

[State 825:		ChangeState]
type			= ChangeState
trigger1		= (EnemyNear, Anim = 821)
value			= 5050

;===========================================================================
;-| Special |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Zesshou Hohou
[Statedef 1000]
type 			= S
movetype		= A
physics		= N
anim			= (IfElse((Var(21) > 0),1005,1000))
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 6)
statetype		= A

[State 1000: 	Width]
type			= Width
trigger1		= (AnimElem = 6, > 0)
edge			= 25,0
player		= 25,0

[State 1000:	ChangeAnim]
type 			= ChangeAnim
trigger1		= (Var(4) = 1) && (PrevStateNo != 210) && (AnimElem = 1, = 2)
trigger2		= (Var(4) = 2) && (PrevStateNo != 210) && (AnimElem = 1, = 2)
trigger3		= (Var(4) = 3) && (AnimElem = 1, = 5)
trigger4		= (Var(4) = 1) && (PrevStateNo = 210) && (AnimElem = 1, = 5)
trigger5		= (Var(4) = 2) && (PrevStateNo = 210) && (AnimElem = 1, = 5)
trigger6		= ((Var(4) != [1,3]) && (AnimElem = 1, = 5)) || ((AnimElem = 1, > 5) && (AnimElem = 2, < 0))
trigger7		= (Var(21) > 0) && (AnimElem = 1, = 2)
value			= Anim
elem			= 2

[State 1000:	ChangeAnim]
type 			= ChangeAnim
trigger1		= (Var(4) = 1) && (PrevStateNo != 210) && (AnimElem = 2, = 2)
trigger2		= (Var(4) = 2) && (PrevStateNo != 210) && (AnimElem = 2, = 2)
trigger3		= (Var(4) = 3) && (AnimElem = 2, = 5)
trigger4		= (Var(4) = 1) && (PrevStateNo = 210) && (AnimElem = 2, = 5)
trigger5		= (Var(4) = 2) && (PrevStateNo = 210) && (AnimElem = 2, = 5)
trigger6		= ((Var(4) != [1,3]) && (AnimElem = 2, = 5)) || ((AnimElem = 2, > 5) && (AnimElem = 3, < 0))
trigger7		= (Var(21) > 0) && (AnimElem = 2, = 2)
value			= Anim
elem			= 3

[State 1000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 7, = 3)
value			= Anim
elem			= 8

[State 1000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 8, = 3)
value			= Anim
elem			= 7

[State 1000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(4) = 1) && (Pos Y <= (IfElse(Var(21) > 0,-10,-7)))
trigger2		= (Var(4) > 1) && (Pos Y >= -12) && (Vel Y > 0)
value			= Anim
elem			= 9
persistent		= 0

[State 1000:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1000)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 1000:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1000)) && (HitPauseTime = 1) && (!MoveGuarded)
var(25)		= 9
persistent		= 0
ignorehitpause	= 1

[State 1000:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 6)
x			= (IfElse((Var(4) = 1),4,IfElse((Var(4) = 2),6,8))) + (((Var(21) > 0) && (Var(4) = 3))*2.5)
y			= -2.5

[State 1000:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 7, > 0)
y			= 0.54

[State 1000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 1) || (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 4) || (AnimElem = 5)
x			= 12

[State 1000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S(Var(20)),4
channel		= 0

[State 1000: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 3)
time 			= 30
timegap		= 3
framegap 		= 2
length 		= 3
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 255,255,255
trans 		= none

[State 1000: 	AfterImageTime]
type 			= AfterImageTime
trigger1		= (Pos Y > -13) && (Vel Y > 0)
time 			= 0

[State 1000:	Explod]
type			= Explod
trigger1		= ((AnimElem = 6) || (AnimElem = 7) || (AnimElem = 8)) && (Vel Y <= -2)
anim			= 9070
id			= 9070
pos			= -60,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1000:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6) && (Vel Y < -2.45) && (P2StateNo != 5040) && (Var(21) = 0)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= (IfElse(Var(4) = 1,82,IfElse(Var(4) = 2,94,100))),11
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S(IfElse(Var(21) > 0,9041,9043))
guard.sparkno	= S9060
sparkxy		= -10,-75
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -12,-4
guard.velocity	= -13.6
air.velocity	= -12,-4
airguard.velocity	= -12,-4
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 1000
getpower		= 116,116
givepower		= 33

[State 1000:	HitDef]
type			= HitDef
triggerall		= (P2StateNo != 5040) && (Var(21) > 0)
trigger1		= ((EnemyNear, GetHitVar(HitShakeTime) = 0) && (HitCount < 3)) || ((Var(4) = 1) && (AnimElem = 10))
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((94*(9-Var(11)+2)/9) > 5, 94*(9-Var(11)+2)/9,5),94)),11
pausetime		= 4,6
guard.pausetime	= 4,6
sparkno		= S(IfElse(Var(21) > 0,9041,9043))
guard.sparkno	= S9060
sparkxy		= -10,-75
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= (IfElse(Var(21) > 0,0.40,0.49))
ground.velocity	= -4
guard.velocity	= -13.6
air.velocity	= -2,-4 - ((Var(21) > 0)*3)
airguard.velocity	= -13.6,-4
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
air.fall		= 1
fall.recover	= 0
id			= 1000
getpower		= 116,116
givepower		= 33

[State 1000:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 1001

;---------------------------------------------------------------------------
;Zesshou Hohou (Land)
[Statedef 1001]
type 			= A
movetype		= A
physics		= S
anim			= 1001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1001: 	Width]
type			= Width
trigger1		= 1
edge			= 0,0
player		= 10,0

[State 1001:	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 1001:	PosAdd]
type 			= PosAdd
trigger1 		= (!Time)
x 			= 35

[State 1001: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Kobokushi
[Statedef 1010]
type 			= S
movetype		= A
physics		= S
anim			= 1010
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,1))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1010:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1010)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1010:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1010)) && (MoveHit)
var(25)		= 23
persistent		= 0
ignorehitpause	= 1

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 10)
value			= S(Var(20)),3
channel		= 0

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 11)
value			= S1,6

[State 1010:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 11)
time			= 12
freq			= 120
ampl			= -6
phase			= 90

[State 1010:	Explod]
type			= Explod
trigger1		= (AnimElem = 11)
anim			= 9070
id			= 9070
pos			= 31,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1010:	Explod]
type			= Explod
trigger1		= (AnimElem = 11)
anim			= 9110
id			= 9110
pos			= 31,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1010:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 11) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAFP
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 9, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((152*(16-Var(11)+2)/16) > 5, 152*(16-Var(11)+2)/16,5),152)),17
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9120
guard.sparkno	= S9060
sparkxy		= -50,-62
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= (IfElse(Var(21) > 0,0.45,0.49))
ground.velocity	= (IfElse(Var(21) > 0,-9,-10)),(IfElse(Var(21) > 0,-8,-6))
guard.velocity	= -10.9
air.velocity	= (IfElse(Var(21) > 0,-9,-10)),(IfElse(Var(21) > 0,-10.75,-7.75))
airguard.velocity	= -10,(IfElse(Var(21) > 0,-10.75,-7.75))
ground.cornerpush.veloff = -19
air.cornerpush.veloff = (IfElse((((FrontEdgeBodyDist-156)/2.565)*0.3266)-(IfElse(FrontEdgeBodyDist > 150,-0.509314,1)) < 0,(((FrontEdgeBodyDist-156)/2.565)*0.3266)-(IfElse(FrontEdgeBodyDist > 150,-0.509314,1)),0))
fall			= 1
fall.recover	= 0
id			= 1010
getpower		= 100,100
givepower		= 25

[State 1010:	CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 15)
value			= 1

[State 1010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Kobokushi (Cancel)
[Statedef 1011]
type 			= S
movetype		= A
physics		= S
anim			= 1010
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1011:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 1010) && (AnimElem = 7, > 0)
value			= 1011

[State 1011:	ChangeState]
type			= ChangeState
trigger1		= (Anim = 1011) && (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tetsuzan Kou
[Statedef 1020]
type 			= S
movetype		= A
physics		= N
anim			= 1020
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(PrevStateNo = 1010,0,IfElse((NumTarget(1020) = 1),7,4)))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1020: 	Width]
type			= Width
trigger1		= (AnimElem = 6, > 0)
edge			= 35,0
player		= 35,0

[State 1020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(4) = 1) && (IfElse((PrevStateNo = 1010),(AnimElem = 1, = 2),(AnimElem = 1, = 1)))
trigger2		= (Var(4) = 2) && (AnimElem = 1, = 5)
trigger3		= (Var(4) = 3) && (AnimElem = 1, = 5)
trigger4		= ((Var(4) != [1,3]) && (AnimElem = 1, = 5)) || ((AnimElem = 1, > 5) && (AnimElem = 2, < 0))
value			= 1020
elem			= 2

[State 1020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(4) = 1) && (PrevStateNo = 1010) && (AnimElem = 2, = 1)
value			= 1020
elem			= 3

[State 1020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(4) = 1) && (PrevStateNo = 1010) && (AnimElem = 3, = 1)
value			= 1020
elem			= 4

[State 1020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(4) = 1) && (PrevStateNo = 1010) && (AnimElem = 4, = 1)
value			= 1020
elem			= 5

[State 1020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(4) = 1) && (AnimElem = 6, = 1)
trigger2		= (Var(4) = 2) && (AnimElem = 6, = 3)
trigger3		= (Var(4) = 3) && (AnimElem = 6, = 3)
trigger4		= ((Var(4) != [1,3]) && (AnimElem = 6, = 3)) || ((AnimElem = 6, > 3) && (AnimElem = 7, < 0))
value			= 1020
elem			= 7

[State 1020:	VarSet]
type			= VarSet
triggerall		= (NumTarget(1020))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 1020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1020)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 1020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1020)) && (MoveHit)
var(25)		= 9
persistent		= 0
ignorehitpause	= 1

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8)
value			= S(Var(20)),2
channel		= 0

[State 1020:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 4)
x			= 10

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 6)
x			= (IfElse(Var(4) = 1,8,IfElse(Var(4) = 2,21,30)))

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 7) || (AnimElem = 8)
x			= (IfElse((AnimElem = 7),3,0))

[State 1020:	 Explod]
type			= Explod
trigger1		= (AnimElem = 6)
anim			= 9080
id			= 9080
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1020:	HitDef]
type			= HitDef
trigger1		= (Var(21) > 0) && (AnimElem = 6) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Back
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(9-Var(11)+2)/9) > 5, 64*(9-Var(11)+2)/9,5),64)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9044
guard.sparkno	= S9060
sparkxy		= -10,-20
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-5.25
airguard.velocity	= -3,-5.25
ground.cornerpush.veloff = -10.4
air.cornerpush.veloff = -7
air.fall		= 1
fall.recover	= 0
id			= 2020
getpower		= 0
givepower		= 0

[State 1020:	HitDef]
type			= HitDef
trigger1		= (Var(4) = 1) && (AnimElem = 9) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Back
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((94*(16-Var(11)+2)/16) > 5, 94*(16-Var(11)+2)/16,5),94)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9044
guard.sparkno	= S9060
sparkxy		= -10,-70
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -11
guard.velocity	= -8.8
air.velocity	= -3,(IfElse(FrontEdgeDist > 100,-5.25,-9))
airguard.velocity	= -3,-5.25
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -16.6
air.fall		= 1
fall.recover	= 0
id			= 1020
getpower		= 116,116
givepower		= 33

[State 1020:	HitDef]
type			= HitDef
trigger1		= (Var(4) > 1) && (AnimElem = 9) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((105*(16-Var(11)+2)/16) > 5, 105*(16-Var(11)+2)/16,5),105)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9044
guard.sparkno	= S9060
sparkxy		= -10,-70
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= (IfElse(Var(4) = 2,-2,-2.5)),(IfElse(Var(4) = 2,-12,-12.5))
guard.velocity	= -8.8
air.velocity	= (IfElse(Var(4) = 2,-2,-2.5)),(IfElse(Var(4) = 2,-12,-12.5))
airguard.velocity	= (IfElse(Var(4) = 2,-2,-2.5)),(IfElse(Var(4) = 2,-12,-12.5))
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -16.6
fall 			= 1
fall.recover	= 0
id			= 1020
getpower		= 116,116
givepower		= 33

[State 1020:	CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 17)
value			= 1

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Nishou Kyaku
[Statedef 1030]
type 			= S
movetype		= A
physics		= N
anim			= 1030
velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= (IfElse(Var(21) > 0,0,6))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1030: 	Width]
type			= Width
triggerall		= (MoveContact) && (Var(21) = 0)
trigger1		= (EnemyNear, BackEdgeBodyDist < 5) && (EnemyNear, StateType = A)
edge			= (Time+15),0
player		= 0,0

[State 1030:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 4)
statetype		= A

[State 1030:	VarSet]
type			= VarSet
triggerall		= (NumTarget(1030))
trigger1		= (Pos Y >= 0) && (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 1030:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1030)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 1030:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1030)) && (HitPauseTime = 1) && (!MoveGuarded)
var(25)		= 7
persistent		= 0
ignorehitpause	= 1

[State 1030:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4)
x			= (IfElse(Var(4) = 1,2.5,IfElse(Var(4) = 2,7,7)))
y			= (IfElse(Var(4) = 3,-9.4,-7.22))

[State 1030:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 5, > 0)
y			= (IfElse(Var(4) = 3,0.533,0.416))

[State 1030:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 16, > 0)
y			= 0.25

[State 1030:	VelAdd]
type			= VelAdd
trigger1		= (Var(4) = 2) && (AnimElem = 8, > 0) && (Vel X > 1)
x			= -0.15

[State 1030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S(Var(20)),5
channel		= 0

[State 1030:	Explod]
type			= Explod
trigger1		= (AnimElem = 4) || (AnimElem = 5)
anim			= 9070
id			= 9070
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1030: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64)),11
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S(IfElse(Var(21) > 0,9042,9041))
guard.sparkno	= S9060
sparkxy		= -10,-80
hitsound		= S2,10
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.6,-12.25
guard.velocity	= -14.4
air.velocity	= -1.6,-12.25
airguard.velocity	= -1.6,-12.25
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
fall			= 1
fall.recover	= 0
id			= 1030
getpower		= 133,133
givepower		= 33

[State 1030: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 11, = 0) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41)),5
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9048
guard.sparkno	= S9060
sparkxy		= -10,-100
hitsound		= S2,10
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= (IfElse(Var(4) = 1,-1.6,IfElse(Var(4) = 2,-2,-2.5))),-8
guard.velocity	= -14.4
air.velocity	= (IfElse(Var(4) = 1,-1.6,IfElse(Var(4) = 2,-2,-2.5))),-8
airguard.velocity	= (IfElse(Var(4) = 1,-1.6,IfElse(Var(4) = 2,-2,-2.5))),-8
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
fall			= 1
fall.recover	= 0
id			= 1030
getpower		= 8,8
givepower		= 0

[State 1030:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

;---------------------------------------------------------------------------
;Zenpou Tenshin
[Statedef 1040]
type 			= S
movetype		= A
physics		= S
anim			= 1040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1040: 	HitDef]
type			= HitDef
trigger1		= (NumTarget = 0) && (AnimElem = 3, = 0) && (P2MoveType != H)
trigger2		= (NumTarget > 0)
trigger2		= (AnimElem = 3, = 0) && (Target, StateNo = 6300)
attr			= S, ST
hitflag		= M
priority		= 1, Miss
sparkno		= -1
hitsound		= S1,7
guard.dist		= 0
snap			= 67,0
p2facing		= 1
p1stateno		= 1041
p2stateno		= 1045
forcestand		= 1
fall			= 0
id			= 1041
getpower		= 0
givepower		= 0

[State 1040:	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Zenpou Tenshin (Success)
[Statedef 1041]
type 			= S
movetype		= A
physics		= N
anim			= 1041
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1041: 	Width]
type			= Width
trigger1		= (AnimElem = 10, > 0) && (AnimElem = 12, < 0)
edge			= 25,0
player		= 0,0

[State 1041: 	Width]
type			= Width
trigger1		= (AnimElem = 12, > 0) && (AnimElem = 14, < 0)
edge			= 50,0
player		= 0,0

[State 1041: 	Width]
type			= Width
trigger1		= (AnimElem = 14, > 0) && (AnimElem = 17, < 0)
edge			= 75,0
player		= 0,0

[State 1041: 	Width]
type			= Width
trigger1		= (AnimElem = 17, > 0) && (AnimElem = 18, < 0)
edge			= 100,0
player		= 0,0

[State 1041:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 5)
value			= -2

[State 1041:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 18)
value			= 2

[State 1041:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S(Var(20)),2

[State 1041:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S2,2

[State 1041:	BindToTarget]
type			= BindToTarget
trigger1		= (AnimElem = 1, >= 0) && (AnimElem = 5, < 0)
time			= 1
id			= 1041
pos			= 67,0,foot

[State 1041:	BindToTarget]
type			= BindToTarget
trigger1		= (AnimElem = 5, >= 0) && (AnimElem = 16, < 0)
time			= 1
id			= 1041
pos			= -10,0,foot

[State 1041:	BindToTarget]
type			= BindToTarget
trigger1		= (AnimElem = 16, >= 0) && (AnimElem = 18, < 0)
time			= 1
id			= 1041
pos			= -20,0,foot

[State 1041:	PosAdd]
type			= PosAdd
trigger1		= (!AnimTime)
x			= 70

[State 1041:	Turn]
type			= Turn
trigger1		= (!AnimTime)

[State 1041:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Zenpou Tenshin (Opponent)
[Statedef 1045]
type 			= S
movetype		= H
physics		= N
;anim			= 1045
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 1045:	ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 1045

[State 1045:	SelfState]
type			= SelfState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Raigeki Shuu
[Statedef 1050]
type 			= A
movetype		= A
physics		= N
anim			= 1050
velset		= 0,0
ctrl			= 0
poweradd		= 16
juggle		= (IfElse(Var(21) > 0,0,5))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1050: 	Width]
type			= Width
trigger1		= (AnimElem = 4, > 0)
edge			= 25,0
player		= 25,0

[State 1050:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1050)) && (MoveHit)
var(11)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1050:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= (IfElse(Var(4) = 1,1,IfElse(Var(4) = 2,6,8)))
y			= 3

[State 1050:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0)
y			= 0.35

[State 1050:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S(Var(20)),5
channel		= 0

[State 1050:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4) && (P2StateNo != [5030,5050])
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9046,9027))
guard.sparkno	= S9050
sparkxy		= -10,-13
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.49
ground.velocity	= -8.8
guard.velocity	= -8.8
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -16.6
fall.recover	= 0
id			= 1050
getpower		= 66,66
givepower		= 16

[State 1050:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4) && (P2StateNo = [5030,5050]) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Medium
air.animtype	= Back
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((41*(16-Var(11)+2)/16) > 5, 41*(16-Var(11)+2)/16,5),41))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S(IfElse(Var(21) > 0,9046,9027))
guard.sparkno	= S9050
sparkxy		= -10,-13
hitsound		= S2,(IfElse(Var(21) > 0,10,8))
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -8.8
guard.velocity	= -8.8
air.velocity	= -4,-4
airguard.velocity	= -4,-4
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -16.6
p2stateno		= 5021
fall.recover	= 0
id			= 1050
getpower		= 66,66
givepower		= 16

[State 1050:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 8) && (Vel Y > 0)
value			= 1051

;---------------------------------------------------------------------------
;Raigeki Shuu (Land)
[Statedef 1051]
type 			= S
movetype		= I
physics		= S
anim			= 1051
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1051:	CtrlSet]
type			= CtrlSet
trigger1		= (Time > 5)
value			= 1

[State 1051:	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 1051:	PosAdd]
type 			= PosAdd
trigger1 		= (!Time)
x 			= 30

[State 1051:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,0

[State 1051: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Senkyuutai
[Statedef 1060]
type 			= S
movetype		= A
physics		= N
anim			= 1060
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 3

[State 1060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4)
x			= 8.2

[State 1060:	Explod]
type			= Explod
trigger1		= (AnimElem = 4, > 0) && ((GameTime%5) = 0)
anim			= 9070
id			= 9070
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1060:	ChangeState]
type			= ChangeState
trigger1		= ((Var(4) = 1) && (AnimElem = 3)) || ((Var(4) = 1) && (AnimElem = 12, > 2)) || ((Var(4) = 2) && (AnimElem = 30, > 2))
trigger2		= (Var(4) > 1) && (P2BodyDist X < 5)
value			= 1061

;---------------------------------------------------------------------------
;Senkyuutai (Ascend)
[Statedef 1061]
type 			= A
movetype		= A
physics		= N
anim			= 1061
;velset		= 0,0
ctrl			= 0
poweradd		= 25
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 5)
x			= 2.5
y			= (IfElse(Var(4) = 1,-7.1,IfElse(Var(4) = 2,-7.2,-5.2)))

[State 1061:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 5, > 0)
y			= (IfElse(Var(4) = 1,0.4,IfElse(Var(4) = 2,0.54,0.375)))

[State 1061:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S(Var(20)),5
channel		= 0

[State 1061:	Explod]
type			= Explod
trigger1		= (AnimElem = 7, < 0) && ((GameTime%5) = 0)
anim			= 9070
id			= 9070
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1061:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-60
hitsound		= S2,10
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.25,-8
guard.velocity	= -13.6
air.velocity	= -1.25,-8
airguard.velocity	= -1.25,-8
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 1061
getpower		= 133,133
givepower		= 16

[State 1061:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 5) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((47*(16-Var(11)+2)/16) > 5, 47*(16-Var(11)+2)/16,5),47))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-121
hitsound		= S2,10
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.25,-8
guard.velocity	= -13.6
air.velocity	= -1.25,(IfElse(Var(4) = 3,-10,-8))
airguard.velocity	= -1.25,(IfElse(Var(4) = 3,-10,-8))
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 1061
getpower		= 8,8
givepower		= 0

[State 1061:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6) && (P2StateNo != 5040) && (Var(21) > 0)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((47*(16-Var(11)+2)/16) > 5, 47*(16-Var(11)+2)/16,5),47))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-121
hitsound		= S2,10
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.25,-8
guard.velocity	= -13.6
air.velocity	= -1.25,(IfElse(Var(4) = 3,-10,-8))
airguard.velocity	= -1.25,(IfElse(Var(4) = 3,-10,-8))
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 1061
getpower		= 8,8
givepower		= 0

[State 1061:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Zesshou Hohou EX
[Statedef 2000]
type 			= S
movetype		= A
physics		= N
anim			= 2000
velset		= 0,0
ctrl			= 0
poweradd		= -333
juggle		= (IfElse(Var(21) > 0,0,2))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 6)
statetype		= A

[State 2000: 	Width]
type			= Width
trigger1		= (AnimElem = 6, > 0)
edge			= 25,0
player		= 25,0

[State 2000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 7, = 3)
value			= 1000
elem			= 8

[State 2000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 8, = 3)
value			= 1000
elem			= 7

[State 2000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Pos Y >= -12) && (Vel Y > 0)
value			= 2000
elem			= 9
persistent		= 0

[State 2000:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2000)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 2000:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2000)) && (HitPauseTime = 1) && (!MoveGuarded)
var(25)		= 6
persistent		= 0
ignorehitpause	= 1

[State 2000:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 6)
x			= 11.25
y			= -2.5

[State 2000:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 7, > 0)
x			= 0.25
y			= 0.54

[State 2000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 1) || (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 4) || (AnimElem = 5)
x			= 12

[State 2000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S(Var(20)),4
channel		= 0

[State 2000:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,10

[State 2000: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 3
framegap 		= 2
length 		= 6
paladd 		= 100,100,0
palmul 		= 1,1,1
palcontrast 	= 200,200,200
palcolor		= 10
trans 		= none

[State 2000: 	AfterImageTime]
type 			= AfterImageTime
trigger1		= (Pos Y > -13) && (Vel Y > 0)
time 			= 0

[State 2000: 	PalFX]
type 			= PalFX
trigger1		= ((GameTime%2) = 0)
time 			= 1
add 			= 100,100,0
mul 			= 256,256,256
sinadd 		= 125,125,0,1
invertall 		= 0
color 		= 10

[State 2000:	Explod]
type			= Explod
trigger1		= ((AnimElem = 6) || (AnimElem = 7) || (AnimElem = 8)) && (Vel Y <= -2)
anim			= 9070
id			= 9070
pos			= -60,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2000:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9140
id			= 9140
pos			= 44,-68
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2000:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6, > 0) && (AnimElem = 6, < 2) && (!MoveContact) && (Vel Y < -2.45) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Up
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((47*(16-Var(11)+2)/16) > 5, 47*(16-Var(11)+2)/16,5),47)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9043
guard.sparkno	= S9060
sparkxy		= -10,-75
hitsound		= S2,6
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -6.5,0
guard.velocity	= -13.6
air.velocity	= -15,-7
airguard.velocity	= -15,-7
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
air.fall		= 1
fall.recover	= 0
id			= 2000
getpower		= 0
givepower		= 0

[State 2000:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6, >= 2) && (Vel Y > 0) && (P2StateNo != [5020,5050]) && (HitCount < 2)
attr			= S, SA
hitflag		= MA
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 3, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((82*(16-Var(11)+2)/16) > 5, 82*(16-Var(11)+2)/16,5),82)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9044
guard.sparkno	= S9060
sparkxy		= -10,-75
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -15,-4
guard.velocity	= -13.6
air.velocity	= -15,-4
airguard.velocity	= -15,-4
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 2000
getpower		= 0
givepower		= 0
persistent		= 0

[State 2000:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 2001

;---------------------------------------------------------------------------
;Zesshou Hohou EX (Land)
[Statedef 2001]
type 			= A
movetype		= A
physics		= S
anim			= 2001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2001: 	Width]
type			= Width
trigger1		= 1
edge			= 0,0
player		= 10,0

[State 2001:	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 2001:	PosAdd]
type 			= PosAdd
trigger1 		= (!Time)
x 			= 35

[State 2001: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tetsuzan Kou EX
[Statedef 2020]
type 			= S
movetype		= A
physics		= N
anim			= 2020
velset		= 0,0
ctrl			= 0
poweradd		= -333
juggle		= (IfElse(Var(21) > 0,0,2))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2020: 	Width]
type			= Width
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 6, < 0)
edge			= 15,0
player		= 30,30

[State 2020: 	Width]
type			= Width
trigger1		= (AnimElem = 6, > 0)
edge			= 35,0
player		= 35,0

[State 2020:	VarSet]
type			= VarSet
triggerall		= (NumTarget(2020))
trigger1		= (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 2020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2020)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 2020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2020)) && (HitPauseTime = 1) && (!MoveGuarded)
var(25)		= 7
persistent		= 0
ignorehitpause	= 1

[State 2020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8)
value			= S(Var(20)),2
channel		= 0

[State 2020:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,10

[State 2020:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 4)
x			= 10

[State 2020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 6, = 0)
x			= 20

[State 2020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 6, = 5)
x			= 35

[State 2020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 7) || (AnimElem = 8)
x			= (IfElse((AnimElem = 7),3,0))

[State 2020: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 3
framegap 		= 2
length 		= 6
paladd 		= 100,100,0
palmul 		= 1,1,1
palcontrast 	= 200,200,200
palcolor		= 10
trans 		= none

[State 2020: 	PalFX]
type 			= PalFX
trigger1		= ((GameTime%2) = 0) && (AnimElem = 10, < 0)
time 			= 1
add 			= 100,100,0
mul 			= 256,256,256
sinadd 		= 125,125,0,1
invertall 		= 0
color 		= 10

[State 2020:	 Explod]
type			= Explod
trigger1		= (AnimElem = 6)
anim			= 9080
id			= 9080
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2020:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9140
id			= 9140
pos			= 30,-60
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2020:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Back
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9043
guard.sparkno	= S9060
sparkxy		= -10,-20
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -6.4
guard.velocity	= -6.4
air.velocity	= -3,-5.25
airguard.velocity	= -3,-5.25
ground.cornerpush.veloff = -10.4
air.cornerpush.veloff = -7
air.fall		= 1
fall.recover	= 0
id			= 2020
getpower		= 0
givepower		= 0

[State 2020:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 9) && (P2StateNo != 5040)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64)),5
pausetime		= 6,6
guard.pausetime	= 6,6
sparkno		= S9044
guard.sparkno	= S9060
sparkxy		= -10,-70
hitsound		= S2,6
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -20,-8.25
guard.velocity	= -8.8
air.velocity	= -20,-8.25
airguard.velocity	= -20,-8.25
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -16.6
fall 			= 1
fall.recover	= 0
id			= 2020
getpower		= 0
givepower		= 0

[State 2020:	CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 17)
value			= 1

[State 2020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Nishou Kyaku EX
[Statedef 2030]
type 			= S
movetype		= A
physics		= N
anim			= 2030
velset		= 0,0
ctrl			= 0
poweradd		= -333
juggle		= (IfElse(Var(21) > 0,0,4))
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2030: 	Width]
type			= Width
triggerall		= (MoveContact)
trigger1		= (EnemyNear, BackEdgeBodyDist < 5) && (EnemyNear, StateType = A)
edge			= (Time+5),0
player		= 0,0

[State 2030:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 4)
statetype		= A

[State 2030:	VarSet]
type			= VarSet
triggerall		= (NumTarget(2030))
trigger1		= (Pos Y >= 0) && (Target, BackEdgeBodyDist < 5) && (Target, StateType = A)
var(19)		= 1

[State 2030:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2030)) && (HitPauseTime = 1) && (!MoveGuarded)
var(11)		= 1
ignorehitpause	= 1

[State 2030:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2030)) && (HitPauseTime = 1) && (!MoveGuarded)
var(25)		= 6
persistent		= 0
ignorehitpause	= 1

[State 2030:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4)
x			= 4.5
y			= -10

[State 2030:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 5, > 0)
y			= 0.533

[State 2030:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 16, > 0)
y			= 0.25

[State 2030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S(Var(20)),5
channel		= 0

[State 2030:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,10

[State 2030: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 3
framegap 		= 2
length 		= 6
paladd 		= 100,100,0
palmul 		= 1,1,1
palcontrast 	= 200,200,200
palcolor		= 10
trans 		= none

[State 2030: 	PalFX]
type 			= PalFX
trigger1		= ((GameTime%2) = 0)
time 			= 1
add 			= 100,100,0
mul 			= 256,256,256
sinadd 		= 125,125,0,1
invertall 		= 0
color 		= 10

[State 2030:	Explod]
type			= Explod
trigger1		= (AnimElem = 4) || (AnimElem = 5)
anim			= 9070
id			= 9070
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2030:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9140
id			= 9140
pos			= 0,-25
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2030: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, = 0) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((64*(16-Var(11)+2)/16) > 5, 64*(16-Var(11)+2)/16,5),64)),11
pausetime		= 4,4
guard.pausetime	= 4,4
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-80
hitsound		= S2,10
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -2,-10
guard.velocity	= -14.4
air.velocity	= -2,-12
airguard.velocity	= -2,-10
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
fall			= 1
fall.recover	= 0
id			= 2030
getpower		= 0
givepower		= 0

[State 2030: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 11, = 0) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((76*(16-Var(11)+2)/16) > 5, 76*(16-Var(11)+2)/16,5),76)),11
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9048
guard.sparkno	= S9060
sparkxy		= -10,-100
hitsound		= S2,10
guardsound		= S2,11
ground.type		= High
air.type		= High
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -3,-12
guard.velocity	= -14.4
air.velocity	= -4,-12
airguard.velocity	= -4,-10
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
fall			= 1
fall.recover	= 0
id			= 2030
getpower		= 0
givepower		= 0

[State 2030:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

;--------------------------------------------------------------------------
;Senkyuutai (EX)
[Statedef 2060]
type 			= S
movetype		= A
physics		= N
anim			= 2060
velset		= 0,0
ctrl			= 0
poweradd		= -333
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 3

[State 2060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4)
x			= 12

[State 2060:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,10

[State 2060: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 3
framegap 		= 2
length 		= 6
paladd 		= 100,100,0
palmul 		= 1,1,1
palcontrast 	= 200,200,200
palcolor		= 10
trans 		= none

[State 2060: 	PalFX]
type 			= PalFX
trigger1		= ((GameTime%2) = 0)
time 			= 1
add 			= 100,100,0
mul 			= 256,256,256
sinadd 		= 125,125,0,1
invertall 		= 0
color 		= 10

[State 2060:	Explod]
type			= Explod
trigger1		= (AnimElem = 4, > 0) && ((GameTime%5) = 0)
anim			= 9070
id			= 9070
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2060:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9140
id			= 9140
pos			= -8,-26
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2060:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime) || (P2BodyDist X < 5)
value			= 2061

;---------------------------------------------------------------------------
;Senkyuutai (EX, Ascend)
[Statedef 2061]
type 			= A
movetype		= A
physics		= N
anim			= 2061
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 5)
x			= 2.5
y			= -5.7

[State 2061:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 5, > 0)
y			= 0.375

[State 2061:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S(Var(20)),5
channel		= 0

[State 2061: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
timegap		= 3
framegap 		= 2
length 		= 6
paladd 		= 100,100,0
palmul 		= 1,1,1
palcontrast 	= 200,200,200
palcolor		= 10
trans 		= none

[State 2061: 	PalFX]
type 			= PalFX
trigger1		= ((GameTime%2) = 0) && (Time < 20)
time 			= 1
add 			= 100,100,0
mul 			= 256,256,256
sinadd 		= 125,125,0,1
invertall 		= 0
color 		= 10

[State 2061:	Explod]
type			= Explod
trigger1		= (AnimElem = 7, < 0) && ((GameTime%5) = 0)
anim			= 9070
id			= 9070
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2061:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((76*(16-Var(11)+2)/16) > 5, 76*(16-Var(11)+2)/16,5),76))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-60
hitsound		= S2,10
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.25,-8
guard.velocity	= -13.6
air.velocity	= -1.25,-8
airguard.velocity	= -1.25,-8
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 2061
getpower		= 0
givepower		= 0

[State 2061:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 5) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((11*(16-Var(11)+2)/16) > 5, 11*(16-Var(11)+2)/16,5),11))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-121
hitsound		= S2,10
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.25,-8
guard.velocity	= -13.6
air.velocity	= -1.25,-10
airguard.velocity	= -1.25,-10
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 2061
getpower		= 0
givepower		= 0

[State 2061:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6) && (P2StateNo != 5040)
attr			= A, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Up
priority		= 4, Hit
damage		= Ceil(IfElse(Var(11) >= 2, IfElse((70*(16-Var(11)+2)/16) > 5, 70*(16-Var(11)+2)/16,5),70))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9041
guard.sparkno	= S9060
sparkxy		= -10,-121
hitsound		= S2,10
guardsound		= S2,11
ground.type		= Low
air.type		= Low
ground.slidetime	= 14
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.49
ground.velocity	= -1.25,-8
guard.velocity	= -13.6
air.velocity	= -1.25,-10
airguard.velocity	= -1.25,-10
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
fall			= 1
fall.recover	= 0
id			= 2061
getpower		= 0
givepower		= 0

[State 2061:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;===========================================================================
;-| Hyper |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Genei Jin
[Statedef 3020]
type 			= S
movetype		= I
physics		= S
anim 			= 3020
velset		= 0,0
ctrl			= 0
poweradd		= -1000
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3020:	Null]
type			= Null
trigger1		= (AnimElem = 11)
trigger1		= (Var(21) := 72)
trigger2		= (Time = 1)
trigger2		= (Var(22) := Power)

[State 3020: 	Pause]
type 			= Pause
trigger1 		= (!Time)
time 			= 65
movetime 		= 65

[State 3020:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 65
add			= -43,-43,-43
mul			= 256,256,256
sinadd		= 0,0,0,0
invertall		= 0
color			= 256

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 11)
value			= S(Var(20)),12

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S(Var(20)),13

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,13

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 9)
anim			= 9150
id			= 9150
pos			= -10,-75
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 99
scale			= 1,1.25
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 10)
anim			= 3021
id			= 3021
pos			= 80,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -3,0
accel			= 0,0
random		= 0,0
removetime		= 30
supermove		= 0
supermovetime	= 0
pausemovetime	= 99
scale			= 1,1
sprpriority		= 1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 10)
anim			= 3021
id			= 3021
pos			= -70,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 3,0
accel			= 0,0
random		= 0,0
removetime		= 30
supermove		= 0
supermovetime	= 0
pausemovetime	= 99
scale			= 1,1
sprpriority		= 1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;===========================================================================
;-| Misc |------------------------------------------------------------------

;---------------------------------------------------------------------------
;Parrying (Stand, Crouch)
[Statedef 7000]
type 			= U
movetype		= I
physics		= U
anim 			= (IfElse(StateType = S,7000,7001))
velset		= 0,0
ctrl			= 0
poweradd		= 33
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7000:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk

[State 7000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time)
movetype		= H

[State 7000:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(12) := 0) && (Var(13) := 1) && (Var(17) := GetHitVar(HitShakeTime))
trigger2		= (Command = "holdfwd") && (Var(12) = 0) && (Var(13) = 0)
trigger2		= (Var(12) := 4)

[State 7000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time)
movetype		= I

[State 7000: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (Time < Floor(Var(17)*1.5)+3)
value 		= SCA
time			= 2

[State 7000: 	Pause]
type 			= Pause
trigger1 		= (AnimElem = 2)
time 			= Floor(Var(17)*1.5)+5
movetime 		= Floor(Var(17)*1.5)+1

[State 7000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 0) || (AnimElem = 3, = 4) || (AnimElem = 3, = 8)
x			= 2

[State 7000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 1) || (AnimElem = 3, = 5) || (AnimElem = 3, = 9)
x			= -2

[State 7000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,5

[State 7000:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= -1

[State 7000: 	PalFX]
type 			= PalFX
trigger1		= (!Time) && (Var(14) = 0)
time 			= 12
add 			= 0,0,0
mul 			= 256,256,256
sinadd 		= 25,50,255,14
invertall 		= 0
color 		= 100

[State 7000: 	PalFX]
type 			= PalFX
trigger1		= (!Time) && (Var(14) = 1)
time 			= 12
add 			= 0,0,0
mul 			= 256,256,256
sinadd 		= 255,50,25,14
invertall 		= 0
color 		= 100

[State 7000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9130
id			= 9130
pos			= 45,(IfElse(StateType = S,-57,-32))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 12
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7000: 	HitOverride]
type 			= HitOverride
triggerall 		= (Var(12) > 0) && (Command = "holdfwd")
trigger1 		= (Command != "holddown") && (Command != "holdback")
attr 			= SA,NA,SA,HA,NP,SP,HP
slot 			= 2
stateno 		= 7000
ignorehitpause 	= 1

[State 7000:	CtrlSet]
type			= CtrlSet
trigger1		= (Time > Floor(Var(17)*1.5))
value			= 1

[State 7000:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(StateType = S,0,11))
ctrl			= 1

;---------------------------------------------------------------------------
;Parrying (Air)
[Statedef 7005]
type 			= A
movetype		= I
physics		= N
anim 			= 7005
;velset		= 0,0
ctrl			= 0
poweradd		= 33
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7005:	StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time)
movetype		= H

[State 7005:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(12) := 0) && (Var(13) := 1) && (Var(17) := GetHitVar(HitShakeTime))
trigger2		= (Command = "holdfwd") && (Var(12) = 0) && (Var(13) = 0)
trigger2		= (Var(12) := 8)

[State 7005:	VarSet]
type			= VarSet
trigger1		= (!Time)
fvar(0) 		= Vel X

[State 7005:	StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time)
movetype		= I

[State 7005: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (Time < Floor(Var(17)*1.5)+3)
value 		= SCA
time			= 2

[State 7005: 	Pause]
type 			= Pause
trigger1 		= (AnimElem = 2)
time 			= Floor(Var(17)*1.5)+5
movetime 		= Floor(Var(17)*1.5)+2

[State 7005:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 7005:	VelSet]
type			= VelSet
trigger1		= (Time = 19)
y			= -2

[State 7005:	VelSet]
type			= VelSet
trigger1		= (Time = 20)
x			= FVar(0)

[State 7005:	VelAdd]
type			= VelAdd
trigger1		= (Time > 19)
y			= 0.54

[State 7005:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 4) || (AnimElem = 2, = 8)
x			= 2

[State 7005:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 5) || (AnimElem = 2, = 9)
x			= -2

[State 7005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,5

[State 7005:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= -1

[State 7005: 	PalFX]
type 			= PalFX
trigger1		= (!Time) && (Var(14) = 0)
time 			= 12
add 			= 0,0,0
mul 			= 256,256,256
sinadd 		= 25,50,255,14
invertall 		= 0
color 		= 100

[State 7005: 	PalFX]
type 			= PalFX
trigger1		= (!Time) && (Var(14) = 1)
time 			= 12
add 			= 0,0,0
mul 			= 256,256,256
sinadd 		= 255,50,25,14
invertall 		= 0
color 		= 100

[State 7005:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9130
id			= 9130
pos			= 20,-100
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 12
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7005:	CtrlSet]
type			= CtrlSet
trigger1		= (Time > Floor(Var(17)*1.5))
value			= 1

[State 7005:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

;---------------------------------------------------------------------------
;Parrying (Window)
[Statedef 7006]
type 			= A
movetype		= I
physics		= N
anim			= 7006
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7006:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 7006:	ParentVarSet]
type			= ParentVarSet
trigger1		= (!Time)
var(12)		= 10
ignorehitpause	= 1

[State 7006:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, Command != "holdfwd")

;===========================================================================
;-| Effects/Helper |--------------------------------------------------------

;---------------------------------------------------------------------------
;Super KO
[Statedef 9001]
type 			= A
movetype		= I
physics 		= N
anim 			= 11010
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9001: 	AssertSpecial] 
type 			= AssertSpecial
trigger1		= (Time < 39)
flag			= NoBarDisplay
flag2			= NoBG
flag3			= NoFG

[State 9001: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag			= NoMusic

[State 9001:	BGPalFX]
type			= BGPalFX
trigger1		= 1
time			= 1
add			= (Time*3),(Time*3),(Time*3)
mul			= 256,256,256
;sinadd		= 0,0,0,0
invertall		= 0
color			= 256

[State 9001:	EnvColor]
type			= EnvColor
trigger1		= (Time < 39)
value			= (Time*4),(Time*4),(Time*4)
time			= 1
under			= 1

[State 9001:	EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 25
freq			= 200
ampl			= -5
phase			= 90

[State 9001:	PlaySnd]
type 			= PlaySnd
trigger1		= (!Time)
value 		= S1,11
ignorehitpause	= 1

[State 9001:	Explod]
type			= Explod
trigger1 		= (!Time)
anim			= 9001
id			= 9001
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= 40
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 40
supermove		= 0
supermovetime	= 40
pausemovetime	= 40
scale			= 1,1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9001:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 40)

;---------------------------------------------------------------------------
;Artificial Intelligence
[Statedef 11000]
type 			= S
movetype		= I
physics		= N
anim			= 11020
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11000:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= (Parent, ID)

[State 11000: 	ParentVarSet]
type 			= ParentVarSet
triggerall		= (PlayerIDExist(Var(0)))
triggerall 		= (Parent, Var(2) != 1)
trigger1 		= ((Parent, Command = "x") && (Command != "x")) || ((Parent, Command = "y") && (Command != "y")) || ((Parent, Command = "z") && (Command != "z"))
trigger2 		= ((Parent, Command = "a") && (Command != "a")) || ((Parent, Command = "b") && (Command != "b")) || ((Parent, Command = "c") && (Command != "c"))
var(2)		= 1

[State 11000: 	ParentVarSet]
type 			= ParentVarSet
triggerall		= (PlayerIDExist(Var(0)))
triggerall 		= (Parent, Var(2) != -1)
trigger1 		= ((Parent, Command = "x") && (Command = "x")) || ((Parent, Command = "y") && (Command = "y")) || ((Parent, Command = "z") && (Command = "z"))
trigger2 		= ((Parent, Command = "a") && (Command = "a")) || ((Parent, Command = "b") && (Command = "b")) || ((Parent, Command = "c") && (Command = "c"))
var(2)		= -1

[State 11000:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, Var(2) = -1)

;---------------------------------------------------------------------------
;Camera
[Statedef 11010]
type 			= A
movetype		= I
physics		= N
anim			= 11010
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11010:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 1,1

[State 11010:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= (Parent, Pos X)
y			= 0

[State 11010:	DestroySelf]
type			= DestroySelf
trigger1		= (RoundState = 2)

;===========================================================================
;-| Common |----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand
[Statedef 0]
type 			= S
movetype		= I
physics		= S
;anim			= 0
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 0:		ChangeAnim]
type 			= ChangeAnim
trigger1 		= ((Anim != [0,2]) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value			= (IfElse((PalNo = 12),2,0))

[State 0:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 0) && (!AnimTime) && (Random <= 75)
value			= 1

[State 0:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 1) && (!AnimTime)
value			= 0
elem			= 12

[State 0: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
y 			= 0

[State 0: 		VelSet] 
type 			= VelSet
trigger1 		= (Abs(Vel X) < 2) || (Time = 4)
x 			= 0

;---------------------------------------------------------------------------
;Stand to Crouch
[Statedef 10]
type 			= C
movetype		= I
physics		= C
anim			= 10
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 10: 		VelMul]
type 			= VelMul
trigger1 		= (!Time)
x 			= .75

[State 10: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 11

[State 10:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Crouching
[Statedef 11]
type 			= C
movetype		= I
physics		= C
anim			= 11
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11: 		ChangeAnim] 
type 			= ChangeAnim
trigger1 		= (Anim = 6) && (!AnimTime)
value 		= 11

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (RoundState != 2)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Crouch to Stand
[Statedef 12]
type 			= S
movetype		= I
physics		= S
anim			= 12
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 12: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

[State 12:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Walk
[Statedef 20]
type 			= S
movetype		= I
physics		= S
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdfwd")
x 			= Const(Velocity.Walk.Fwd.X)

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdback")
x 			= Const(Velocity.Walk.Back.X)

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X > 0)
trigger1 		= ((Anim != 20) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 20

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X < 0)
trigger1 		= ((Anim != 21) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 21

[State 20:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Jump Start
[Statedef 40]
type 			= S
movetype		= I
physics		= S
anim			= 40
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 40:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Var(0) != 0)
value			= 40
elem			= 2
persistent		= 0

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 40:		Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(0) := 0)
trigger2		= (Var(0) = 0) && (Command = "Long Jump")
trigger2		= (Var(0) := (IfElse((PrevStateNo = [0,40]),1,2)))

[State 40:		PlaySnd]
type			= PlaySnd
trigger1 		= ((AnimElem = 1, = 3) && (Var(0) = 0)) || ((!AnimTime) && (Var(0) != 0))
value			= S1,4

[State 40:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 2, = 0)
x			= 0
y			= 0

[State 40: 		VelSet]
type 			= VelSet
trigger1 		= ((AnimElem = 1, = 3) && (Var(0) = 0)) || ((!AnimTime) && (Var(0) != 0))
x 			= IfElse(SysVar(1) = 0,Const(Velocity.Jump.Neu.X),IfElse(SysVar(1) = 1,Const(Velocity.Jump.Fwd.X),Const(Velocity.Jump.Back.X)))
y 			= Const(Velocity.Jump.Y)

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= ((AnimElem = 1, = 3) && (Var(0) = 0)) || ((!AnimTime) && (Var(0) != 0))
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;AirJump Start
[Statedef 45]
type 			= A
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(44))
value 		= 44

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!SelfAnimExist(44))
value 		= 41

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 45: 		VelSet]
type 			= VelSet
trigger1 		= (Time = 2)
x 			= IfElse(SysVar(1) = 0, Const(Velocity.AirJump.Neu.X), IfElse(SysVar(1) = 1, Const(Velocity.AirJump.Fwd.X), Const(Velocity.AirJump.Back.X)))
y 			= Const(Velocity.AirJump.Y)

[State 45: 		ChangeState]
type 			= ChangeState
trigger1 		= (Time = 2)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type 			= A
movetype		= I
physics		= A
;anim			= 50
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (SelfAnimExist(Anim + 3))
value 		= (Anim + 3)
persistent 		= 0

[State 50: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 50:		VarSet]
type			= VarSet
trigger1		= (Time) && (Var(0) != 0)
var(0)		= 0

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) != 0)
x 			= IfElse((Vel X) = 0,0,IfElse((Vel X) > 0,1.75,-0.75))

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) != 0)
y			= -1.25

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) != 0) && (SysVar(1) = 0)
x			= -1

[State 50: 		AfterImage]
type 			= AfterImage
trigger1 		= (!Time) && (Var(0) != 0)
time 			= 8
timegap		= 3
framegap 		= 2
length 		= 4
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 255,255,255
trans 		= none

;---------------------------------------------------------------------------
;Jump Down (empty state for compatibility)
[Statedef 51]
type 			= A
physics 		= A

[State 51: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != [41,43])
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 51:		Null]
type 			= Null
trigger1 		= 1

;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type 			= S
movetype		= I
physics		= S
anim			= (IfElse(Vel X = 0,47,IfElse(Vel X > 0,48,49)))
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 52:		VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 0

[State 52:		CtrlSet]
type			= CtrlSet
trigger1		= (Time > 5)
value			= 1

[State 52: 		PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 52:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,0

[State 52: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) || (P2Dist X < 0)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Run_Fwd
[Statedef 100]
type 			= S
movetype		= I
physics		= N
anim			= 100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 100:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Pos Y > 0) && (Vel Y > 0)
value			= 100
elem			= 5

[State 100: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3)
x 			= Const(Velocity.Run.Fwd.X)
y 			= Const(Velocity.Run.Fwd.Y)

[State 100:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 5)
x			= 0.5
y			= 0

[State 100:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 7)
x			= 0

[State 100:		VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 5) && (AnimElem = 5, < 0)
y			= 0.49

[State 100:		PosSet]
type			= PosSet
trigger1		= (AnimElem = 5)
y			= 0

[State 100:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,2

[State 100:		ChangeState]
type			= ChangeState
trigger1 		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Run_Back
[Statedef 105]
type 			= S
movetype		= I
physics		= N
anim			= 105
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 105: 	AssertSpecial]
type 			= AssertSpecial
trigger1 		= 1
flag 			= NoWalk
flag2 		= NoAutoTurn

[State 105: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 4) || (AnimElem = 10)
x			= Const(Velocity.Run.Back.X)

[State 105: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 8)
x			= 0

[State 105: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 16)
x			= 0

[State 105:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,2

[State 105:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 9) || (AnimElem = 16)
value			= S1,0

[State 105:		ChangeState]
type			= ChangeState
trigger1 		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Run_Up
[Statedef 110]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 110: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 110: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, NT, ST, HT
time 			= 30

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= -7

[State 110: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 110: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Run_Down
[Statedef 115]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 115: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 115: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, AT
time 			= 30

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= 7

[State 115: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 115: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Guard Start
[Statedef 120]
type 			= U 
physics 		= U

[State 120: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (StateType != A)
value 		= 120 + (StateType = C) + (StateType = A)*2

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 120: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 130 + (StateType = C) + (StateType = A)*2

[State 120:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") || (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Stand Guard (Guarding)
[Statedef 130]
type 			= S
physics		= S

[State 130:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 130: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 130)
value 		= 130

[State 130:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 130:		ChangeState]
type 			= ChangeState
trigger1 		= (Command = "holddown")
value 		= 131

[State 130:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") || (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Crouch Guard (Guarding)
[Statedef 131]
type 			= C
physics		= C

[State 131:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 131: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 131)
value 		= 131

[State 131:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 131:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holddown")
value 		= 130

[State 131:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") || (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Air Guard (Guarding)
[Statedef 132]
type 			= A
physics		= N

[State 132: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 132: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 132: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 132: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 132:		ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command = "holdback") && (InGuardDist)
value 		= 130

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 52

[State 132:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") && (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Guard End
[Statedef 140]
type 			= U
physics 		= U
ctrl 			= 1

[State 140: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (StateType != A)
value 		= 140 + (StateType = C) + (StateType = A)*2

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 140:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 140:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 140:		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= (StateType = C)*11 + (StateType = A)*51

;---------------------------------------------------------------------------
;Stand GuardHit (Shaking)
[Statedef 150]
type 			= S
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 150: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= (IfElse((EnemyNear, Pos Y < 0),160,150))
persistent		= (IfElse((EnemyNear, Pos Y < 0),0,1))

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command = "holdback")
value 		= 151 + 2*(Command = "holddown")

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command != "holdback")
value 		= 161 + 2*(Command = "holddown")

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback")
value 		= 160

[State 150:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 150:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 150: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 3

;---------------------------------------------------------------------------
;Stand GuardHit (Knocked Back)
[Statedef 151]
type 			= S
movetype		= H
physics		= S
;anim			= 150
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 151:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 160)
value			= 150

[State 151: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 151: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 151: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 151:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 151:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 151: 	ChangeState]
type 			= ChangeState
trigger1 		= Time >= GetHitVar(hittime)
value 		= 130
ctrl 			= 1

;---------------------------------------------------------------------------
;Crouch GuardHit (Shaking)
[Statedef 152]
type 			= C
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 152: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 151

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command = "holdback")
value 		= 151 + 2*(Command = "holddown")

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command != "holdback")
value 		= 161 + 2*(Command = "holddown")

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback")
value 		= 162

[State 152:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 152:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 152: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Crouch GuardHit2 (Knocked Back)
[Statedef 153]
type 			= C
movetype		= H
physics		= C
anim			= 151
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 153: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 153: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 153: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 153:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 153:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 153: 	ChangeState]
type 			= ChangeState
trigger1 		= (Time >= GetHitVar(HitTime))
value 		= 131
ctrl 			= 1

;---------------------------------------------------------------------------
;Air GuardHit (Shaking)
[Statedef 154]
type 			= A
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 154: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 152

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback")
value 		= 164

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command = "holdback")
value 		= 155 

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command != "holdback")
value 		= 165 

[State 154: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Air GuardHit2 (Knocked Away)
[Statedef 155]
type 			= A
movetype		= H
physics		= N
anim			= 152
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 155: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 155: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 155: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 155: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 155: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
trigger1 		= (Command != "holdback") && (InGuardDist)
value 		= 52

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Stand GuardHit (Shaking)
[Statedef 160]
type 			= S
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 160:		NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 1

[State 160: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= (IfElse((EnemyNear, Pos Y < 0),160,150))
persistent		= (IfElse((EnemyNear, Pos Y < 0),0,1))

[State 160: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command = "holdback")
value 		= 151 + 2*(Command = "holddown")

[State 160: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command != "holdback")
value 		= 161 + 2*(Command = "holddown")

[State 160:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 160:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 160: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 3

;---------------------------------------------------------------------------
;Stand GuardHit (Knocked Back)
[Statedef 161]
type 			= S
movetype		= H
physics		= S
;anim			= 150
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 161:		NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 1

[State 161:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 160)
value			= 150

[State 161: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 161: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 161: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 161:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 161:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 161: 	ChangeState]
type 			= ChangeState
trigger1 		= Time >= GetHitVar(hittime)
value 		= 130
ctrl 			= 1

;---------------------------------------------------------------------------
;Crouch GuardHit (Shaking)
[Statedef 162]
type 			= C
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 162:		NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 1

[State 162: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 151

[State 162: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command = "holdback")
value 		= 151 + 2*(Command = "holddown")

[State 162: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Command != "holdback")
value 		= 161 + 2*(Command = "holddown")

[State 162:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 162:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 162: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Crouch GuardHit2 (Knocked Back)
[Statedef 163]
type 			= C
movetype		= H
physics		= C
anim			= 151
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 163:		NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 1

[State 163: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 163: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 163: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 163:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 163:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 163: 	ChangeState]
type 			= ChangeState
trigger1 		= (Time >= GetHitVar(HitTime))
value 		= 131
ctrl 			= 1

;---------------------------------------------------------------------------
;Air GuardHit (Shaking)
[Statedef 164]
type 			= A
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 164:		NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 1

[State 164: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 152

[State 164: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= (IfElse((Command = "holdback"),155,165))

[State 164: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Air GuardHit2 (Knocked Away)
[Statedef 165]
type 			= A
movetype		= H
physics		= N
anim			= 152
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 165:		NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 1

[State 165: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 165: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 165: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 165: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 165: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 165: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 165: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
trigger1 		= (Command != "holdback") && (InGuardDist)
value 		= 52

[State 165: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Lose (Time Over)
[Statedef 170]
type 			= S
movetype		= I
physics		= N
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 170: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Draw Game (Time Over)
[Statedef 175]
type 			= S
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 175: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (!SelfAnimExist(175))
value 		= 170

[State 175: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 175

[State 175: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;HitGround_Shake
[Statedef 5000]
type 			= S
movetype		= H
physics		= N
;anim			= 5000
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5000:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(17)		= (GetHitVar(HitShakeTime))

[State 5000:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Var(17) = [1,9]) && (!EnemyNear, HitDefAttr = SCA,SA,HA)
trigger2		= (PalNo = [7,11])
flag			= NoKOSND

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= IfElse((GetHitVar(GroundType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType)))
value 		= 5047 + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Time > 0)
value 		= Anim

[State 5000: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (GetHitVar(YVel) != 0) && (GetHitVar(Fall)) || (Pos Y != 0)
type 			= A

[State 5000:	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 1) && (Var(17) > 9) && (!Alive) && (PalNo = [7,11]) && (PrevStateNo != 5130)
value			= S11,1
persistent		= 0

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Var(17) < 10) && (!Alive) && (PrevStateNo != 5130) && (!EnemyNear, HitDefAttr = SCA,SA,HA)
value 		= 5130

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(YVel) = 0)
value 		= 5001

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 5030

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5000) || (Anim = 5010)
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5001) || (Anim = 5011)
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030)
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    		= S
movetype		= H
physics 		= S

[State 5001:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
physics		= N

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y >= 0)
x 			= 1

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y < 0)
x 			= 1
y			= 1

[State 5001: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(slidetime)) && (Pos Y >= 0)
x 			= .6

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y >= 0)
x 			= 0

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y < 0)
x 			= 0
y			= 0

[State 5001:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Random < 500) && (Alive)
value			= S(Var(20)),25

[State 5001: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5001: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    		= C
movetype		= H
physics 		= N
velset 		= 0,0

[State 5010:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(17)		= (GetHitVar(HitShakeTime))

[State 5010:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Var(17) = [1,9]) && (!EnemyNear, HitDefAttr = SCA,SA,HA)
trigger2		= (PalNo = [7,11])
flag			= NoKOSND

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= 5020 + GetHitVar(AnimType)

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && ((GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype))))
value 		= 5047 + GetHitVar(AnimType)

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= Time > 0
value 		= Anim

[State 5010:	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 1) && (Var(17) > 9) && (!Alive) && (PalNo = [7,11]) && (PrevStateNo != 5130)
value			= S11,1
persistent		= 0

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (Var(17) < 10) && (!Alive) && (PrevStateNo != 5130) && (!EnemyNear, HitDefAttr = SCA,SA,HA)
value 		= 5130

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(YVel) = 0)
value 		= 5011

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5010: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= Anim = 5020
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5010: 	FFB Medium]
type 			= ForceFeedback
trigger1 		= Anim = 5021
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5010: 	FFB Hard]
type 			= ForceFeedback
trigger1 		= Anim = 5022
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    		= C
movetype		= H
physics 		= C

[State 5011: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 5011: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5025 + GetHitVar(AnimType)

[State 5011: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(SlideTime))
x 			= .6

[State 5011: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver)
x 			= 0

[State 5011:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Random < 500) && (Alive)
value			= S(Var(20)),25

[State 5011: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5011: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 11
ctrl 			= 1

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) != [3,5])
value			= IfElse((GetHitVar(AirType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) = [3,5])
value			= 5030

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) 
trigger1		= (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType)))
value			= 5047 + GetHitVar(AnimType)

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Time > 0)
value			= Anim

[State 5020:	ChangeState]
type			= ChangeState
trigger1		= (HitShakeOver)
value			= 5030

[State 5020:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5000) || (Anim = 5010)
time			= 6
waveform		= Square
persistent		= 0

[State 5020:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5001) || (Anim = 5011)
time			= 8
waveform		= SineSquare
ampl			= 110,-1,-.3
persistent 		= 0

[State 5020:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030) || (Anim = [5051,5059])
time			= 15
waveform		= SineSquare
ampl			= 140
persistent		= 0

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5021]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5021:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) != [3,5])
value			= IfElse((GetHitVar(AirType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5021:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) = [3,5])
value			= 5030

[State 5021:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) 
trigger1		= (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType)))
value			= 5047 + GetHitVar(AnimType)

[State 5021:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Time > 0)
value			= Anim

[State 5021:	HitFallSet]
type			= HitFallSet
trigger1		= (!Time)
value			= (IfElse((((EnemyNear, Var(21) = 0) && (EnemyNear, Var(25) <= (LifeMax*0.064))) || ((EnemyNear, Var(21) > 0) && (EnemyNear, Var(25) <= (LifeMax*0.064)) && (EnemyNear, StateType = A) && (EnemyNear, StateNo != 247))),0,-1))

[State 5021:	SelfState]
type			= SelfState
trigger1		= (HitShakeOver)
value			= 5030

[State 5021:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5000) || (Anim = 5010)
time			= 6
waveform		= Square
persistent		= 0

[State 5021:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5001) || (Anim = 5011)
time			= 8
waveform		= SineSquare
ampl			= 110,-1,-.3
persistent 		= 0

[State 5021:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030) || (Anim = [5051,5059])
time			= 15
waveform		= SineSquare
ampl			= 140
persistent		= 0

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    		= A
movetype		= H
physics 		= N
ctrl 			= 0

[State 5030:	ChangeAnim]
type			= ChangeAnim
trigger1		= (HitFall) && (Vel X <= -8) && (Vel Y >= -5)
value			= 5053

[State 5030:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5030:	HitVelSet]
type			= HitVelSet
trigger1		= (!Time)
x			= 1
y			= 1

[State 5030:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Random < 500) && (Alive)
value			= S(Var(20)),25

[State 5030:	ChangeState]
type			= ChangeState
triggerall		= (!HitFall)
trigger1		= (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value			= 5040

[State 5030:	ChangeState]
type			= ChangeState
triggerall		= HitFall
trigger1		= (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value			= 5050

[State 5030:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5035

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type			= A
movetype		= H
physics		= N

[State 5035:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (SelfAnimExist(5035)) && (Anim != [5051,5059]) && (Anim != 5090)
value			= 5035

[State 5035:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5035:	ChangState]
type			= ChangeState
triggerall		= (!HitFall) || (HitFall)
trigger1		= (HitOver) || (!AnimTime) || ((Vel Y > 0) && (Pos Y >= 10)) || ((!Time) && (Anim != 5035))
value			= IfElse(!HitFall,5040,5050)

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type			= A
movetype		= H
physics		= N

[State 5040:	ChangeState]
type			= ChangeState
trigger1		= (!Alive)
value			= 5050

[State 5040:	ChangeAnim]
type			= ChangeAnim
trigger1		= ((!AnimTime) && (Anim != 5040)) || ((!Time) && (Anim != 5035))
value			= 5040

[State 5040:	CtrlSet]
type			= CtrlSet
trigger1		= (HitOver)
value			= 1

[State 5040:	StateTypeSet]
type			= StateTypeSet
trigger1		= (HitOver)
movetype		= I

[State 5040:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5040:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    		= A
movetype		= H
physics		= N

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 5035)
trigger2		= (!Time) && (Anim != 5035) && (Anim != [5051,5059]) && (Anim != [5061,5069]) && (Anim != 5090)
value			= 5050

[State 5050:	ChangeAnim]
type			= ChangeAnim
triggerall		= (SelfAnimExist(5053)) && (Vel X <= -5) && (Vel Y >= -5)
trigger1		= (!AnimTime) && (Anim = 5035)
trigger2		= (!Time) && (Anim != 5035) && (Anim != [5051,5059]) && (Anim != [5061,5069]) && (Anim != 5090)
value			= 5053

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = [5050,5059]) && (Vel Y >= IfElse(Anim = 5050,1,-2)) && (SelfAnimExist(Anim+10))
value			= (Anim+10)
persistent		= 0

[State 5050:	Null]
type			= Null
trigger1		= (!Time) || (!Alive)
trigger1		= (Var(18) := 0)
trigger2		= (Pos Y >= -30) && (Vel Y > 0) && (Command = "DD") && (Alive)
trigger2		= (Var(18) := 1)

[State 5050:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5050:	SelfState]
type			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= IfElse((Anim = [5051,5059]) || (Anim = [5061,5069]),0,25))
value 		= 5100

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5070:	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= (IfElse(PrevStateno = 100,5071,5070))

[State 5070:	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 5071

[State 5070:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
time			= 12
waveform		= sinesquare
ampl			= 140

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    		= A
movetype		= H
physics 		= N

[State 5071:	Null]
type			= Null
trigger1		= (!Time) || (!Alive)
trigger1		= (Var(18) := 0)
trigger2		= (Pos Y >= -30) && (Vel Y > 0) && (Command = "DD") && (Alive)
trigger2		= (Var(18) := 1)

[State 5071:	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= (IfElse(Anim = 5071,GetHitVar(XVel)*(Facing*-1),GetHitVar(XVel)*Facing))
y 			= (GetHitVar(YVel))

[State 5071:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= GetHitVar(YAccel)

[State 5071:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S(Var(20)),26

[State 5071: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (IfElse(Anim = 5071,(Pos Y >= 20),(Pos Y >= 15)))
value 		= 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type			= L
movetype		= H
physics		= N
velset		= 0,0

[State 5080:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(2)		= IfElse(GetHitVar(YVel) = 0,5080,5090)

[State 5080:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && ((Anim = [5081,5089]) || (Anim = [5111,5119])) && (SelfAnimExist(SysVar(2) + (Anim%10)))
sysvar(2)		= (Anim%10)

[State 5080:	VarSet]
type			= VarSet
trigger1		= (!Time) && (SysVar(2) = 5090) && (!SelfAnimExist(5090))
sysvar(2)		= 5030

[State 5080:	ChangeAnim]
type			= ChangeAnim
trigger1		= 1
value			= SysVar(2)

[State 5080:	ChangeState]
type			= ChangeState
trigger1		= (HitShakeOver)
value			= IfElse(GetHitVar(YVel) = 0,5081,5030)

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type			= L
movetype		= H
physics		= C

[State 5081:	HitVelSet]
type			= HitVelSet
trigger1		= (!Time)
x			= 1

[State 5081:	VelSet]
type			= VelSet
trigger1		= (HitOver)
x			= 0

[State 5081:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(0)		= 1

[State 5081:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Random < 500) && (Alive)
value			= S(Var(20)),25

[State 5081:	ChangeState]
type			= ChangeState
trigger1		= (HitOver)
value			= 5110

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type			= L
movetype		= H
physics		= N

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0) && (Vel X > 1)
x			= 1

[State 5100:	EnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 5100:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(1)		= Floor(Vel Y)

[State 5100:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= ((Anim != [5051,5059]) && (Anim != [5061,5069])) || (!SelfAnimExist(5100 + (Anim % 10)))
value			= 5100

[State 5100:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5051,5059]) || (Anim = [5061,5069])) && (SelfAnimExist(5100 + (Anim % 10)))
value			= 5100 + (Anim % 10)

[State 5100:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelMul]
type			= VelMul
trigger1		= (!Time)
x			= 0.75

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1		= (Time = 1) && (Random < 500) && (Alive)
value 		= S(Var(20)),26

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time)
value 		= S1,8

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0)
value			= 5110

[State 5100:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (Time = 1)
pos			= 0,0
under			= SysVar(1) <= 10
value			= (60 + (SysVar(1) > 5) + (SysVar(1) > 14))

[State 5100:	HitFallDamage]
type			= HitFallDamage
trigger1		= (Time = 3)

[State 5100:	PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5101

[State 5100:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
waveform		= SineSquare
ampl			= 128,-3,-.2,.005
time			= 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type			= L
movetype		= H
physics		= N

[State 5101:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim != [5101,5109]) || (!SelfAnimExist(5160 + (Anim % 10)))
value			= 5160

[State 5101:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim = [5101,5109]) && (SelfAnimExist(5160 + (Anim % 10)))
value			= 5160 + (Anim % 10)

[State 5101:	HitFallVel]
type			= HitFallVel
trigger1		= (!Time)

[State 5101:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5101:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= 0.40

[State 5101:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type			= L
movetype		= H
physics		= N

[State 5110:	FallEnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 5110:	ChangeAnim]
type			= ChangeAnim
trigger1		= (SelfAnimExist(5110 + (Anim % 10))) && (Anim = [5081,5089])
value			= 5110 + (Anim % 10)
persistent		= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (Anim != [5110,5119])
trigger1		= (Anim != [5161,5169]) || (!SelfAnimExist(5170 + (Anim % 10)))
value			= 5170

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (Anim != [5110,5119])
trigger1		= (Anim = [5161,5169]) && (SelfAnimExist(5170 + (Anim % 10)))
value			= 5170 + (Anim % 10)

[State 5110:	HitFallDamage]
type			= HitFallDamage
trigger1		= (!Time)

[State 5110:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5110:	VarSet]
type			= VarSet
trigger1		= (!Time) && (GetHitVar(fall.YVel) != 0)
sysvar(1)		= Floor(Vel Y)

[State 5110: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time) && (!SysVar(0))
value 		= S1,3

[State 5110:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (!Time) && (!SysVar(0))
pos			= 0,0
under			= SysVar(1) <= 10
value			= 60 + (SysVar(1) > 5) + (SysVar(1) > 14)

[State 5110:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Anim = [5171,5179]) && (SelfAnimExist(5110 + (Anim % 10)))
trigger1		= (!AnimTime) || (SysVar(0))
value			= 5110 + (Anim % 10)
persistent		= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Anim != [5111,5119])
trigger1		= (!AnimTime) || (SysVar(0))
value			= 5110
persistent		= 0

[State 5110:	ChangeState]
type			= ChangeState
trigger1		= (Var(18) = 1) && (Time > 5) && (Alive)
value			= 5125

[State 5110:	ChangeState]
type			= ChangeState
triggerall		= (!Alive)
trigger1		= (!AnimTime) || (SysVar(0)) || (Anim = [5110,5119])
value			= 5150

[State 5110:	VarSet]
type			= VarSet
trigger1		= (SysVar(0)) && (!Time)
sysvar(0)		= 0

[State 5110:	VelMul]
type			= VelMul
trigger1		= 1
x			= 0.85

[State 5110:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Alive) && (!Time)
time			= 8
ampl			= 240
waveform		= Sine

[State 5110:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Alive) && (!Time)
ampl			= 200,7,-.467
time			= 30
waveform		= Sine

;---------------------------------------------------------------------------
; HIT_LIEDOWN (Opponent)
[Statedef 5111]
type			= L
movetype		= H
physics		= N

[State 5111:	FallEnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 5111:	ChangeAnim]
type			= ChangeAnim
trigger1		= (SelfAnimExist(5110 + (Anim % 10))) && (Anim = [5081,5089])
value			= 5110 + (Anim % 10)
persistent		= 0

[State 5111:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (Anim != [5110,5119])
trigger1		= (Anim != [5161,5169]) || (!SelfAnimExist(5170 + (Anim % 10)))
value			= 5170

[State 5111:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (Anim != [5110,5119])
trigger1		= (Anim = [5161,5169]) && (SelfAnimExist(5170 + (Anim % 10)))
value			= 5170 + (Anim % 10)

[State 5111:	HitFallDamage]
type			= HitFallDamage
trigger1		= (!Time)
value			= 0

[State 5111:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5111:	VarSet]
type			= VarSet
trigger1		= (!Time) && (GetHitVar(fall.YVel) != 0)
sysvar(1)		= Floor(Vel Y)

[State 5111: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time) && (!SysVar(0))
value 		= F7, (SysVar(1) > 5) + (SysVar(1) > 14)

[State 5111:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (!Time) && (!SysVar(0))
pos			= 0,0
under			= SysVar(1) <= 10
value			= 60 + (SysVar(1) > 5) + (SysVar(1) > 14)

[State 5111:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5111:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Anim = [5171,5179]) && (SelfAnimExist(5110 + (Anim % 10)))
trigger1		= (!AnimTime) || (SysVar(0))
value			= 5110 + (Anim % 10)
persistent		= 0

[State 5111:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Anim != [5111,5119])
trigger1		= (!AnimTime) || (SysVar(0))
value			= 5110
persistent		= 0

[State 5111:	ChangeState]
type			= ChangeState
trigger1		= (Time > 40)
value			= 5121

[State 5111:	SelfState]
type			= SelfState
triggerall		= (!Alive)
trigger1		= (!AnimTime) || (SysVar(0)) || (Anim = [5110,5119])
value			= 5150

[State 5111:	VarSet]
type			= VarSet
trigger1		= (SysVar(0)) && (!Time)
sysvar(0)		= 0

[State 5111:	VelMul]
type			= VelMul
trigger1		= 1
x			= 0.85

[State 5111:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Alive) && (!Time)
time			= 8
ampl			= 240
waveform		= Sine

[State 5111:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Alive) && (!Time)
ampl			= 200,7,-.467
time			= 30
waveform		= Sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type			= L
movetype		= I
physics		= N

[State 5120:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim != [5111,5119]) || (!SelfAnimExist(5120 + (Anim % 10))))
value			= 5120

[State 5120:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim = [5111,5119]) && (SelfAnimExist(5120 + (Anim % 10)))
value			= 5120 + (Anim % 10)

[State 5120: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= 0

[State 5120:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA
time			= 10

[State 5120:	HitFallSet]
type			= HitFallSet
trigger1		= (!AnimTime)
value			= 1

[State 5120:	NotHitBy]
type			= NotHitBy
trigger1		= (!AnimTime)
value			= , NT,ST,HT
time			= 12

[State 5120:	NotHitBy]
type			= NotHitBy
trigger1		= (!AnimTime)
value2		= SCA
time			= 3

[State 5120:	CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 7)
value			= 1

[State 5120:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
; HIT_GETUP (Opponent)
[Statedef 5121]
type			= L
movetype		= H
physics		= N

[State 5121:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim != [5111,5119]) || (!SelfAnimExist(5120 + (Anim % 10))))
value			= 5120

[State 5121:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim = [5111,5119]) && (SelfAnimExist(5120 + (Anim % 10)))
value			= 5120 + (Anim % 10)

[State 5121: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= 0

[State 5121:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 5121:	HitFallSet]
type			= HitFallSet
trigger1		= (!AnimTime)
value			= 0

[State 5121:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 6300

;---------------------------------------------------------------------------
; HIT_GETUP (Quick Recovery)
[Statedef 5125]
type			= L
movetype		= I
physics		= N
anim			= 5125

[State 5125:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(18)		= 0

[State 5125: 	PosAdd]
type 			= PosAdd
trigger1 		= (AnimElem = 4)
x 			= -20

[State 5125: 	VelSet]
type 			= VelSet
trigger1 		= (!Time) || (AnimElem = 7)
x 			= 0

[State 5125: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -2.25

[State 5125:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S(Var(20)),3
channel		= 0

[State 5125:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA
time			= 10

[State 5125:	HitFallSet]
type			= HitFallSet
trigger1		= (!AnimTime)
value			= 1

[State 5125:	NotHitBy]
type			= NotHitBy
trigger1		= (!AnimTime)
value			= , NT,ST,HT
time			= 12

[State 5125:	NotHitBy]
type			= NotHitBy
trigger1		= (!AnimTime)
value2		= SCA
time			= 3

[State 5125:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Collapse
[Statedef 5130]
type 			= S
movetype		= H
physics		= S
anim			= 5130
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -3

[State 5130:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoKOSND

[State 5130:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5130: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 5130:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5130:	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 1)
value			= S(Var(20)),19

[State 5130:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,12

[State 5130:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5150

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type			= L
movetype		= H
physics		= N
sprpriority		= -3

[State 5150:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (SelfAnimExist(5140))
trigger1		= ((Anim != [5111,5119]) && (Anim != [5171,5179])) || (!SelfAnimExist(5140 + (Anim % 10)))
value			= 5140

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5111,5119]) || (Anim = [5171,5179])) && (SelfAnimExist(5140 + (Anim % 10)))
value			= 5140 + (Anim % 10)

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (MatchOver = 1) && (Anim = [5140,5149]) && (SelfAnimExist(Anim + 10))
value			= Anim + 10
persistent		= 0

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != [5140,5159]) && (Anim != [5110,5119])
value			= 5110

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (PrevStateNo = 5130) && (Anim != 5131)
value			= 5131

[State 5150:	VelMul]
type			= VelMul
trigger1		= 1
x			= 0.85

[State 5150:	VelSet]
type			= VelSet
trigger1		= (Vel X < .05)
x			= 0
persistent		= 0

[State 5150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA
time			= 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type			= A
movetype		= H
physics 		= N

[State 5200:	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim = 5035) && (!AnimTime)
value 		= 5050

[State 5200:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= 0.35

[State 5200:	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 10)
value 		= 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type			= A
movetype		= H
physics		= A
anim			= 5200

[State 5201: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (P2Dist X < -5)

[State 5201: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -.15
y 			= -3.5

[State 5201: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 5201: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 5201: 	PalFX]
type 			= PalFX
trigger1 		= (!Time)
time 			= 5
add 			= 128,128,128

[State 5201:	Explod]
type			= Explod
trigger1 		= (Time = 1)
anim			= F60
id			= 60
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type			= A
movetype		= I
physics		= N
anim			= 5210
ctrl			= 0

[State 5210:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 5
add			= 128,128,128

[State 5210:	PosFreeze]
type			= PosFreeze
trigger1		= (!Time)
value			= 4

[State 5210:	Turn]
type			= Turn
trigger1		= (!Time) && (P2Dist X < -20)

[State 5210:	VelMul]
type			= VelMul
trigger1		= (Time = 4)
x			= .8
y			= .8

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4)
y			= -8

[State 5210:	VelMul] 
type			= VelMul
trigger1		= (Time = 4) && (Vel Y > 0)
y			= .5

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Vel Y > -3)
y			= -2

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Vel Y > -2)
y			= -1

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Command = "holdup")
y			= -2

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Command = "holddown")
y			= 1.5

[State 5210:	VelMul]
type			= VelMul
trigger1		= (Time = 4) && (Command = "holdfwd")
x			= 1

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Command = "holdback")
x			= -1

[State 5210:	NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 15

[State 5210:	CtrlSet]
type			= CtrlSet
trigger1		= (Time = 20)
value			= 1

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time >= 4)
y			= 0.35

[State 5210: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 52
ctrl 			= 1

;---------------------------------------------------------------------------
;Dizzy State
[Statedef 5300]
type 			= S
movetype		= I
physics 		= S
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5300: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 200)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
;Continue?
[Statedef 5500]
type 			= S
anim 			= 5300
velset 		= 0,0
ctrl 			= 0

[State 5500: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (SelfAnimExist(5500))
value 		= 5500

;---------------------------------------------------------------------------
;Initialize
[Statedef 5900]
type 			= S
;anim			= 5900

[State 5900: 	AssertSpecial]
type			= AssertSpecial
trigger1 		= (!Time) && (RoundNo = 1)
flag			= Invisible
flag2			= NoShadow
flag3			= NoBarDisplay

[State 5900:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (RoundNo > 1)
value			= (IfElse(PalNo = 12,2,0))

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (RoundNo = 1)
value 		= 190

;---------------------------------------------------------------------------
;Dizzy State (Opponent)
[Statedef 6300]
type 			= S
movetype		= H
physics 		= N
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 6300: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 300)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
;Dizzy State (Opponent)
[Statedef 6301]
type 			= S
movetype		= H
physics 		= N
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 6301: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 5)
value 		= 0
ctrl 			= 1

;===========================================================================
;-| Effects |---------------------------------------------------------------

;---------------------------------------------------------------------------

;===========================================================================
;-| Constants |-------------------------------------------------------------

[Statedef -2]

;---------------------------------------------------------------------------
;Miscellaneous

[State -2:		DisplayToClipBoard]
type			= DisplayToClipBoard
trigger1		= 1
text			= "Pos X: %f | Pos Y: %f | P2Dist X: %f \n"
params		= (Pos X),(Pos Y),(P2Dist X)
ignorehitpause	= 1

[State -2:		AppendToClipBoard]
type			= AppendToClipBoard
trigger1		= 1
text			= "Stun: %d | Stun Escape: %d | HitShakeTime: %d | Combo: %d"
params		= (Var(25)),(Var(26)),(Var(17)),(Var(11)) 
ignorehitpause	= 1

[State -2:		AssertSpecial]
type			= AssertSpecial
trigger1		= (Var(21) > 0) || (Var(25) > ((EnemyNear, LifeMax)*0.064)) || (Var(25) = -1)
trigger2		= (NumTarget > 0)
trigger2		= (Target, StateNo = 6300) || (Target, StateType != A)
flag			= NoJuggleCheck
ignorehitpause	= 1

[State -2:		PosSet]
type			= PosSet
trigger1		= (!Time) && (MoveType = H) && (PrevStateNo = 100) && (Pos Y < 0)
y			= 0

;---------------------------------------------------------------------------
;Artificial Intelligence

[State -2:		Helper]
type			= null;Helper
trigger1 		= (NumHelper(11000) = 0) && (RoundState = 2) && (Var(2) = 0) && (Var(2) != -1)
helpertype		= Normal
name			= "Artificial Intelligence"
id			= 11000
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11000
keyctrl		= 1
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State -2:		Null]
type			= Null
trigger1		= (NumHelper(11000) = 0) && (Var(2) = 2)
trigger1		= (Var(2) := -1)
trigger2		= (Var(2) = 1)
trigger2		= (Var(2) := 2)
trigger3		= (RoundState != 2)
trigger3		= (Var(2) := 0)
trigger4		= (RoundState = 2) && ((Command = "AI") || (Command = "AI2") || (Command = "AI3") || (Command = "AI4") || (Command = "AI5"))
trigger4		= (Var(2) := 3)
trigger5		= (RoundState = 2) && ((Command = "AI6") || (Command = "AI7") || (Command = "AI8") || (Command = "AI9") || (Command = "AI10"))
trigger5		= (Var(2) := 3)
trigger6		= (RoundState = 2) && ((Command = "AI1") || (Command = "AI12") || (Command = "AI13") || (Command = "AI14") || (Command = "AI15"))
trigger6		= (Var(2) := 3)
trigger7		= (RoundState = 2) && ((Command = "AI16") || (Command = "AI17") || (Command = "AI18") || (Command = "AI19") || (Command = "AI20"))
trigger7		= (Var(2) := 3)
trigger8		= ((!Time) * (TicksPerSecond)) && (IsHomeTeam) && (NumEnemy = 1) && (!NumPartner) && (TeamSide = 2) && (Alive)
trigger8		= (Var(2) := 3)

[State -2:		ChangeState]
type			= ChangeState
trigger1		= (RoundState = 3) && (StateType != A) && (Ctrl)
value			= 0

;---------------------------------------------------------------------------
;Combo Detection

[State -2:		Null]
type			= Null
trigger1		= (Var(3) := 0)
trigger2		= (MoveContact) && (((StateNo = 200) && (AnimElem = 3, > 0) && (AnimElem = 5, < 0)) || ((StateNo = 201) && (AnimElem = 7, > 0) && (AnimElem = 9, < 0)) || ((StateNo = 205) && (AnimElem = 4, > 0) && (AnimElem = 6, < 0)))
trigger2		= (Var(3) := 1)
trigger3		= (MoveContact) && (((StateNo = 215) && (AnimElem = 4, > 0) && (AnimElem = 6, < 0)) || ((StateNo = 225) && (AnimElem = 7, > 0) && (AnimElem = 8, < 0)))
trigger3		= (Var(3) := 1)
trigger4		= (MoveContact) && ((StateNo = 210) && (PrevStateNo = 230) && (AnimElem = 4, > 0) && (AnimElem = 6, < 0))
trigger4		= (Var(3) := 1)
trigger5		= (MoveContact) && ((StateNo = [230,231]) && (AnimElem = 3, > 0) && (AnimElem = 5, < 0))
trigger5		= (Var(3) := 1)
trigger6		= (MoveContact) && (((StateNo = 400) && (AnimElem = 3, > 0) && (AnimElem = 5, < 0)) || ((StateNo = 410) && (AnimElem = 4, > 0) && (AnimElem = 6, < 0)))
trigger6		= (Var(3) := 1)
trigger7		= (MoveContact) && (((StateNo = 430) && (AnimElem = 2, > 0) && (AnimElem = 4, < 0)) || ((StateNo = 440) && (AnimElem = 4, > 0) && (AnimElem = 6, < 0)))
trigger7		= (Var(3) := 1)
trigger8		= (MoveContact) && (((StateNo = 1010) && (AnimElem = 13, > 2)) || ((StateNo = 1020) && (AnimElem = 15, > 0)))
trigger8		= (Var(3) := 1)
trigger9		= (StateNo = [1000,2999]) && (StateNo != [1040,1041]) && (Pos Y >= 0) && (Time < 10)
trigger9		= (Var(3) := 2)
trigger10		= (MoveContact) && (((StateNo = 1010) && (AnimElem = 12, < 0)) || ((StateNo = 1020) && (AnimElem = 12, < 0)))
trigger10		= (Var(3) := 2)
trigger11		= (MoveContact) && ((StateNo = 222) || ((StateNo = 2020) && (AnimElem = 12, < 0)))
trigger11		= (Var(3) := 2)
trigger12		= (MoveContact) && (((StateNo = 1061) && (AnimElem = 5, < 0)) || ((StateNo = 2061) && (AnimElem = 5, < 0)))
trigger12		= (Var(3) := 2)
ignorehitpause	= (IfElse(Var(21) > 0,0,1))

;---------------------------------------------------------------------------
;Damage Modifiers

[State -2:		VarSet]
type			= VarSet
trigger1		= (P2MoveType != H) && (Var(11) > 0)
var(11)		= 0

[State -2:		AttackMulSet]
type			= AttackMulSet
trigger1		= (Var(21) = 0)
value			= (IfElse((P2StateType = C),1.23,1)) - (((Var(25) > ((EnemyNear, LifeMax)*0.064)) && (P2StateType = A))*0.75)

;---------------------------------------------------------------------------
;Parrying

[State -2: 		Null]
type 			= Null
trigger1 		= (!Time) && (Var(13) = 0)
trigger1 		= ((Command = "holdfwd") && (StateNo = [0,20])) ^^ ((Command = "holddown") && (StateNo = [0,12]))
trigger1 		= (Var(12) := 8)
trigger2 		= (Command != "holdfwd") && (Command != "holddown") && (Var(13) = 1)
trigger2 		= (Var(13) := 0)
trigger3 		= (Var(12) = 0)
trigger3 		= ((Command = "holdfwd") && (StateNo = [160,165])) ^^ ((Command = "holddown") && (StateNo = [160,165]))
trigger3 		= (Var(12) := 5)
trigger4		= (Var(12) < 0) && (StateNo != [160,165])
trigger4		= (Var(12) := 0)
trigger5		= (StateNo = [150,165])
trigger5		= (Var(14) := 1)
trigger6		= (StateNo != [150,165]) && (StateNo != [7000,7005]) && (Var(14) = 1)
trigger6		= (Var(14) := 0)
ignorehitpause 	= 1

[State -2: 		VarAdd]
type 			= VarAdd
trigger1 		= (Var(12) > 0)
var(12) 		= (IfElse((StateNo = [160,165]),-2,-1))
ignorehitpause 	= 1

[State -2: 		Helper]
type 			= Helper
trigger1 		= ((StateNo = 50) || (StateNo = 7005)) && (Command = "holdfwd") && (NumHelper(7006) = 0)
helpertype 		= Normal
name 			= "Air Parry"
id 			= 7006
pos 			= 0,0
postype 		= p1
facing 		= 0
stateno 		= 7006
keyctrl 		= 0
ownpal 		= 1
supermovetime 	= 0
pausemovetime 	= 0
ignorehitpause 	= 1

[State -2: 		HitOverride]
type 			= HitOverride
triggerall 		= (StateType != A) && (Ctrl) && (Var(12) > 0)
trigger1 		= (Command != "holddown") && (Command != "holdback")
attr 			= SA,NA,SA,HA,NP,SP,HP
slot 			= 0
stateno 		= 7000
ignorehitpause 	= 1

[State -2: 		HitOverride]
type 			= HitOverride
triggerall 		= (StateType != A) && (StateNo = 161) && (Var(12) > 0)
trigger1 		= (Command != "holddown") && (Command != "holdback")
attr 			= SA,NA,SA,HA,NP,SP,HP
slot 			= 1
stateno 		= 7000
ignorehitpause 	= 1

[State -2: 		HitOverride]
type 			= HitOverride
triggerall 		= (StateType != A) && (Ctrl) && (Var(12) > 0) && (StateType = C)
trigger1 		= (Command != "holdfwd") && (Command != "holdback")
attr 			= C,NA,SA,HA
slot 			= 0
stateno 		= 7000
ignorehitpause 	= 1

[State -2: 		HitOverride]
type 			= HitOverride
triggerall 		= (StateType != A) && (StateNo = 163) && (Var(12) > 0) && (StateType = C)
trigger1 		= (Command != "holdfwd") && (Command != "holdback")
attr 			= C,NA,SA,HA
slot 			= 1
stateno 		= 7000
ignorehitpause 	= 1

[State -2: 		HitOverride]
type 			= HitOverride
triggerall 		= ((StateNo = 50) || (StateNo = 7005) || (StateNo = 165)) && (Var(12) > 0)
trigger1 		= (Command != "holddown") && (Command != "holdback")
attr 			= SCA,NA,SA,HP,NP,SP,HP
slot 			= 0
stateno 		= 7005
ignorehitpause 	= 1

[State -2:		RemoveExplod]
type			= RemoveExplod
trigger1		= (NumExplod(9130) > 0) && (StateNo != [7000,7005])
id			= 9130
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Nage

[State -2: 		PlaySnd]
type 			= PlaySnd
triggerall 		= (NumTarget(810) = 1) || (NumTarget(811) = 1)
trigger1		= (Target, StateNo = 817) && (Target, Time = 1)
value 		= S1,8
pan			= Floor(P2Dist X)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Cornerpush Minimum Distance

[State -2:		VarSet]
type			= VarSet
trigger1		= (EnemyNear, Pos Y >= 0) || ((StateNo = 100) && (FrontEdgeBodyDist < 50))
trigger2		= ((StateNo = [600,650]) && (MoveContact)) || (Var(21) > 0)
var(19)		= 0
ignorehitpause	= 1

[State -2:		Width]
type			= Width
trigger1		= (Var(19) = 1) && (EnemyNear, Pos Y < 0) && (Pos Y >= -70) && (StateNo != 100)
edge			= (IfElse((Var(25) > ((EnemyNear, LifeMax)*0.064)),80,60)),0
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Voices

[State -2:		VarSet]
type			= VarSet
trigger1		= (!Time) * (TicksPerSecond)
var(20)		= (IfElse((PalNo = [7,11]),3,IfElse((PalNo = 12),5,0)))
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Genei Jin

[State -2:		VarAdd]
type			= VarAdd
trigger1		= (StateNo != 3020) && (Var(21) > 0) && ((GameTime%5) = 0)
var(21)		= -1
ignorehitpause	= 1

[State -2:		ChangeAnim]
type 			= ChangeAnim
triggerall		= (Var(21) > 0) && ((StateNo = [200,250]) || (StateNo = [400,450]) || (StateNo = 1010)) && (StateNo != 247)
trigger1 		= (AnimElemTime(AnimElemNo(0) + 1) < 0)
trigger1 		= (AnimElemTime(AnimElemNo(0)) > Floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/3))
value 		= (Anim)
elem 			= (AnimElemNo(0) + 1)
ignorehitpause	= 1

[State -2:		ChangeAnim]
type 			= ChangeAnim
triggerall		= (Var(21) > 0) && ((StateNo = [1000,1001]) || (StateNo = 1030))
trigger1 		= (AnimElemTime(AnimElemNo(0) + 1) < 0)
trigger1 		= (AnimElemTime(AnimElemNo(0)) > Floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/1.5))
value 		= (Anim)
elem 			= (AnimElemNo(0) + 1)
ignorehitpause	= 1

[State -2:		AttackMulSet]
type			= AttackMulSet
trigger1		= (Var(21) > 0)
value			= 0.4 + ((P2StateType = C)*0.115)
ignorehitpause	= 1

[State -2:		AttackMulSet]
type			= AttackMulSet
trigger1		= (Var(21) = [1,5])
value			= 1 + ((P2StateType = C)*0.23)
ignorehitpause	= 1

[State -2:		PowerSet]
type			= PowerSet
trigger1		= (Var(21) > 0)
value			= (Var(22))
ignorehitpause	= 1

[State -2:		AfterImage]
type 			= AfterImage
trigger1 		= (Var(21) > 5) && ((GameTime%10) = 0)
time 			= 15
timegap		= 3
framegap 		= 2
length 		= 8
paladd 		= 0,100,0
palmul 		= 1,1,1
palcontrast 	= 150,250,150
palcolor		= 15
trans 		= none
ignorehitpause	= 1

[State -2:		PalFX]
type 			= PalFX
trigger1		= (Var(21) > 0) && ((GameTime%2) = 0)
time 			= 1
add 			= 0,100,0
mul 			= 256,256,256
sinadd 		= 0,125,0,1
invertall 		= 0
color 		= 256
ignorehitpause	= 1

[State -2:		Explod]
type			= Explod
trigger1		= (Var(21) > 0) && ((GameTime%30) = 0) && (Random <= 799)
anim			= Anim
id			= 3020
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 15,15
removetime		= 1
supermove		= 0
supermovetime	= 1
pausemovetime	= 1
scale			= 1,1
sprpriority		= -2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Super KO

[State -2:		VarSet]
type			= VarSet
trigger1		= (!WinKO) && (Var(23) != 0)
v			= 23
value			= 0
ignorehitpause	= 1

[State -2:		VarAdd]
type			= VarAdd
trigger1		= (Win) && (Var(23) < 2)
v 			= 23
value 		= 1
ignorehitpause	= 1

[State -2:		Pause]
type			= Pause
trigger1		= (Var(23) = 1) && (HitDefAttr = SCA,SA) && (Var(21) > 0) 
time			= 40
ignorehitpause	= 1

[State -2:		Helper]
type			= Helper
trigger1		= (Var(23) = 1) && (HitDefAttr = SCA,SA) && (Var(21) > 0) && (NumHelper(9001) = 0)
helpertype		= Normal
name			= "SuperKO"
id			= 9001
pos			= 0,0
postype		= left
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 40
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Stun

[State -2:		Null]
type			= Null
trigger1		= ((Var(21) > 0) && (Var(25) > 0)) || ((Var(25) = -1) && (NumTarget <= 0))
trigger1		= (Var(25) := 0)
trigger2		= (NumTarget > 0)
trigger2		= (Target, StateNo = 6300) && (Var(26) = 0)
trigger2		= (Var(26) := 70)
trigger3		= (NumTarget > 0)
trigger3		= (Target, StateNo = 6301)
trigger3		= (Var(26) := 0)
trigger4		= (Var(26) > 0) && (NumTarget = 0)
trigger4		= (Var(26) := 0)
trigger5		= (NumTarget > 0)
trigger5		= (Target, StateNo = 5111) || (Target, StateNo = 6300)
trigger5		= (Var(25) := -1)
ignorehitpause	= 1

[State -2:		VarAdd]
type			= VarAdd
trigger1		= (Var(25) = [1,((EnemyNear, LifeMax)*0.064)]) && ((GameTime%22) = 0)
var(25)		= -1
ignorehitpause	= 1

[State -2:		VarAdd]
type			= VarAdd
triggerall		= (NumTarget > 0)
triggerall		= (Target, StateNo = 6300) && (Var(26) > 0)
trigger1		= (Target, Command = "x") || (Target, Command = "y") || (Target, Command = "z")
trigger2		= (Target, Command = "a") || (Target, Command = "b") || (Target, Command = "c")
var(26)		= -1

[State -2:		PlaySnd]
type			= PlaySnd
trigger1		= (NumTarget > 0)
trigger1		= (Target, StateNo = 6300) && (Target, Time = 5)
value			= S1,14
pan			= Floor(P2Dist X)
ignorehitpause	= 1

[State -2:		Explod]
type			= Explod
triggerall		= (NumTarget > 0) && (NumExplod(9160) = 0)
trigger1		= (Var(25) > ((EnemyNear, LifeMax)*0.064)) && (Target, StateNo != [6300,6301])
anim			= 9160
id			= 9160
pos			= 0,-20
postype		= p2
facing		= (IfElse(Facing = 1,-1,1))
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State -2:		TargetState]
type			= TargetState
triggerall		= (NumTarget > 0) && (Var(25) > ((EnemyNear, LifeMax)*0.064))
trigger1		= ((Target, StateNo = 5001) && (Target, HitOver)) || ((Target, StateNo = 5011) && (Target, HitOver))
value			= 6300
ignorehitpause	= 1

[State -2:		TargetState]
type			= TargetState
triggerall		= (NumTarget > 0)
trigger1		= (Target, StateNo = 6300) && (Var(26) = 1)
value			= 6301
ignorehitpause	= 1

[State -2:		TargetState]
type			= TargetState
triggerall		= (NumTarget > 0) && (Var(25) > ((EnemyNear, LifeMax)*0.064))
trigger1		= (Target, StateNo = 5101) && ((Target, Vel Y > 0) && (Target, Pos Y >= 0)) || ((Target, StateNo = 5081) && (Target, HitOver = 1))
value			= 5111
ignorehitpause	= 1

;===========================================================================
;-| Artificial Intelligence |-----------------------------------------------

;[Statedef -3]

;---------------------------------------------------------------------------
;Misc
